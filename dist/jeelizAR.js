 /**
 * Jeeliz AR - https://github.com/jeeliz/jeelizAR
 *
 * Copyright 2018 Jeeliz ( https://jeeliz.com )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

var JEEARAPI=(function(){var ha=function(){var b={n:5,Ha:1,ja:[30,45],k:.7,Dc:200,oc:.1},d,l=0,m=-1,q=-1,h=0,w=-1,k={level:-1,l:function(g){d=Object.assign({},b,g);w=k.level=d.Ha},Ac:function(g){g=g||0;var n=Math.min(Math.max(g-l,2),200);l=g;var u=-1===m?0:d.k;m=Math.min(Math.max(1E3/n,5),120)*(1-u)+m*u;g-q>d.Dc&&5<++h&&(n=d.k,w=w*(1-n)+(m<d.ja[0]?k.level-1:m>d.ja[1]?k.level+1:k.level)*n,Math.abs(w-k.level)>1-d.oc&&(n=Math.min(Math.max(Math.round(w),0),d.n-1),n!==k.level&&(w=k.level=n,m=(d.ja[1]-d.ja[0])/2)),q=g)},reset:function(){q=
m=-1;h=0}};return k}();function Ga(b,d,l){var m=new XMLHttpRequest;m.open("GET",b,!0);m.withCredentials=!1;m.onreadystatechange=function(){4===m.readyState&&(200===m.status?d(m.responseText):"undefined"!==typeof l&&l(m.status))};m.send()}
function Ha(b){switch(b){case "relu":return"gl_FragColor=max(vec4(0.,0.,0.,0.),gl_FragColor);";case "elu":return"gl_FragColor=mix(exp(-abs(gl_FragColor))-vec4(1.,1.,1.,1.),gl_FragColor,step(0.,gl_FragColor));";case "elu01":return"gl_FragColor=mix(0.1*exp(-abs(gl_FragColor))-vec4(0.1,0.1,0.1,0.1),gl_FragColor,step(0.,gl_FragColor));";case "arctan":return"gl_FragColor=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case "copy":return"";default:return!1}}
function Ka(b,d){var l=d%8;return b[(d-l)/8]>>7-l&1}
function La(b){var d=JSON.parse(b);b=d.ne;var l=d.nf,m=d.n,q="undefined"===typeof btoa?Buffer.from(d.data,"base64").toString("latin1"):atob(d.data),h=q.length,w;d=new Uint8Array(h);for(w=0;w<h;++w)d[w]=q.charCodeAt(w);q=new Float32Array(m);h=new Float32Array(l);w=b+l+1;var k,g;for(k=0;k<m;++k){var n=w*k;var u=0===Ka(d,n)?1:-1;var B=n+1;var F=1,G=0;for(g=B+b-1;g>=B;--g)G+=F*Ka(d,g),F*=2;g=G;B=d;F=n+1+b;G=h;var J=0,L=G.length;for(n=F;n<F+L;++n)G[J]=Ka(B,n),++J;for(n=B=0;n<l;++n)B+=h[n]*Math.pow(2,-n-
1);u=0===B&&0===g?0:u*(1+B)*Math.pow(2,1+g-Math.pow(2,b-1));q[k]=u}return q}
var x=function(){function b(e,r){e=a.createShader(e);a.shaderSource(e,r);a.compileShader(e);return a.getShaderParameter(e,a.COMPILE_STATUS)?e:!1}function d(e,r){e=b(a.VERTEX_SHADER,e);r=b(a.FRAGMENT_SHADER,r);var A=a.createProgram();a.attachShader(A,e);a.attachShader(A,r);a.linkProgram(A);return A}function l(e){void 0===e.Z&&(e.Z="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");void 0===e.Ta&&(e.Ta=["a0"]);void 0===e.wa&&(e.wa=
[2]);if(void 0===e.precision||"highp"===e.precision)e.precision=g;e.id=w++;void 0!==e.rc&&e.rc.forEach(function(A,Z){e.c=e.c.replace(A,e.qa[Z])});e.Pa=0;e.wa.forEach(function(A){e.Pa+=4*A});e.pa=d(e.Z,"precision "+e.precision+" float;\n"+e.c);e.o={};e.f.forEach(function(A){e.o[A]=a.getUniformLocation(e.pa,A)});e.attributes={};e.aa=[];e.Ta.forEach(function(A){var Z=a.getAttribLocation(e.pa,A);e.attributes[A]=Z;e.aa.push(Z)});if(e.g){a.useProgram(e.pa);h=e;q=e.id;for(var r in e.g)a.uniform1i(e.o[r],
e.g[r])}e.jd=!0}function m(e){Ma.wc(I);q!==e.id&&(I.Y(),q=e.id,h=e,a.useProgram(e.pa),e.aa.forEach(function(r){0!==r&&a.enableVertexAttribArray(r)}))}var q=-1,h=!1,w=0,k=!1,g="highp",n=["u1"],u=["u0"],B={u1:0},F={u0:0},G={u1:0,u2:1},J={u3:0},L={s0:{c:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",f:n,g:B},s1:{c:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",f:n,g:B,precision:"lowp"},s2:{c:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",
f:["u1","u2"],g:G},s3:{c:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",f:n,g:B},s4:{c:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",f:["u1","mask"],g:G},s5:{c:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",f:n,g:B},s6:{c:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",
f:n,g:B},s7:{c:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u4;}",f:["u0","u4"],g:F},s8:{c:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;const vec4 g=vec4(.25,.25,.25,.25),e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u4,g);gl_FragColor=b*e;}",f:["u0","u4"],g:F},s9:{c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",
f:n,g:B},s10:{c:"uniform sampler2D u1,u5;uniform float u6;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u5,vv0);gl_FragColor=mix(b,a,u6*f);}",f:["u1","u5","u6"],g:{u1:0,u5:1}},s11:{c:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u7)+texture2D(u1,vv0+u7*vec2(1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,1.)));}",f:["u1","u7"],g:B},s12:{c:"uniform sampler2D u1;uniform vec4 u8;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 k(float a){if(a==0.)return vec4(0.,0.,0.,0.);float l=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),m=c+127.,b=(a/exp2(c)-1.)*8388608.,d=m/2.,n=fract(d)*2.,o=floor(d),p=e(b,0.,8.),q=e(b,8.,16.),r=n*128.+e(b,16.,23.),j=l+o;return vec4(p,q,r,j)/255.;}void main(){float a=dot(texture2D(u1,vv0),u8);gl_FragColor=k(a);}",
f:["u1","u8"],g:B},s13:{c:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",f:u,g:F},s14:{c:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(e,a);}",f:u,g:F},s15:{c:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-e,a,step(0.,a));}",f:u,g:F},s16:{c:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-e;gl_FragColor=mix(.1*b,a,step(0.,a));}",
f:u,g:F},s17:{c:"uniform sampler2D u0,u6,u9;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u6,vv0),d=texture2D(u9,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",f:["u0","u6","u9"],g:{u0:0,u6:1,u9:2}},s18:{c:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",f:u,g:F},s19:{c:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(.5,.5,.5,.5);void main(){vec4 a=texture2D(u0,vv0),b=log(e+a);gl_FragColor=b;}",
f:u,g:F},s20:{c:"uniform sampler2D u0;uniform float gain;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=exp(a);}",f:["u0","u10"],g:F},s21:{c:"uniform sampler2D u0,u11;uniform float u12;const vec2 f=vec2(.5,.5);const float g=1e-5;const vec4 h=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u11,f);float b=u12*u12;vec4 c=max(b*a,g*h);gl_FragColor=texture2D(u0,vv0)/c;}",f:["u0","u13","u12"],g:{u0:0,u13:1}},s22:{c:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){float a=u14.x*u14.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u14.y),g=floor(u14.x*fract(b*u14.y)),f=(g*u14.y+d)/a;gl_FragColor=texture2D(u1,f+c/a);}",
f:["u1","u14"],g:B},s23:{c:"uniform sampler2D u15,u16,u17;varying vec2 vv0;void main(){vec4 a=texture2D(u17,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u15,b),e=texture2D(u16,c);gl_FragColor=d*e;}",f:["u15","u16","u17"],g:{u16:0,u15:1,u17:2}},s24:{c:"uniform float u18;uniform sampler2D u15,u16;varying vec2 vv0;void main(){vec2 a=fract(vv0*u18);vec4 b=texture2D(u15,vv0),c=texture2D(u16,a);gl_FragColor=b*c;}",f:["u16","u15","u18"],g:{u16:0,u15:1}},s25:{c:"uniform float u18;uniform sampler2D u15,u16,u19,u20,u21,u22;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 i=vv0*u18,m=floor(i),c=i-m;vec4 n=texture2D(u15,vv0),d=texture2D(u16,c),a=texture2D(u22,vv0);a=a*255.;vec4 o=texture2D(u19,c),p=texture2D(u20,c),q=texture2D(u21,c),j=step(-g,-a),b=e-j,k=b*step(-e-g,-a);b*=e-k;vec4 h=b*step(-2.*e-g,-a);b*=e-h;vec4 l=b;d=j*d+k*o+h*p+l*q,gl_FragColor=n*d;}",
f:"u15 u16 u18 u22 u19 u20 u21".split(" "),g:{u16:0,u15:1,u22:3,u19:4,u20:5,u21:6}},s26:{c:"uniform sampler2D u15,u16,u23;uniform float u18,u24,u25,u26;varying vec2 vv0;const vec2 j=vec2(1.,1.);void main(){vec2 a=floor(u24*vv0),g=u24*vv0-a;float b=u18/u24;vec2 c=floor(g*b),d=g*b-c,h=(a+d)/u24;float l=u24*u26/u18;vec2 m=l*c,i=(m+d*u25)/u26,e=step(i,j);vec4 n=texture2D(u15,h),o=texture2D(u16,i),p=n*o*e.x*e.y,k=texture2D(u23,h);gl_FragColor=p*u25*u25+k;}",f:"u15 u16 u18 u24 u25 u26 u23".split(" "),g:{u16:0,
u15:1,u23:2}},s27:{c:"uniform sampler2D u15,u16;varying vec2 vv0;void main(){vec4 a=texture2D(u15,vv0),b=texture2D(u16,vv0);gl_FragColor=a*b;}",f:["u15","u16"],g:{u16:0,u15:1}},s28:{c:"uniform sampler2D u1,u23;uniform float u27;varying vec2 vv0;void main(){gl_FragColor=texture2D(u23,vv0)+u27*texture2D(u1,vv0);}",f:["u1","u23","u27"],g:{u1:0,u23:1}},s29:{c:"varying vec2 vv0;uniform sampler2D u1;const vec4 g=vec4(1.,1.,1.,1.),e=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,e)*g;}",
f:n,g:B,precision:"lowp"},s30:{c:"varying vec2 vv0;uniform sampler2D u1;uniform float u28;const vec3 e=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u28)).rgb,c=texture2D(u1,vv0+vec2(u28,u28)).rgb,d=texture2D(u1,vv0+vec2(u28,0.)).rgb;gl_FragColor=vec4(dot(a,e),dot(b,e),dot(c,e),dot(d,e));}",f:["u1","u28"],g:B,precision:"lowp"},s31:{c:"varying vec2 vv0;uniform sampler2D u1;uniform float u28;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u28)).rgb,c=texture2D(u1,vv0+vec2(u28,u28)).rgb,d=texture2D(u1,vv0+vec2(u28,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
f:["u1","u28"],g:B,precision:"lowp"},s32:{c:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u29;const vec4 g=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u29,vv0.y-u29))*1.,a-=texture2D(u1,vec2(vv0.x-u29,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u29,vv0.y+u29))*1.,a+=texture2D(u1,vec2(vv0.x+u29,vv0.y-u29))*1.,a+=texture2D(u1,vec2(vv0.x+u29,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u29,vv0.y+u29))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u29,vv0.y-u29))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u29))*2.,b-=texture2D(u1,vec2(vv0.x+u29,vv0.y-u29))*1.,b+=texture2D(u1,vec2(vv0.x-u29,vv0.y+u29))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u29))*2.,b+=texture2D(u1,vec2(vv0.x+u29,vv0.y+u29))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),f=texture2D(u2,vv0);gl_FragColor=f.a*e.r*g;}",
f:["u1","u2","u29"],g:G},s33:{c:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u29;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float i=0.;vec2 l=k*u29,b,c;float d,a,g=0.;for(float f=-4.;f<=4.;f+=1.)for(float e=-4.;e<=4.;e+=1.)b=vec2(f,e),d=length(b)/2.,a=exp(-d*d),c=vv0+l*b,a=1.,i+=a*texture2D(u1,c).r,g+=a;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,c).r-i/g)*j;}",f:["u1","u2","u29"],g:G},s34:{c:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 h=vec2(.5,.5),i=vec2(1.,0.),j=vec2(0.,1.);void main(){vec2 a=vv0-u7*h;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*i),d=texture2D(u3,a+u7*j),k=texture2D(u3,a+u7),l=e(b,c),g=e(d,k);gl_FragColor=e(l,g);}",
f:["u3","u7"],g:J},s35:{c:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;const vec2 j=vec2(1.,0.),k=vec2(0.,1.),l=vec2(2.,0.),m=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*j),d=texture2D(u3,a+u7*k),g=texture2D(u3,a+u7),i=e(b,c),h=e(d,g);return e(i,h);}void main(){vec2 a=vv0+u7*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u7*l),d=f(a+u7*2.),g=f(a+u7*m),i=e(b,c),h=e(d,g);gl_FragColor=e(i,h);}",f:["u3","u7"],g:J},s36:{c:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",
f:["u1"],g:B,precision:"lowp"},s37:{c:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;const vec4 g=vec4(1.,1.,1.,1.);const float d=15444.;void main(){vec4 a=1001./d*texture2D(u1,vv0-3.*u7)+2002./d*texture2D(u1,vv0-2.*u7)+3003./d*texture2D(u1,vv0-u7)+3432./d*texture2D(u1,vv0)+3003./d*texture2D(u1,vv0+u7)+2002./d*texture2D(u1,vv0+2.*u7)+1001./d*texture2D(u1,vv0+3.*u7);gl_FragColor=a;}",f:["u7","u1"],g:B,precision:"lowp"},s38:{c:"uniform sampler2D u1,u30,u31;varying vec2 vv0;const vec4 g=vec4(1.,1.,1.,1.);const float h=.1;void main(){vec4 a=texture2D(u30,vv0),b=texture2D(u31,vv0),c=texture2D(u1,vv0),d=max(g*h,b-a*a),f=sqrt(d);gl_FragColor=(c-a)/f;}",
f:["u1","u30","u31"],g:{u1:0,u30:1,u31:2}}},K={s39:{c:"uniform float u18,u32;uniform sampler2D u15,u16,u23;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u23,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u18,xyTo=floor(vv0*u18+eps2);float weightSize=toSparsity*u18;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u32*(xyPatch-halfFromSparsity))/u18,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u15,uvWeight)*texture2D(u16,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
f:["u18","u15","u16","u23","u32"],qa:["1.1111","gl_FragColor\\*=2.2222;"]},s40:{c:"uniform float u18,u32,u26;uniform sampler2D u15,u16,u23;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u23,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u26,xyTo=floor(vv0*u18+eps2);float weightSize=fromSparsity*u26;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u18;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u32*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u26,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u15,uvWeight)*texture2D(u16,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
f:"u18 u26 u15 u16 u23 u32".split(" "),qa:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},I={Ea:function(){return k},l:function(){if(!k){g="highp";for(var e in L)l(L[e],e);x.set("s0");a.enableVertexAttribArray(0);e=Na.l();k=!0;return e}},xb:function(e){e.forEach(function(r){I.Sa(r)})},Sa:function(e){L[e.id]=e;l(e,e.id)},eb:function(e,r,A){r||(r=e);L[r]=Object.create(K[e]);K[e].qa&&K[e].qa.forEach(function(Z,Aa){L[r].c=L[r].c.replace(new RegExp(Z,"g"),A[Aa])});l(L[r],r)},set:function(e){m(L[e])},Pb:function(e){return"undefined"!==
typeof L[e]},Vc:function(){return h.Sc},Y:function(){-1!==q&&(q=-1,h.aa.forEach(function(e){0!==e&&a.disableVertexAttribArray(e)}))},Ka:function(){var e=0;h.aa.forEach(function(r,A){A=h.wa[A];a.vertexAttribPointer(r,A,a.FLOAT,!1,h.Pa,e);e+=4*A})},Rc:function(){a.enableVertexAttribArray(0)},La:function(){a.vertexAttribPointer(h.aa[0],2,a.FLOAT,!1,8,0)},ud:function(e,r){a.uniform1i(h.o[e],r)},I:function(e,r){a.uniform1f(h.o[e],r)},M:function(e,r,A){a.uniform2f(h.o[e],r,A)},vd:function(e,r){a.uniform2fv(h.o[e],
r)},xd:function(e,r){a.uniform3fv(h.o[e],r)},wd:function(e,r,A,Z){a.uniform3f(h.o[e],r,A,Z)},ra:function(e,r){a.uniform4fv(h.o[e],r)},yd:function(e,r){a.uniformMatrix2fv(h.o[e],!1,r)},zd:function(e,r){a.uniformMatrix3fv(h.o[e],!1,r)},Ad:function(e,r){a.uniformMatrix4fv(h.o[e],!1,r)},u:function(e,r){I.set(e);r.forEach(function(A){switch(A.type){case "4f":a.uniform4fv(h.o[A.name],A.value);break;case "3f":a.uniform3fv(h.o[A.name],A.value);break;case "2f":a.uniform2fv(h.o[A.name],A.value);break;case "1f":a.uniform1f(h.o[A.name],
A.value);break;case "1i":a.uniform1i(h.o[A.name],A.value);break;case "mat2":a.uniformMatrix2fv(h.o[A.name],!1,A.value);break;case "mat3":a.uniformMatrix3fv(h.o[A.name],!1,A.value);break;case "mat4":a.uniformMatrix4fv(h.o[A.name],!1,A.value)}})},cd:function(){return"lowp"}};return I}(),a=!1,Ya=function(){function b(g){console.log("ERROR in ContextFeedForward : ",g);return!1}var d=!1,l=!1,m=!1,q=!1,h=!0,w=!1,k={C:function(){return d.width},L:function(){return d.height},Wc:function(){return d},Uc:function(){return a},
s:function(){return h},flush:function(){a.flush()},Tb:function(){w||(w=new Uint8Array(d.width*d.height*4));a.readPixels(0,0,d.width,d.height,a.RGBA,a.UNSIGNED_BYTE,w);return w},Yc:function(){return d.toDataURL("image/jpeg")},Zc:function(){M.J();l||(l=document.createElement("canvas"),m=l.getContext("2d"));l.width=d.width;l.height=d.height;var g=k.Tb(),n=m.createImageData(l.width,l.height),u,B,F=l.width,G=l.height,J=n.data;for(B=0;B<G;++B){var L=G-B-1;for(u=0;u<F;++u){var K=4*(B*F+u);var I=4*(L*F+u);
J[K]=g[I];J[K+1]=g[I+1];J[K+2]=g[I+2];J[K+3]=g[I+3]}}m.putImageData(n,0,0);return l.toDataURL("image/png")},Xc:function(g){!l&&g&&(l=document.createElement("canvas"),m=l.getContext("2d"));var n=g?l:document.createElement("canvas");n.width=d.width;n.height=d.height;(g?m:n.getContext("2d")).drawImage(d,0,0);return n},l:function(g){g.Hb&&!g.da?d=document.getElementById(g.Hb):g.da&&(d=g.da);d||(d=document.createElement("canvas"));d.width=g&&void 0!==g.width?g.width:512;d.height=g&&void 0!==g.height?g.height:
512;"undefined"===typeof g&&(g={});void 0===g.premultipliedAlpha&&(g.premultipliedAlpha=!1);void 0===g.gb&&(g.gb=!0);void 0===g.antialias&&(g.antialias=!1);var n={antialias:g.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:g.premultipliedAlpha,stencil:!1,depth:g.gb};a:{if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){var u=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);u=[parseInt(u[1],10),parseInt(u[2],10),parseInt(u[3]||0,10)];if(12===u[0]||13===u[0]){u=!0;
break a}}u=!1}u||(a=d.getContext("webgl2",n));a?h=!0:((a=d.getContext("webgl",n))||(a=d.getContext("experimental-webgl",n)),h=!1);if(!a)return b("WebGL is not enabled");(q=a.getExtension("WEBGL_lose_context"))&&d.addEventListener("webglcontextlost",g.mc,!1);if(!Xa.l())return b("Not enough capabilities");if(!Xa.Cb()&&h)return b("Your configuration cannot process color buffer float");a.clearColor(0,0,0,0);a.disable(a.DEPTH_TEST);a.disable(a.BLEND);a.disable(a.DITHER);a.disable(a.STENCIL_TEST);a.GENERATE_MIPMAP_HINT&&
a.hint(a.GENERATE_MIPMAP_HINT,a.FASTEST);a.disable(a.SAMPLE_ALPHA_TO_COVERAGE);a.disable(a.SAMPLE_COVERAGE);return!0},bc:function(){if(!x.l())return!1;a.depthFunc(a.LEQUAL);a.clearDepth(1);return!0}};return k}(),Ma=function(){var b="undefined"===typeof x?JEShaders:x;return{wc:function(d){b!==d&&(b.Y(),b=d)},Ea:function(){return b.Ea()},La:function(){b.La()},Ka:function(){b.Ka()},Y:function(){b.Y()},set:function(d){b.set(d)}}}(),P=function(){var b,d,l=0,m=-2,q=-2,h=!1,w={reset:function(){q=m=-2},l:function(){h||
(b=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,b),a.bufferData(a.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),a.STATIC_DRAW),d=a.createBuffer(),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,d),a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),a.STATIC_DRAW),w.xa(),h=!0)},a:function(k){var g=l++,n=k.O?k.O.length:0,u="undefined"===typeof k.mode?a.STATIC_DRAW:k.mode,B=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,B);a.bufferData(a.ARRAY_BUFFER,k.vb instanceof Float32Array?k.vb:new Float32Array(k.vb),
u);m=g;if(k.O){var F=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,F);if(65536>k.O.length){var G=Uint16Array;var J=a.UNSIGNED_SHORT;var L=2}else G=Uint32Array,J=a.UNSIGNED_INT,L=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,k.O instanceof G?k.O:new G(k.O),u);q=g}var K={Bb:function(I){m!==g&&(a.bindBuffer(a.ARRAY_BUFFER,B),m=g);I&&Ma.Ka()},zb:function(){q!==g&&(a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,F),q=g)},bind:function(I){K.Bb(I);K.zb()},Pc:function(){a.drawElements(a.TRIANGLES,n,J,0)},Qc:function(I,
e){a.drawElements(a.TRIANGLES,I,J,e*L)},remove:function(){a.deleteBuffer(B);k.O&&a.deleteBuffer(F);K=null}};return K},xa:function(){-1!==m&&(a.bindBuffer(a.ARRAY_BUFFER,b),m=-1);-1!==q&&(a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,d),q=-1)},i:function(k,g){k&&P.xa();g&&Ma.La();a.drawElements(a.TRIANGLES,3,a.UNSIGNED_SHORT,0)},Sb:function(){a.deleteBuffer(b);a.deleteBuffer(d)}};return w}(),M=function(){var b,d,l,m=!1,q={B:-2,Qb:1};return{l:function(){if(!m){b=a.createFramebuffer();var h=Xa.s();d=h&&a.DRAW_FRAMEBUFFER?
a.DRAW_FRAMEBUFFER:a.FRAMEBUFFER;l=h&&a.READ_FRAMEBUFFER?a.READ_FRAMEBUFFER:a.FRAMEBUFFER;m=!0}},ad:function(){return d},Ba:function(){return l},V:function(){return a.FRAMEBUFFER},dd:function(){return q},Tc:function(){return b},a:function(h){void 0===h.fb&&(h.fb=!1);var w=h.X?h.X:!1,k=h.width,g=void 0!==h.height?h.height:h.width,n=b,u=!1,B=!1,F=0;w&&(k=k?k:w.C(),g=g?g:w.L());var G={sb:function(){B||(n=a.createFramebuffer(),B=!0,F=q.Qb++)},wb:function(){G.sb();G.m();u=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,
u);a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,k,g);a.framebufferRenderbuffer(d,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,u);a.clearDepth(1)},bind:function(J,L){F!==q.B&&(a.bindFramebuffer(d,n),q.B=F);w&&w.m();L&&a.viewport(0,0,k,g);J&&a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},Ic:function(){F!==q.B&&(a.bindFramebuffer(d,n),q.B=F)},clear:function(){a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},Lc:function(){a.clear(a.COLOR_BUFFER_BIT)},Mc:function(){a.clear(a.DEPTH_BUFFER_BIT)},xc:function(){a.viewport(0,
0,k,g)},m:function(){F!==q.B&&(a.bindFramebuffer(d,n),q.B=F)},rtt:function(J){w=J;q.B!==F&&(a.bindFramebuffer(a.FRAMEBUFFER,n),q.B=F);J.m()},J:function(){a.bindFramebuffer(d,null);q.B=-1},resize:function(J,L){k=J;g=L;u&&(a.bindRenderbuffer(a.RENDERBUFFER,u),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,k,g))},remove:function(){a.bindFramebuffer(d,n);a.framebufferTexture2D(d,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0);u&&a.framebufferRenderbuffer(d,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,null);a.bindFramebuffer(d,
null);a.deleteFramebuffer(n);u&&a.deleteRenderbuffer(u);G=null}};h.fb&&G.wb();return G},J:function(){a.bindFramebuffer(d,null);q.B=-1},Cc:function(){a.bindFramebuffer(d,null);a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT);a.viewport(0,0,Xa.C(),Xa.L());q.B=-1},reset:function(){q.B=-2},N:function(){0!==q.B&&(a.bindFramebuffer(d,b),q.B=0)},clear:function(){a.viewport(0,0,Xa.C(),Xa.L());a.clear(a.COLOR_BUFFER_BIT)}}}(),Y=function(){function b(c){a.bindTexture(a.TEXTURE_2D,c)}function d(c){Aa[0]=c;c=Ba[0];
var D=c>>16&32768,H=c>>12&2047,O=c>>23&255;return 103>O?D:142<O?D|31744|((255==O?0:1)&&c&8388607):113>O?(H|=2048,D|(H>>114-O)+(H>>113-O&1)):D=(D|O-112<<10|H>>1)+(H&1)}function l(c){var D=new Uint16Array(c.length);c.forEach(function(H,O){D[O]=d(H)});return D}function m(){if(null!==ra.Ca)return ra.Ca;var c=h(l([1,1,1,1]));return null===c?!0:ra.Ca=c}function q(){if(null!==ra.Da)return ra.Da;var c=h(new Uint8Array([255,255,255,255]));return null===c?!0:ra.Da=c}function h(c){if(!Ma.Ea()||!J)return null;
try{var D=a.getError(),H=V.a({isFloat:!1,G:!0,array:c,width:1});D=a.getError();if(D!==a.NO_ERROR)return!1}catch(O){return!1}M.J();a.viewport(0,0,1,1);a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);Ma.set("s0");H.Ua(0);P.i(!1,!0);c=new Uint8Array(4);a.readPixels(0,0,1,1,a.RGBA,a.UNSIGNED_BYTE,c);c=.9<c[0];H.remove();M.N();return c}var w=0,k,g=0,n,u=!1,B,F,G,J=!1,L=!1,K,I,e,r=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],A=!1,Z=!1,Aa=new Float32Array(1),Ba=new Int32Array(Aa.buffer),ra={Ca:null,Da:null},
V={l:function(){if(!J){F=[a.RGB,!1,a.RGB,a.RGBA];G=[a.RGB,!1,a.RGB,a.RGBA];k=[a.TEXTURE0,a.TEXTURE1,a.TEXTURE2,a.TEXTURE3,a.TEXTURE4,a.TEXTURE5,a.TEXTURE6,a.TEXTURE7];A="undefined"!==typeof JEContext;Z="undefined"!==typeof Xa;A&&JEContext.pd()&&k.push(a.TEXTURE8,a.TEXTURE9);n=[-1,-1,-1,-1,-1,-1,-1,-1];B=[a.UNSIGNED_BYTE,a.FLOAT,a.FLOAT];if(!u){for(var c=new Float32Array(16384),D=0;16384>D;++D)c[D]=2*Math.random()-1;u={random:V.a({isFloat:!0,isPot:!0,array:c,width:64}),ub:V.a({isFloat:!1,isPot:!0,
width:1,array:new Uint8Array([0,0,0,0])})}}J=!0}},ac:function(){V.Fc()},gd:function(){return u.ub},Fc:function(){B[1]=Xa.ka()},tc:function(){G=F=[a.RGBA,a.RGBA,a.RGBA,a.RGBA]},rd:function(c,D){x.set("s1");M.J();var H=c.C(),O=c.L();a.viewport(0,0,H,O);c.b(0);P.i(!1,!1);a.readPixels(0,0,H,O,a.RGBA,a.UNSIGNED_BYTE,D)},Rb:function(c,D,H){a.activeTexture(a.TEXTURE0);w=0;var O=a.createTexture();b(O);var T=Xa.s()&&a.RGBA32F?a.RGBA32F:a.FLOAT;D=D instanceof Float32Array?D:new Float32Array(D);var W=Math.log2(D.length);
W!==Math.floor(W)&&(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE));a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,H);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,c.C(),c.L(),0,a.RGBA,T,D);b(null);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1);M.N();x.set("s0");c.H();a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);b(O);P.i(!0,
!1);a.deleteTexture(O)},a:function(c){function D(){b(aa);va&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,va);c.isPot?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,c.ib?a.MIRRORED_REPEAT:a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,c.P?a.MIRRORED_REPEAT:a.REPEAT)):(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE));c.na&&"undefined"!==typeof JESETTINGS&&a.texParameterf(a.TEXTURE_2D,JEContext.$c().TEXTURE_MAX_ANISOTROPY_EXT,
JESETTINGS.Hc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,c.isLinear?a.LINEAR:a.NEAREST);c.isLinear?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,c.isMipmap&&!xa?a.NEAREST_MIPMAP_LINEAR:a.LINEAR):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,c.isMipmap&&!xa?a.NEAREST_MIPMAP_NEAREST:a.NEAREST);ia=F[c.ga_-1];ca=G[c.ga_-1];fa=B[H];if(Xa.s()){var v=a.RGBA32F;ia===a.RGBA&&fa===a.FLOAT&&v&&(ca=v);ia===a.RGB&&fa===a.FLOAT&&v&&(ca=v,ia=a.RGBA)}if(c.G&&!c.isFloat||c.isFloat&&c.isMipmap&&Na.dc())(v=
a.RGBA16F)&&(ca=v),fa=Xa.ka();c.lb&&"undefined"!==typeof a.texStorage2D&&(na=c.lb);c.jb&&4===c.ga_&&(ia=JEContext.ed());if(c.A)a.texImage2D(a.TEXTURE_2D,0,ca,ia,fa,c.A);else if(c.url)a.texImage2D(a.TEXTURE_2D,0,ca,ia,fa,ja);else if(X){try{a.getError(),a.texImage2D(a.TEXTURE_2D,0,ca,y,z,0,ia,fa,X),a.getError()!==a.NO_ERROR&&(a.texImage2D(a.TEXTURE_2D,0,ca,y,z,0,ia,fa,null),a.getError()!==a.NO_ERROR&&a.texImage2D(a.TEXTURE_2D,0,a.RGBA,y,z,0,a.RGBA,a.UNSIGNED_BYTE,null))}catch(oa){a.texImage2D(a.TEXTURE_2D,
0,ca,y,z,0,ia,fa,null)}c.isKeepArray||(X=null)}else a.texImage2D(a.TEXTURE_2D,0,ca,y,z,0,ia,fa,null);if(c.isMipmap)if(!xa&&U)U.Aa(),Ca=!0;else if(xa){v=Math.log(Math.min(y,z))/Math.log(2);var R;Da=Array(1+v);Da[0]=aa;for(R=1;R<=v;++R){var sa=Math.pow(2,R);var ya=y/sa;sa=z/sa;var pa=a.createTexture();b(pa);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texImage2D(a.TEXTURE_2D,0,ca,ya,sa,0,ia,fa,null);b(null);Da[R]=pa}Ca=!0}b(null);
n[w]=-1;va&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1);N=!0;p&&U&&(p(U),p=!1)}"undefined"===typeof c.isFloat&&(c.isFloat=!1);"undefined"===typeof c.G&&(c.G=!1);"undefined"===typeof c.isPot&&(c.isPot=!0);"undefined"===typeof c.isLinear&&(c.isLinear=!1);"undefined"===typeof c.isMipmap&&(c.isMipmap=!1);"undefined"===typeof c.ya&&(c.ya=!1);void 0===c.na&&(c.na=!1);void 0===c.P&&(c.P=!1);void 0===c.ib&&(c.ib=!1);void 0===c.jb&&(c.jb=!1);void 0===c.ga_&&(c.ga_=4);void 0===c.hb&&(c.hb=!1);"undefined"===typeof c.isFlipY&&
(c.isFlipY=c.url||c.array?!0:!1);"undefined"===typeof c.isKeepArray&&(c.isKeepArray=!1);c.data&&(c.array="string"===typeof c.data?La(c.data):c.isFloat?new Float32Array(c.data):new Uint8Array(c.data),c.isFlipY=!1);var H=0,O=c.A?!0:!1,T=null,W=null,da=!1,ka=null;c.isFloat&&(c.G=!0);c.G&&(H=1);c.hb||Xa.s()||!c.isFloat||!Z||Xa.Wa()||(c.isFloat=!1);c.isFloat&&(H=2);c.na&&A&&!JEContext.kd()&&(c.na=!1);var aa=a.createTexture(),p=c.ya,ja=null,X=!1,y=0,z=0,N=!1,ea=g++,la=!1,ba,za,Ea,Q,ca,ia,fa,va=c.isFlipY,
xa=c.G&&c.isMipmap&&"undefined"!==typeof Na&&!Na.Eb()?!0:!1,Da,na=-1,Ca=!1;"undefined"!==typeof c.width&&c.width&&(y=c.width,z="undefined"!==typeof c.height&&c.height?c.height:y);var U={get:function(){return aa},C:function(){return y},L:function(){return z},hd:function(){return c.url},ld:function(){return c.isFloat},nd:function(){return c.G},od:function(){return c.isLinear},Aa:function(){a.generateMipmap(a.TEXTURE_2D)},Va:function(v,R){xa?(v||(v=U.bb()),U.va(R),b(Da[v]),n[R]=-1):U.b(R)},bb:function(){-1===
na&&(na=Math.log(y)/Math.log(2));return na},ab:function(v){if(xa){v||(v=U.bb());x.set("s11");U.va(0);var R,sa=y,ya=z;for(R=1;R<=v;++R)sa/=2,ya/=2,x.M("u7",.25/sa,.25/ya),a.viewport(0,0,sa,ya),b(Da[R-1]),a.framebufferTexture2D(M.V(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,Da[R],0),P.i(!1,1===R);n[0]=-1}else U.Aa()},va:function(v){v!==w&&(a.activeTexture(k[v]),w=v)},b:function(v){if(!N)return!1;U.va(v);if(n[v]===ea)return!1;b(aa);n[v]=ea;return!0},Ua:function(v){a.activeTexture(k[v]);w=v;b(aa);n[v]=ea},m:function(){a.framebufferTexture2D(M.V(),
a.COLOR_ATTACHMENT0,a.TEXTURE_2D,aa,0)},H:function(){a.viewport(0,0,y,z);a.framebufferTexture2D(M.V(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,aa,0)},Dd:function(){a.framebufferTexture2D(M.V(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0)},resize:function(v,R){y=v;z=R;D()},clone:function(v){v=V.a({width:y,height:z,G:c.G,isFloat:c.isFloat,isLinear:c.isLinear,P:c.P,isFlipY:v?!va:va,isPot:c.isPot});Ma.set("s0");M.N();v.m();a.viewport(0,0,y,z);U.b(0);P.i(!0,!0);return v},xc:function(){a.viewport(0,0,y,z)},remove:function(){a.deleteTexture(aa);
U=null},refresh:function(){U.Ua(0);va&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!0);O?a.texImage2D(a.TEXTURE_2D,0,ca,ia,a.UNSIGNED_BYTE,c.A):a.texImage2D(a.TEXTURE_2D,0,ca,y,z,0,ia,fa,X);va&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1)},Xa:function(){var v=y*z*4;za=[new Uint8Array(v),new Uint8Array(v),new Uint8Array(v),new Uint8Array(v)];ba=[new Float32Array(za[0].buffer),new Float32Array(za[1].buffer),new Float32Array(za[2].buffer),new Float32Array(za[3].buffer)];Ea=new Uint8Array(4*v);Q=new Float32Array(Ea.buffer);
la=!0},qb:function(){la||U.Xa();a.readPixels(0,0,y,4*z,a.RGBA,a.UNSIGNED_BYTE,Ea);var v,R=y*z,sa=2*R,ya=3*R;for(v=0;v<R;++v)ba[0][v]=Q[v],ba[1][v]=Q[v+R],ba[2][v]=Q[v+sa],ba[3][v]=Q[v+ya];return ba},Ya:function(){M.J();x.set("s12");U.b(0);for(var v=0;4>v;++v)a.viewport(0,z*v,y,z),x.ra("u8",r[v]),P.i(!1,0===v)},Ec:function(v){var R=fa===B[0]&&!q();b(aa);va&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,va);R?(da||(T=document.createElement("canvas"),T.width=y,T.height=z,W=T.getContext("2d"),ka=W.createImageData(y,
z),da=!0),ka.data.set(v),W.putImageData(ka,0,0),a.texImage2D(a.TEXTURE_2D,0,ca,ia,fa,T)):a.texImage2D(a.TEXTURE_2D,0,ca,y,z,0,ia,fa,v);n[w]=ea;va&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1)},Ed:function(v,R){b(aa);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,R);a.texImage2D(a.TEXTURE_2D,0,ca,ia,fa,v);n[w]=ea;R&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1)},td:function(v,R){var sa=y*z,ya=4*sa;v=c.G?v?"RGBE":"JSON":"RGBA";R&&(v=R);R=Xa.s()&&!1;switch(v){case "RGBE":var pa="s41";break;case "JSON":pa=R?"s0":"s12";break;
case "RGBA":case "RGBAARRAY":pa="s6"}la||("RGBA"===v||"RGBE"===v||"RGBAARRAY"===v?(za=new Uint8Array(ya),la=!0):"JSON"!==v||R||U.Xa());M.J();x.set(pa);U.b(0);if("RGBA"===v||"RGBE"===v||"RGBAARRAY"===v){a.viewport(0,0,y,z);P.i(!0,!0);a.readPixels(0,0,y,z,a.RGBA,a.UNSIGNED_BYTE,za);if("RGBAARRAY"===v)return{data:za};L||(K=document.createElement("canvas"),I=K.getContext("2d"),L=!0);K.width=y;K.height=z;e=I.createImageData(y,z);e.data.set(za);I.putImageData(e,0,0);var oa=K.toDataURL("image/png")}else if("JSON"===
v)if(R)oa=new Float32Array(sa),a.viewport(0,0,y,z),P.i(!0,!0),a.readPixels(0,0,y,z,a.RGBA,a.FLOAT,oa);else{for(oa=0;4>oa;++oa)a.viewport(0,z*oa,y,z),x.ra("u8",r[oa]),P.i(!oa,!oa);U.qb();oa=Array(sa);for(pa=0;pa<sa;++pa)oa[4*pa]=ba[0][pa],oa[4*pa+1]=ba[1][pa],oa[4*pa+2]=ba[2][pa],oa[4*pa+3]=ba[3][pa]}return{format:v,data:oa,width:y,height:z,isMirrorY:c.P,isFlipY:"RGBA"===v?c.isFlipY:!c.isFlipY}}};c.isMipmap&&!xa&&N&&!Ca&&(U.Aa(),Ca=!0);if(c.url)b(aa),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,1,1,0,a.RGBA,
a.UNSIGNED_BYTE,null),ja=new Image,ja.Oc="Anonymous",ja.crossOrigin="Anonymous",ja.src=c.url,ja.onload=function(){y=ja.width;z=ja.height;D()};else if(c.A){var Fa=function(){y=void 0!==c.A.videoWidth?c.A.videoWidth:c.A.width;z=void 0!==c.A.videoHeight?c.A.videoHeight:c.A.height;y?D():setTimeout(Fa,1)};Fa()}else c.array?(c.G&&!c.isFloat?c.array instanceof Uint16Array?(X=c.array,D()):m()?(X=l(c.array),D()):(D(),V.Rb(U,c.array,va)):(X=c.isFloat?c.array instanceof Float32Array?c.array:new Float32Array(c.array):
c.array instanceof Uint8Array?c.array:new Uint8Array(c.array),D()),c.isKeepArray||(X&&X!==c.array&&(X=null),delete c.array)):D();U.Yb=U.C;p&&N&&(p(U),p=!1);return U},J:function(c){c!==w&&(a.activeTexture(k[c]),w=c);n[c]=-1;b(null)},Jc:function(c){u.random.b(c)},reset:function(){for(var c=0;c<k.length;++c)n[c]=-1;w=-1},sd:function(){w=-1},Bd:function(){for(var c=0;c<k.length;++c)V.J(c)},Sb:function(){u&&(u.random.remove(),u.ub.remove())},Cd:function(c,D){if("RGBA"===c.format||"RGBE"===c.format){var H=
new Image;H.src=c.data;H.onload=function(){V.a({P:c.isMirrorY,isFlipY:c.isFlipY,isFloat:!1,A:H,ya:function(O){if("RGBA"===c.format)D(O);else{var T=c.width,W=c.height,da=V.a({P:c.isMirrorY,isFloat:!0,width:T,height:W,isFlipY:c.isFlipY});M.N();a.viewport(0,0,T,W);x.set("s42");da.m();O.b(0);P.i(!0,!0);V.J(0);D(da);a.flush();setTimeout(O.remove,50)}}})}}else"JSON"===c.format?D(V.a({isFloat:!0,isFlipY:c.isFlipY,width:c.width,height:c.height,array:new Float32Array(c.data)})):D(!1)}};return V}(),Xa=function(){function b(){d=
"undefined"===typeof Ya?JEContext:Ya;l=!0}var d,l=!1,m=!1,q=!1,h=!1,w=!1,k=!1,g=!1,n=!1,u=!1,B=!1,F=!1,G=!0,J=!0,L=!0,K=!1,I="undefined"===typeof window?{}:window,e={l:function(){if(l)return!0;b();e.$a();e.za();e.Nb();e.Ob();M.l();Y.l();if(!e.Ib())return!1;P.l();Y.ac();return!0},C:function(){l||b();return d.C()},L:function(){l||b();return d.L()},s:function(){l||b();return d.s()},Nb:function(){F=(B=a.getExtension("EXT_color_buffer_float")||a.getExtension("WEBGL_color_buffer_float")||a.getExtension("OES_color_buffer_float"))?
!0:!1;I.GL_EXT_COLORBUFFERFLOAT=B},Ob:function(){a.getExtension("EXT_color_buffer_half_float")||a.getExtension("WEBGL_color_buffer_half_float")||a.getExtension("OES_color_buffer_half_float")},$a:function(){if(!m){this.s()||(q=a.getExtension("OES_texture_float")||a.getExtension("MOZ_OES_texture_float")||a.getExtension("WEBKIT_OES_texture_float"),w=(I.GL_EXT_FLOAT=q)?!0:!1);if(w||this.s())h=a.getExtension("OES_texture_float_linear")||a.getExtension("MOZ_OES_texture_float_linear")||a.getExtension("WEBKIT_OES_texture_float_linear"),
I.GL_EXT_FLOATLINEAR=h;m=!0}},za:function(){if(!u){if(!this.s()){if(k=a.getExtension("OES_texture_half_float")||a.getExtension("MOZ_OES_texture_half_float")||a.getExtension("WEBKIT_OES_texture_half_float"))K=k.HALF_FLOAT_OES,g=!0;!K&&a.HALF_FLOAT&&(K=a.HALF_FLOAT);!K&&a.FLOAT&&(K=a.FLOAT);I.GL_EXT_HALFFLOAT=k}if(g||this.s())n=a.getExtension("OES_texture_half_float_linear")||a.getExtension("MOZ_OES_texture_half_float_linear")||a.getExtension("WEBKIT_OES_texture_half_float_linear"),I.GL_EXT_HALFFLOATLINEAR=
n;u=!0}},ka:function(){if(e.s())return a.HALF_FLOAT;e.za();return g?K:a.FLOAT},Wa:function(){return G},Db:function(){return J},Kc:function(){return L},Cb:function(){return F},Kb:function(){J=G=!0;var r=a.createFramebuffer();a.bindFramebuffer(a.FRAMEBUFFER,r);var A=a.createTexture();a.bindTexture(a.TEXTURE_2D,A);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texImage2D(a.TEXTURE_2D,0,e.s()&&a.RGBA32F?a.RGBA32F:a.RGBA,1,1,
0,a.RGBA,a.FLOAT,null);a.framebufferTexture2D(M.V(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,A,0);var Z=a.checkFramebufferStatus(M.Ba());Z!==a.FRAMEBUFFER_COMPLETE&&(G=!1);a.texImage2D(a.TEXTURE_2D,0,e.s()&&a.RGBA16F?a.RGBA16F:a.RGBA,1,1,0,a.RGBA,e.ka(),null);a.framebufferTexture2D(M.V(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,A,0);Z=a.checkFramebufferStatus(M.Ba());Z!==a.FRAMEBUFFER_COMPLETE&&(J=!1);a.bindTexture(a.TEXTURE_2D,null);a.bindFramebuffer(a.FRAMEBUFFER,null);a.deleteTexture(A);a.deleteFramebuffer(r)},
Jb:function(){var r=M.a({width:1});r.sb();var A=Y.a({width:1,isFloat:!0,ga_:3});r.m();A.m();a.flush();a.checkFramebufferStatus(M.Ba())!==a.FRAMEBUFFER_COMPLETE?(Y.tc(),L=!1):L=!0;r.remove();A.remove()},Ib:function(){e.Kb();if(!G&&!J)return!1;e.Jb();return!0}};return e}(),Na=function(){function b(G,J,L,K){a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,K?a.NEAREST_MIPMAP_NEAREST:a.LINEAR);try{var I=a.getError();I!==a.NO_ERROR&&console.log("GLERR in test_mipmapping() :",I);a.texImage2D(a.TEXTURE_2D,
0,G,2,2,0,a.RGBA,J,L);I=a.getError();if(I!==a.NO_ERROR)return!1}catch(e){return!1}K&&a.generateMipmap(a.TEXTURE_2D);P.xa();P.i(!1,!0);a.readPixels(0,0,1,1,a.RGBA,a.UNSIGNED_BYTE,k);I=a.getError();I===a.INVALID_OPERATION&&"undefined"!==typeof a.PIXEL_PACK_BUFFER&&(a.bindBuffer(a.PIXEL_PACK_BUFFER,null),a.readPixels(0,0,1,1,a.RGBA,a.UNSIGNED_BYTE,k),I=a.getError());return I!==a.NO_ERROR?!1:0!==k[0]}function d(G){return Xa.Wa()&&b(internalPixelFormat32f,a.FLOAT,new Float32Array(n),G)?(h=q.Ra,!0):!1}
function l(G){return Xa.Db()?b(B,Xa.ka(),new Uint16Array(n),G)||b(B,a.FLOAT,new Float32Array(n),G)?(h=q.ua,!0):!1:!1}var m=!1,q={Ra:3,ua:2,RGBA8:0},h=q.RGBA8,w,k=new Uint8Array(4),g=[.8,1,.8,1],n=g.concat(g,g,g),u=!0,B,F={l:function(){Xa.$a();Xa.za();B=a.RGBA;if(Ya.s()){var G=a.RGBA16F;G&&(B=G)}P.l();M.reset();M.J();a.viewport(0,0,1,1);x.set("s0");m=!0;w=a.createTexture();a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,w);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.REPEAT);a.texParameteri(a.TEXTURE_2D,
a.TEXTURE_WRAP_T,a.REPEAT);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);if(l(!0)||d(!0))return!0;u=!1;if(l(!1)||d(!1))return!0;if(Ya.s()){B=a.RGBA;if(l(!0)||d(!0))return!0;u=!1;if(l(!1)||d(!1))return!0}return!1},Eb:function(){return u},bd:function(){return h},md:function(){m||F.l();return h===q.Ra},dc:function(){m||F.l();return h===q.ua}};return F}(),Za={a:function(b){var d=Y.a(b.alpha),l=Y.a(b.beta);return{Mb:function(){d.b(1);l.b(2)}}}},bb={a:function(b){var d=b.yc;d.index=b.index;
d.R=b.R;d.parent=b.parent;switch(d.type){case "input":b=$a.a(d);break;default:b=ab.a(d)}return b}},$a={a:function(b){"undefined"===typeof b.sift&&(b.sift=!1);"undefined"===typeof b.DWT&&(b.DWT=!1);"undefined"===typeof b.blur&&(b.blur=!1);"undefined"===typeof b.siftOutWidth&&(b.siftOutWidth=!1);"undefined"===typeof b.density&&(b.density=1);var d=!1;if(b.mask){d=!0;SETTINGS&&void 0!==SETTINGS.yb&&(b.mask=SETTINGS.yb+b.mask);var l=Y.a({isFloat:!1,url:b.mask})}var m=!1,q="undefined"!==typeof b.preprocessing?
b.preprocessing:!1,h=!1,w=!1;b.sift?Sift.l({$b:a,da:!1,width:b.size,qd:b.siftOutWidth}):b.DWT&&DWT.l({$b:a,da:!1,width:b.size});var k=!1;b.customInputShader&&(k="s43",x.Sa({name:"_",id:k,c:b.customInputShader,f:["uSource"],precision:"lowp"}),x.u(k,[{type:"1i",name:"_",value:0}]));switch(q){case "sobel":var g="s32";h=!0;break;case "meanNormalization":g="s33";h=!0;break;case "grayScale":g="s29";h=!1;break;case "grayScaleTilt":g="s30";w=!0;h=!1;break;case "rgbGrayTilt":g="s31";w=!0;h=!1;break;case "copy":g=
k?k:"s0";break;case "inputLightRegulation":g=k?k:"s29";cb.l({width:b.size,mb:b.nBlurPass,cc:!1});m=!0;break;case "direct":case "none":g=!1;break;default:g="s3"}w&&x.u(g,[{name:"u28",type:"1f",value:b.tilt}]);d&&(g+="Mask");if(b.blur)var n=Y.a({isFloat:!1,isPot:!1,width:b.size});var u=Y.a({isFloat:!1,isPot:!1,width:b.size}),B={C:function(){return b.sift?Sift.fa():b.size},fa:function(){return B.C()},Wb:function(){return b.sift?Sift.la():b.DWT?DWT.la():m?cb.la():u},F:function(){M.N();b.blur&&(n.H(),
x.set("s44"),x.M("u7",1/b.size,1/b.size),P.i(!1,!0),n.b(0));g&&(x.set(g),h&&x.I("u29",1/b.size),u.H(),d&&l.b(1),P.i(!1,!1),u.b(0),m?cb.Ja(u):b.sift?(x.Y(),Sift.Ja()):b.DWT&&(x.Y(),DWT.Ja(4)))}};return B}},ab={a:function(b){"undefined"===typeof b.disableNormalize&&(b.disableNormalize=!1);var d=[],l=[],m,q,h=!1,w,k=!0,g,n,u=b.isReorganize?b.isReorganize:!1,B=b.kernelsNumber?!0:!1,F=b.dynPelu?Za.a(b.dynPelu):!1,G=F?!0:!1,J={isEnabled:!1},L;if("softmax"===b.type){b.activation="softmax";b.size=Math.pow(2,
Math.ceil(Math.log2(Math.sqrt(b.num_classes))));b.sparsity="undefined"!==typeof b.sparsity?b.sparsity:b.R.fa();b.gain="undefined"!==typeof b.gain?b.gain:1;x.u("s20",[{type:"1f",name:"u10",value:b.gain}]);var K=Y.a({isFloat:!0,isPot:!1,width:b.size}),I=Y.a({isFloat:!0,isPot:!1,width:b.size,isMipmap:!0});k=!1;var e=new Uint8Array(Math.pow(4*b.size,2)),r;for(r=0;r<b.size*b.size;++r){var A=r<b.num_classes?255:0;e[4*r]=A;e[4*r+1]=A;e[4*r+2]=A;e[4*r+3]=A}var Z=Y.a({isFloat:!1,isPot:!1,width:b.size,array:e})}else b.cost?
(b.sparsity="undefined"!==typeof b.sparsity?b.sparsity:b.R.fa(),k=!1):"full"===b.connectivityUp&&(b.sparsity=b.R.fa());var Aa={elu:"s15",elu01:"s16",relu:"s14",arctan:"s18",sigmoid:"s13",copy:"s0",softplus:"s19",softmax:"s20",dynPelu:"s17"}[b.activation],Ba=b.sparsity*b.sparsity,ra=!1,V=b.size;if(b.maxPooling){switch(b.maxPooling.size){case 2:var c="s34";break;case 4:c="s35"}ra=!0;V/=b.maxPooling.size;var D=Y.a({isFloat:!0,isPot:!1,width:V})}var H=void 0!==b.lc&&b.lc?!0:!1,O=null,T=null,W=null;H&&
(O="s45"+b.index.toString(),x.eb("s45",O,[((b.normalization.n-1)/2).toFixed(1)]),x.u(O,[{type:"1i",name:"u1",value:0},{type:"2f",name:"u7",value:[1/b.size,1/b.size]},{type:"1f",name:"u6",value:b.normalization.alpha},{type:"1f",name:"u9",value:b.normalization.beta},{type:"1f",name:"u33",value:b.normalization.k}]),T=Y.a({isFloat:!0,isPot:!0,width:b.size}),W=Y.a({isFloat:!0,isPot:!0,width:b.size}));var da,ka,aa,p;k&&(p=Y.a({isFloat:!0,isPot:!1,width:b.size}));var ja=Y.a(b.bias),X,y={C:function(){return b.size},
fa:function(){return V},cb:function(){return b.num_classes},Ab:function(z){L.b(z)},pc:function(){b.remap&&b.remap.isEnabled&&(J={isEnabled:!0,fc:Y.a({isFloat:!1,isFlipY:!1,array:new Uint8Array(b.remap.maskTexture.data),width:b.remap.maskTexture.width,isPot:!1}),layers:b.remap.layers.map(function(z){return b.parent.Vb(z)}),depth:b.remap.depth})},vc:function(){switch(b.connectivityUp){case "gaussian":X=db.a(b.connectivity);break;case "direct":X=eb.a(b.connectivity);break;case "square":X=fb.a(b.connectivity);
break;case "squareFast":X=gb.a(b.connectivity,b.activation);break;case "full":X=hb.a(b.connectivity);break;case "conv":n=b.kernelsNumber,X=ib.a(b.connectivity),u&&(g=Y.a({width:V,isFloat:!0,isFlipY:!1,isPot:!1}))}if(X.S){var z=b.size*b.sparsity;ka=Math.log(z/b.size)/Math.log(2);da=Y.a({isMipmap:!0,isFloat:!0,isPot:!0,width:z,lb:ka});aa=Y.a({isFloat:!0,isPot:!0,width:b.size})}},F:function(z,N){L=z;X.S?(da.H(),B&&ja.b(2),X.F(J),da.b(0),da.ab(ka),aa.H(),B?x.set("s0"):(x.set("s28"),x.I("u27",Ba),ja.b(1)),
da.Va(ka,0),P.i(!1,!1),x.set(Aa),H?T.m():p.m(),aa.b(0),G&&F.Mb(),P.i(!1,!1)):(p.H(),ja.b(1),X.F());H&&(x.set(O),W.m(),T.b(0),P.i(!1,!1),x.set("s46"),x.I("u6",1),p.m(),W.b(1),P.i(!1,!1));if(k)return ra?(D.H(),p.b(0),x.set(c),x.M("u7",1/b.size,1/b.size),P.i(!1,!1),N=D):N=p,N.b(0),u&&(g.m(),x.set("s22"),x.M("u14",n,V/n),P.i(!1,!1),N=g,g.b(0)),N;if("softmax"===b.type){x.set("s20");p.b(0);K.m();P.i(!1,!1);b.disableNormalize?z=K:(x.set("s2"),K.b(0),Z.b(1),I.m(),P.i(!1,!1),x.set("s0"),q.H(),I.b(0),I.ab(!1),
P.i(!1,!1),x.set("s21"),m.H(),I.Va(!1,0),x.I("u12",p.Yb()),q.b(1),P.i(!1,!1),z=m);if(N){switch(h){case "cpuRGBAAvg":break;default:var ea=y.pb(z)}return ea}return!1}if(b.cost){x.set("gpuRawAvg"===h?"s8":"s7");N=p;b.disableNormalize||(x.I("u4",1/b.size),m.H(),p.b(0),P.i(!1,!1),N=m);switch(h){case "cpuRGBA2Float":N.Ya();ea=y.pb(N);w(ea);break;case "gpuRawAvg":case "gpuRaw":N.b(0),w(N)}return!1}},Gb:function(z){z&&"undefined"!==typeof z.ob&&(h=z.ob,w=z.nc);p=Y.a({isFloat:!0,isPot:!0,isMipmap:"softmax"===
b.type,width:b.size});"softmax"===b.type&&(q=Y.a({isFloat:!0,isPot:!0,width:1}));var N=0,ea=0,la="undefined"!==typeof b.num_classes&&b.num_classes?b.num_classes:b.size*b.size;for(z=0;z<la;++z)d.push(N+(b.size-1-ea)*b.size),l.push([-1,-1,-1,-1]),++N,N===b.size&&(N=0,++ea);b.disableNormalize||(m=Y.a({isFloat:!0,isPot:!0,width:b.size}))},pb:function(z){z.Ya();var N=z.qb();d.forEach(function(ea,la){l[la][0]=N[0][ea];l[la][1]=N[1][ea];l[la][2]=N[2][ea];l[la][3]=N[3][ea]});return l}};b.R&&y.vc(b.R);return y}};
function jb(){var b,d,l,m;b||(b={});this.Vb=function(q){return d[q]};this.sc=function(q){var h=!1;d=q.map(function(w,k){return h=w=bb.a({index:k,parent:this,yc:w,R:h})});l=d[0];m=d[d.length-1];d.forEach(function(w,k){0!==k&&w.pc()})};this.F=function(q,h){var w=h;d.forEach(function(k){w=k.F(w,q)});return w};this.Ub=function(){return l.C()};this.Xb=function(){return m.C()};this.la=function(){return m.Wb()};this.uc=function(q){m.Gb(q)};this.cb=function(){return m.cb()}}
var eb={a:function(b){var d=Y.a(b.weights);delete b.weights.data;return{S:!0,ea:function(){return 1},Zb:function(){return d},F:function(){x.set("s27");d.b(1);P.i(!1,!1)}}}},hb={a:function(b){var d=b.fromLayerSize,l=Y.a(b.weights);return{S:!0,ea:function(){return d},F:function(m){if(m.isEnabled){x.set("s25");m.fc.b(3);var q,h=Math.min(m.layers.length,m.depth);for(q=0;q<h;++q)m.layers[q].Ab(4+q)}else x.set("s24");x.I("u18",b.toLayerSize);l.b(1);P.i(!1,!1)}}}},db={a:function(b){var d=b.toSparsity*b.toLayerSize,
l=d/b.fromLayerSize,m=Y.a(b.weights);Y.a({width:d,isFloat:!0,array:new Float32Array(b.fromBindings),isPot:!0});var q=Y.a({width:d,isFloat:!0,array:new Float32Array(b.toBindings),isPot:!0});return{S:!0,ea:function(){return l},F:function(){x.set("s23");m.b(1);q.b(2);P.i(!1,!0)}}}},fb={a:function(b){var d=b.fromLayerSize,l=b.toLayerSize,m=b.toSparsity,q=m*l,h=q/d,w=d/l,k,g,n,u,B=0,F=0,G=0,J=Array(m*l*m*l*4),L=Array(m*l*m*l*4),K=Array(d*d);for(k=0;k<K.length;++k)K[k]=0;var I=Math.floor(m/2),e=.5/l,r=
.5/d,A=.5/q;for(k=0;k<l;++k)for(g=0;g<l;++g){var Z=Math.round(k*w);var Aa=Math.round(g*w);var Ba=k/l;var ra=g/l;Ba+=e;ra+=e;for(n=0;n<m;++n)for(u=0;u<m;++u){var V=B/q;var c=F/q;var D=Z+n-I;var H=Aa+u-I;0>D&&(D+=d);0>H&&(H+=d);D>=d&&(D-=d);H>=d&&(H-=d);var O=D/d;var T=H/d;c=1-c-1/q;O+=r;T+=r;V+=A;c+=A;var W=k*m+n,da=g*m+u;da=l*m-da-1;W=da*l*m+W;J[4*W]=V;J[4*W+1]=c;J[4*W+2]=O;J[4*W+3]=T;O=K[H*d+D]++;T=O%h;D=D*h+T;H=H*h+(O-T)/h;H=d*h-1-H;H=H*d*h+D;L[4*H]=V;L[4*H+1]=c;L[4*H+2]=Ba;L[4*H+3]=ra;++B>=q&&
(B=0,++F);++G}}var ka=Y.a(b.weights);Y.a({width:q,isFloat:!0,array:new Float32Array(L),isPot:!0});L=null;var aa=Y.a({width:q,isFloat:!0,array:new Float32Array(J),isPot:!0});J=null;return{S:!0,ea:function(){return h},F:function(){x.set("s23");ka.b(1);aa.b(2);P.i(!1,!1)}}}},ib={a:function(b){var d=b.kernelsNumber,l=b.toSparsity,m=l*b.toLayerSize/b.fromLayerSize,q=Y.a(b.weights);return{S:!0,ea:function(){return m},fd:function(){return l},Zb:function(){return q},F:function(){x.set("s26");x.I("u24",d);
x.I("u25",l);x.I("u18",b.toLayerSize);x.I("u26",b.fromLayerSize);q.b(1);P.i(!1,!1)}}}},gb={a:function(b,d){var l=b.fromLayerSize,m=b.toLayerSize,q=b.toSparsity,h=b.stride?b.stride:1,w=q*m/l,k=m<l,g=l/m,n=Y.a(b.weights),u="s47"+[l.toString(),m.toString(),q.toString(),h.toString(),d].join("_");x.Pb(u)||(b=Ha(d),m=[{type:"1f",name:"u18",value:m},{type:"1f",name:"u32",value:h}],k&&m.push({type:"1f",name:"u26",value:l}),l=[(k?w:q).toFixed(1),b],k&&l.push(g.toFixed(1)),x.eb(k?"s40":"s39",u,l),x.u(u,m.concat([{type:"1i",
name:"u16",value:0},{type:"1i",name:"u23",value:1},{type:"1i",name:"u15",value:3}])));return{S:!1,ea:function(){return w},F:function(){x.set(u);n.b(3);P.i(!1,!1)}}}},cb=function(){var b,d,l,m,q,h,w,k,g;return{l:function(n){b=n.mb?n.mb:3;d=n.width?n.width:64;m=n.cc?!0:!1;n={isFloat:!1,width:d,isPot:!1,isFlipY:!1};q=Y.a(n);h=Y.a(n);w=Y.a(n);k=Y.a(n);g=Y.a({isFloat:!0,width:d,isPot:!1,isFlipY:!1});l=1/d},Ja:function(n){x.set("s37");for(var u=0;u<b;++u)q.m(),x.M("u7",l,0),P.i(m,!1),h.m(),q.b(0),x.M("u7",
0,l),P.i(m,!1),h.b(0);x.set("s36");k.m();n.b(0);P.i(m);x.set("s37");for(u=0;u<b;++u)w.m(),k.b(0),x.M("u7",l,0),P.i(m,!1),k.m(),w.b(0),x.M("u7",0,l),P.i(m,!1);x.set("s38");g.m();n.b(0);h.b(1);k.b(2);P.i(m,!1);g.b(0)},la:function(){return g}}}();
window.JEEARAPI=function(){var b,d,l;function m(f,t){for(var C in f)"undefined"!==typeof t[C]&&(f[C]=t[C])}function q(f){if(f){var t=f.w,C=f.h;p.v.ba[0]=-1+2*(f.x+t/2)/p.U;p.v.ba[1]=-1+2*(f.y+C/2)/p.T;p.v.scale[0]=t/p.U;p.v.scale[1]=C/p.T}else p.v.ba[0]=0,p.v.ba[1]=0,p.v.scale[0]=1,p.v.scale[1]=1;p.width=p.U*p.v.scale[0];p.height=p.T*p.v.scale[1]}function h(){var f=[{type:"2f",name:"u35",value:p.v.ba},{type:"2f",name:"u36",value:p.v.scale}],t=f.concat([{type:"1f",name:"u37",value:p.U/p.T},{name:"u7",
type:"2f",value:[1/p.U,1/p.T]}]);x.u("s49",t);x.u("s50",t);x.u("s51",f)}function w(f,t,C){var E=g(f,t,"dx")*p.W[0],S=g(f,t,"dy")*p.W[1];f=C[2]*g(f,t,"ds");if(da){t=Math.cos(ka);var ua=Math.sin(ka),ta=-ua*E+t*S;E=t*E+ua*S;S=ta}E*=C[0];S*=C[1];C=y.j[2];t=y.j[3];y.j[0]-=E*C*Z[0];y.j[1]-=S*t*Z[1];y.j[2]-=f*C*Z[2];y.j[2]=Math.min(Math.max(y.j[2],r.rb[0]*p.W[0]),r.rb[1]*p.W[0]);y.j[0]=Math.min(Math.max(y.j[0],0),1);y.j[3]=y.j[2]*p.aspectRatio/p.ma;y.j[1]=Math.min(Math.max(y.j[1],0),1)}function k(f){var t=
y.j[2],C=y.j[3],E=(2*Math.random()-1)*f,S=.5*(2*Math.random()-1)*f;y.j[0]+=(2*Math.random()-1)*f*t;y.j[1]+=E*C;y.j[2]+=S*t;y.j[3]=y.j[2]*p.aspectRatio/p.ma}function g(f,t,C){t=la[t].kb[C];return(f[t][0]+f[t][1]+f[t][2]+f[t][3])/4}function n(f,t,C,E){t=la[t].kb[C];return(f[t][0]+f[t][1]+f[t][2]+f[t][3])/4*(1-E)+E*Math.min(f[t][0],f[t][1],f[t][2],f[t][3])}function u(f,t,C){var E=n(f,t,"here",C);f=sa*n(f,t,"notHere",C);return(E-f)/la[t].Oa}function B(){ka=0;da&&null!==aa&&(ka=aa[0]+Math.random()*(aa[1]-
aa[0]));N=z.$;var f=ja[X];f&&(y.j[0]=f[0],y.j[1]=f[1],y.j[2]=f[2],y.j[3]=f[3]);X=(X+1)%ja.length}function F(f,t){ra&&(na.roll=da?ka:c);V&&(na.pitch=D);na.label=la[Q.D].label;na.distance=la[Q.D].Lb;na.positionScale[0]=.5+(y.j[0]-.5)/p.v.scale[0];na.positionScale[1]=.5+(y.j[1]-.5)/p.v.scale[1];na.positionScale[2]=y.j[2];na.positionScale[3]=y.j[3];na.detectScore=t;na.yaw=f}function G(f){var t=-1,C=-1E12;-1!==[z.$,z.sa].indexOf(N)&&la.forEach(function(ma,qa){ma=u(f,qa,0);ma>C&&(C=ma,t=qa)});switch(N){case z.$:N=
z.sa;w(f,t,[1,1,1]);l=0;break;case z.sa:++l;C>Ca?(Fa?(N=z.ha,Ea=t,Q.D=t,Q.Ia=0):(N=z.Qa,za=0,Ea=t),w(f,Ea,[1,1,1])):l>r.ic?B():w(f,t,[1,1,1]);break;case z.Qa:++za>Ra&&(N=z.ha,Q.n=0,Q.nb=0,Q.D=Ea,Q.K[0]=0,Q.K[1]=0);w(f,Ea,[1,1,1]);k(Sa);break;case z.ha:if(Fa||++Q.n>Ja){var E=u(f,Q.D,1);if(Fa||E>Ca+Ta||v){ra&&(c=Aa*g(f,Q.D,"roll"),da&&(ka+=c));if(H){var S=Fa||v?Math.PI*g(f,Q.D,"yaw"):Math.atan2(Q.K[1],Q.K[0]);if(V){var ua=.5+.5*g(f,Q.D,"pitch");D=Ba[0]+(Ba[1]-Ba[0])*ua}F(S,E)}v?(w(f,Q.D,R),E>U?Q.Ia=
0:++Q.Ia>Ua&&B()):H?B():w(f,Q.D,[.5,.5,.5])}else B()}else{var ta=1-(Ja-Q.n)/(Ja-1);E=1.5-1*ta;w(f,Q.D,[E,E,E]);k(Va*(1-ta));var wa=u(f,Q.D,ta);wa<Ca*ta*Wa?B():++Q.nb>10*Ja?B():la.some(function(ma,qa){return Q.D===qa?!1:u(f,qa,ta)>wa*(ya*ta+(1-ta))?!0:!1})?(k(Oa[0]),ka+=(2*Math.random()-1)*Oa[1]*Math.PI/180,Q.n=0,Q.K[0]=0,Q.K[1]=0):(E=Math.PI*g(f,Q.D,"yaw"),Q.K[0]+=Math.cos(E),Q.K[1]+=Math.sin(E))}}}function J(){x.xb([{id:"s50",name:"_",Z:"attribute vec2 a0;uniform vec4 u38;uniform vec2 u35,u36;uniform float u34,u37;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.);float a=u37*(u38.z/u38.w);a*=u36.x/u36.y;float b=cos(u34),c=sin(u34);vec2 d=mat2(b,-c*a,c/a,b)*a0,f=u35+d*u36;vv0=u38.xy+.5*u38.zw*f;}",
c:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;const vec3 g=vec3(1.,1.,1.);vec3 c[9];void main(){vec2 d=vv0+.5*u7;c[0]=texture2D(u1,d-u7*vec2(-1.,-1.)).rgb,c[1]=texture2D(u1,d-u7*vec2(-1.,0.)).rgb,c[2]=texture2D(u1,d-u7*vec2(-1.,1.)).rgb,c[3]=texture2D(u1,d-u7*vec2(0.,-1.)).rgb,c[4]=texture2D(u1,d-u7).rgb,c[5]=texture2D(u1,d-u7*vec2(0.,1.)).rgb,c[6]=texture2D(u1,d-u7*vec2(1.,-1.)).rgb,c[7]=texture2D(u1,d-u7*vec2(1.,0.)).rgb,c[8]=texture2D(u1,d-u7*vec2(1.,1.)).rgb;vec3 a,b;a=min(c[0],c[1]),b=max(c[0],c[1]),c[0]=a,c[1]=b,a=min(c[0],c[2]),b=max(c[0],c[2]),c[0]=a,c[2]=b,a=min(c[0],c[3]),b=max(c[0],c[3]),c[0]=a,c[3]=b,a=min(c[0],c[4]),b=max(c[0],c[4]),c[0]=a,c[4]=b,a=min(c[0],c[5]),b=max(c[0],c[5]),c[0]=a,c[5]=b,a=min(c[0],c[6]),b=max(c[0],c[6]),c[0]=a,c[6]=b,a=min(c[0],c[7]),b=max(c[0],c[7]),c[0]=a,c[7]=b,a=min(c[0],c[8]),b=max(c[0],c[8]),c[0]=a,c[8]=b,a=min(c[1],c[2]),b=max(c[1],c[2]),c[1]=a,c[2]=b,a=min(c[1],c[3]),b=max(c[1],c[3]),c[1]=a,c[3]=b,a=min(c[1],c[4]),b=max(c[1],c[4]),c[1]=a,c[4]=b,a=min(c[1],c[5]),b=max(c[1],c[5]),c[1]=a,c[5]=b,a=min(c[1],c[6]),b=max(c[1],c[6]),c[1]=a,c[6]=b,a=min(c[1],c[7]),b=max(c[1],c[7]),c[1]=a,c[7]=b,a=min(c[1],c[8]),b=max(c[1],c[8]),c[1]=a,c[8]=b,a=min(c[2],c[3]),b=max(c[2],c[3]),c[2]=a,c[3]=b,a=min(c[2],c[4]),b=max(c[2],c[4]),c[2]=a,c[4]=b,a=min(c[2],c[5]),b=max(c[2],c[5]),c[2]=a,c[5]=b,a=min(c[2],c[6]),b=max(c[2],c[6]),c[2]=a,c[6]=b,a=min(c[2],c[7]),b=max(c[2],c[7]),c[2]=a,c[7]=b,a=min(c[2],c[8]),b=max(c[2],c[8]),c[2]=a,c[8]=b,a=min(c[3],c[4]),b=max(c[3],c[4]),c[3]=a,c[4]=b,a=min(c[3],c[5]),b=max(c[3],c[5]),c[3]=a,c[5]=b,a=min(c[3],c[6]),b=max(c[3],c[6]),c[3]=a,c[6]=b,a=min(c[3],c[7]),b=max(c[3],c[7]),c[3]=a,c[7]=b,a=min(c[3],c[8]),b=max(c[3],c[8]),c[3]=a,c[8]=b,a=min(c[4],c[5]),b=max(c[4],c[5]),c[4]=a,c[5]=b,a=min(c[4],c[6]),b=max(c[4],c[6]),c[4]=a,c[6]=b,a=min(c[4],c[7]),b=max(c[4],c[7]),c[4]=a,c[7]=b,a=min(c[4],c[8]),b=max(c[4],c[8]),c[4]=a,c[8]=b,gl_FragColor=vec4(c[4]*g,1.);}",
f:"u1 u38 u36 u35 u34 u37 u7".split(" "),precision:"lowp"},{id:"s49",name:"_",Z:"attribute vec2 a0;uniform vec4 u38;uniform vec2 u35,u36;uniform float u34,u37;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.);float a=u37*(u38.z/u38.w);a*=u36.x/u36.y;float b=cos(u34),c=sin(u34);vec2 d=mat2(b,-c*a,c/a,b)*a0,f=u35+d*u36;vv0=u38.xy+.5*u38.zw*f;}",c:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",f:"u1 u38 u36 u35 u34 u37".split(" "),precision:"lowp"},{id:"s52",
name:"_",Z:"attribute vec2 a0;uniform vec4 u38;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=u38.xy+.5*u38.zw*a0;}",c:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;const vec3 g=vec3(1.,1.,1.);float c[5];void main(){c[0]=texture2D(u1,vv0-u7*vec2(-1.,0.)).r,c[1]=texture2D(u1,vv0-u7*vec2(0.,-1.)).r,c[2]=texture2D(u1,vv0-u7).r,c[3]=texture2D(u1,vv0-u7*vec2(0.,1.)).r,c[4]=texture2D(u1,vv0-u7*vec2(1.,0.)).r;float a,b;a=min(c[0],c[1]),b=max(c[0],c[1]),c[0]=a,c[1]=b,a=min(c[0],c[2]),b=max(c[0],c[2]),c[0]=a,c[2]=b,a=min(c[0],c[3]),b=max(c[0],c[3]),c[0]=a,c[3]=b,a=min(c[0],c[4]),b=max(c[0],c[4]),c[0]=a,c[4]=b,a=min(c[1],c[2]),b=max(c[1],c[2]),c[1]=a,c[2]=b,a=min(c[1],c[3]),b=max(c[1],c[3]),c[1]=a,c[3]=b,a=min(c[1],c[4]),b=max(c[1],c[4]),c[1]=a,c[4]=b,a=min(c[2],c[3]),b=max(c[2],c[3]),c[2]=a,c[3]=b,a=min(c[2],c[4]),b=max(c[2],c[4]),c[2]=a,c[4]=b,gl_FragColor=vec4(c[2]*g,1.);}",
f:["u1","u38","u7"],precision:"lowp"},{id:"s51",name:"_",Z:"attribute vec2 a0;uniform vec2 u35,u36;varying vec2 vv0;const vec2 f=vec2(1.,1.);void main(){gl_Position=vec4(a0,0.,1.);vec2 a=u35+a0*u36,b=(a+f)/2.;vv0=b;}",c:"uniform sampler2D u1;uniform vec4 u38;varying vec2 vv0;void main(){vec2 b=u38.xy-.5*u38.zw,c=u38.xy+.5*u38.zw,a=step(b,vv0)*step(vv0,c);gl_FragColor=mix(texture2D(u1,vv0),vec4(0.,1.,0.,1.),a.x*a.y*.5);}",f:["u1","u38","u36","u35"],precision:"lowp"}]);var f=[{type:"1i",name:"u1",value:0}];
x.u("s50",f);x.u("s49",f);x.u("s52",f);x.u("s51",f);L()}function L(){ka=0;x.u("s49",oa);x.u("s50",oa);na.roll=0}function K(){p.aspectRatio=p.width/p.height;ja.splice(0,ja.length);X=0;p.Fa=Math.round(p.width*A.margins);p.Ga=Math.round(p.height*A.margins);p.Na=p.width-2*p.Fa;p.Ma=p.height-2*p.Ga;var f=Math.min(p.width,p.height),t,C,E;for(t=0;t<A.nSweepSsteps;++t){var S=A.sweepScaleRange[0]+t/(A.nSweepSsteps-1)*(A.sweepScaleRange[1]-A.sweepScaleRange[0]);S*=f;var ua=S/p.width;var ta=ua*p.aspectRatio;
var wa=(p.Na-S)*(p.Ma-S);var ma=Math.min(Math.floor(wa/(A.sweepStepMinPx*A.sweepStepMinPx)),A.nSweepXYsteps);ma=wa/ma;var qa=Math.round(Math.sqrt(ma));var Ia=Math.round((p.Na-S)/qa);var Pa=Math.round((p.Ma-S)/qa);for(E=0;E<Pa;++E)for(wa=p.Ga+Math.round(S/2+qa*E),wa/=p.height,C=0;C<Ia;++C)ma=p.Fa+Math.round(S/2+qa*C),ma/=p.width,ja.push([ma,wa,ua,ta])}if(A.sweepShuffle)for(f=ja,t=f.length-1;0<t;--t)S=Math.floor(Math.random()*(t+1)),ua=f[t],f[t]=f[S],f[S]=ua;else ja.reverse()}function I(f){xa={isLinear:!0,
width:p.width,height:p.height,A:f,isPot:!1,isFlipY:!0,isFloat:!1};b=Y.a(xa);ia=!0}function e(f,t,C){if(!f.exportData||!f.exportData.labels)return t("INVALID_NN");var E=f.exportData;"undefined"===typeof E.paramsPerLabel&&(E.paramsPerLabel={});"undefined"!==typeof C&&C.paramsPerLabel&&(E.paramsPerLabel=Object.assign(E.paramsPerLabel,C.paramsPerLabel));Qa.reset_state();O=new jb;O.sc(f.layers);O.uc({ob:"cpuRGBA2Float",nc:G});y.X=Y.a({isFloat:!1,isPot:!1,width:O.Ub()});Z=E.dxysFactors?E.dxysFactors:r.Za;
E.rollMax?(Aa=E.rollMax,ra=!0):ra=!1;E.pitchRange?(Ba=E.pitchRange,V=!0):V=!1;ba=O.Xb();f="undefined"===typeof C?{}:C;sa="undefined"===typeof f.notHereFactor?1:f.notHereFactor;f=E.labels;C="undefined"===typeof E.paramsPerLabel?!1:E.paramsPerLabel;var S="undefined"===typeof E.inputAspectRatio?1:E.inputAspectRatio;p.W[0]=Math.sqrt(S);p.W[1]=1/Math.sqrt(S);S!==p.ma&&(p.ma=S,K());S=Array(f.length);var ua,ta;for(ta=0;ta<ba/8;++ta)for(ua=0;ua<ba;++ua){var wa=ua+ta*ba;if(wa>=f.length)break;var ma=ua;var qa=
8*ta;var Ia=f[wa];var Pa=C&&C[Ia]&&C[Ia].thresholdDetect?C[Ia].thresholdDetect:r.Oa;var kb=E.distances&&E.distances[wa]?E.distances[wa]:3;S[wa]={Oa:Pa,label:Ia,Lb:kb,kb:{here:ma+qa*ba,notHere:ma+(qa+1)*ba,yaw:ma+(qa+2)*ba,dx:ma+(qa+3)*ba,dy:ma+(qa+4)*ba,ds:ma+(qa+5)*ba,roll:ma+(qa+6)*ba,pitch:ma+(qa+7)*ba}}}la=S;t(!1)}var r={ia:512,Za:[.05,.05,.15],qc:{margins:.1,nSweepXYsteps:36,nSweepSsteps:4,sweepScaleRange:[.3,.7],sweepStepMinPx:16,sweepShuffle:!0},rb:[1/15,.9],ic:3,Oa:.68,kc:10,ec:.03,gc:8,zc:-.02,
Fb:.02,tb:.7,hc:20,Nc:.3,Bc:[.02,10],oa:[1,6],jc:3},A=Object.create(r.qc),Z=r.Za,Aa,Ba,ra=!1,V=!1,c=0,D=0,H=!1,O,T=!1,W=!1,da,ka=0,aa,p={aspectRatio:1,ma:1,W:[1,1],width:0,height:0,U:0,T:0,Fa:0,Ga:0,Na:0,Ma:0,ca:"s49",v:{ba:[0,0],scale:[1,1]}},ja=[],X=0,y={X:!1,j:[0,0,0,0]},z={ta:-2,LOADING:-1,$:0,sa:1,Qa:2,ha:3},N=z.ta,ea=-2,la,ba;var za=l=0;var Ea=-1;var Q={n:0,nb:0,Ia:0,D:-1,K:[0,0]};var ca=0;var ia=b=d=!1;var fa=0;var va=-1;var xa=null;var Da=!1,na={distance:0,label:!1,positionScale:[0,0,0,0],
detectScore:0,yaw:0,pitch:0,roll:0},Ca=1,U=1,Fa=!1,v=!1,R,sa=1,ya=r.tb,pa={cutShader:null,thresholdDetectFactor:1,thresholdDetectFactorUnstitch:1,isSkipConfirmation:!1,isKeepTracking:!1,trackingFactors:[2,2,2],secondNeighborFactor:r.tb,nLocateAutomoves:r.kc,locateMoveNoiseAmplitude:r.ec,nConfirmAutoMoves:r.gc,nConfirmUnstitchMoves:r.hc,confirmMoveNoiseAmplitude:r.Fb,thresholdConfirmOffset:r.zc,tiltPosAngleIfAmbiguousDetection:r.Bc,confirmScoreMinFactorDuringAutoMove:r.Gc},oa=[{type:"1f",name:"u34",
value:0}],Ra,Sa,Ja,Ua,Va,Ta,Oa,Wa,Qa={init:function(f){function t(C){f.callbackReady&&f.callbackReady(C)}if(N!==z.ta)return t("ALREADY_INITIALIZED");N=z.LOADING;if("undefined"!==typeof f.canvas)T=f.canvas,W=!1;else if("undefined"===typeof f.canvasId)T=document.createElement("canvas"),W=!1;else{T=document.getElementById(f.canvasId);if(!T)return t("INVALID_CANVASID"),!1;W=!0}"undefined"!==typeof f.isDebugRender&&(W=f.isDebugRender);W&&(T.style.display="block");f.scanSettings&&m(A,f.scanSettings);f.canvasSize&&
(r.ia=f.canvasSize);ha.l({n:r.oa[1]-r.oa[0]+1,Ha:r.jc-r.oa[0]});da="undefined"===typeof f.followZRot?!1:f.followZRot;aa="undefined"===typeof f.ZRotRange?null:f.ZRotRange;Da="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof WorkerGlobalScope;-1!==r.ia&&(T.width=r.ia,T.height=r.ia);Qa.set_source(f.video,f.videoCrop);if(!Ya.l({da:T,width:T.width,height:T.height,debug:!1,mc:t.bind(null,"GLCONTEXT_LOST"),premultipliedAlpha:!1})||!Ya.bc())return t("GL_INCOMPATIBLE"),!1;
0===ca&&(I(d),K());J();h();N=z.$;t(!1);return!0},set_source:function(f,t){"undefined"!==typeof f&&f?(d=f,ca=0,"VIDEO"===f.tagName?(p.U=d.videoWidth,p.T=d.videoHeight,fa=1):(p.U=d.width,p.T=d.height,fa=2),q(t)):ca=1;-1===[z.ta,z.LOADING].indexOf(N)&&(xa&&xa.A&&(xa.A=f),K(),h(),2===fa&&b.refresh())},set_NN:function(f,t,C){if(1===ea)t&&t("NN_LOADING");else{var E=function(S){ea=0;t&&t(S)};ea=1;"string"===typeof f?Ga(f,function(S){if(!S)return E("INVALID_NN");try{var ua=JSON.parse(S)}catch(ta){return E("INVALID_NN")}e(ua,
E,C)},function(){E("NOTFOUND_NN")}):e(f,E,C)}},reset_state:function(){L();X=0;N=z.$},detect:function(f,t,C){if(N===z.LOADING||0!==ea)return na;C=Object.assign({},pa,C?C:{});Ca=C.thresholdDetectFactor;U=C.thresholdDetectFactorUnstitch;Fa=C.isSkipConfirmation;v=C.isKeepTracking;R=C.trackingFactors;ya=C.secondNeighborFactor;Ra=C.nLocateAutomoves;Sa=C.locateMoveNoiseAmplitude;Ja=C.nConfirmAutoMoves;Ta=C.thresholdConfirmOffset;Va=C.confirmMoveNoiseAmplitude;Ua=C.nConfirmUnstitchMoves;Oa=C.tiltPosAngleIfAmbiguousDetection;
Wa=C.confirmScoreMinFactorDuringAutoMove;M.N();na.label=!1;if(0===ca)switch(1===fa&&va!==d.currentTime&&(b.refresh(),va=d.currentTime),C.cutShader){case "median":p.ca="s50";break;default:p.ca="s49"}else if(1===ca){if(!ia){p.width=t.size.width;p.height=t.size.height;switch(C.cutShader){case "IOS":p.ca="s52";x.u("s52",[{name:"u7",type:"2f",value:[1/p.width,1/p.height]}]);break;default:p.ca="s49"}I(null);K()}b.Ec(t.buffer)}f||(f=ha.level+r.oa[0],ha.Ac(Date.now()));for(t=0;t<f;++t)y.X.H(),x.set(p.ca),
da&&ra&&x.I("u34",N===z.ha?ka:0),b.b(0),x.ra("u38",y.j),P.i(!1,!1),y.X.b(0),H=t===f-1,O.F(!1,y.X),M.N();M.Cc();W&&(a.viewport(0,0,T.width,T.height),x.set("s51"),b.b(0),x.ra("u38",y.j),P.i(!1,!1),Da&&a.commit?a.commit():a.flush());return na},get_aspectRatio:function(){return p.width/p.height},set_scanSettings:function(f){m(A,f);K()},set_videoCrop:function(f){q(f);h();K()}};return Qa}();
;return JEEARAPI;})();