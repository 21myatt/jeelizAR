 /**
 * Jeeliz AR - https://github.com/jeeliz/jeelizAR
 *
 * Copyright 2018 Jeeliz ( https://jeeliz.com )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

var JEEARAPI=(function(){function la(a,b,e){var g=new XMLHttpRequest;g.open("GET",a,!0);g.withCredentials=!1;g.onreadystatechange=function(){4===g.readyState&&(200===g.status?b(g.responseText):"undefined"!==typeof e&&e(g.status))};g.send()}function na(a,b){var e=b%8;return a[(b-e)/8]>>7-e&1}
function oa(a){var b=JSON.parse(a);a=b.ne;var e=b.nf,g=b.n,h="undefined"===typeof btoa?Buffer.from(b.data,"base64").toString("latin1"):atob(b.data),d=h.length,l;b=new Uint8Array(d);for(l=0;l<d;++l)b[l]=h.charCodeAt(l);h=new Float32Array(g);d=new Float32Array(e);l=a+e+1;var m,f;for(m=0;m<g;++m){var k=l*m;var t=0===na(b,k)?1:-1;var w=k+1;var r=1,p=0;for(f=w+a-1;f>=w;--f)p+=r*na(b,f),r*=2;f=p;w=b;r=k+1+a;p=d;var y=0,z=p.length;for(k=r;k<r+z;++k)p[y]=na(w,k),++y;for(k=w=0;k<e;++k)w+=d[k]*Math.pow(2,-k-
1);t=0===w&&0===f?0:t*(1+w)*Math.pow(2,1+f-Math.pow(2,a-1));h[m]=t}return h}
var n=function(){function a(a,b){a=c.createShader(a);c.shaderSource(a,b);c.compileShader(a);return c.getShaderParameter(a,c.COMPILE_STATUS)?a:!1}function b(b,d,f){b=a(c.VERTEX_SHADER,b,f+" VERTEX");d=a(c.FRAGMENT_SHADER,d,f+" FRAGMENT");f=c.createProgram();c.attachShader(f,b);c.attachShader(f,d);c.linkProgram(f);return f}function e(a){void 0===a.fa&&(a.fa="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");void 0===a.aa&&(a.aa=
["a0"]);void 0===a.S&&(a.S=[2]);void 0===a.precision&&(c.getShaderPrecisionFormat&&10<=c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.MEDIUM_FLOAT).precision?a.precision="mediump":a.precision="highp");void 0===a.v&&(a.v=[]);a.id=l++;void 0!==a.jc&&a.jc.forEach(function(b,d){a.c=a.c.replace(b,a.kb[d])});a.Ka=0;a.S.forEach(function(b){a.Ka+=4*b});a.la=b(a.fa,"precision "+a.precision+" float;\n"+a.c,a.name);a.o={};a.f.forEach(function(b){a.o[b]=c.getUniformLocation(a.la,b)});a.attributes={};a.ba=[];
a.aa.forEach(function(b){var d=c.getAttribLocation(a.la,b);a.attributes[b]=d;a.ba.push(d)});if(a.g){c.useProgram(a.la);d=a;h=a.id;for(var f in a.g)c.uniform1i(a.o[f],a.g[f])}a.bd=!0}function g(a){ra.oc(q);h!==a.id&&(q.R(),h=a.id,d=a,c.useProgram(a.la),a.ba.forEach(function(a){0!==a&&c.enableVertexAttribArray(a)}))}var h=-1,d=!1,l=0,m=!1,f=["u0"],k=["u1"],t={u0:0},w={u1:0},r={u0:0,u2:1},p={u3:0},y={u4:0,u5:1},z={s0:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vv0);}",
f:f,g:t},s1:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vv0);}",f:f,g:t,precision:"lowp"},s2:{name:"_",c:"uniform sampler2D u0,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u0,vv0);gl_FragColor=a*b;}",f:["u0","u2"],g:r},s3:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a.r*f;}",f:f,g:t},s4:{name:"_",c:"uniform sampler2D u0,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u0,vv0);gl_FragColor=a.a*b.r*f;}",
f:["u0","mask"],g:r},s5:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vec2(1.-vv0.x,vv0.y));}",f:f,g:t},s6:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vec2(vv0.x,1.-vv0.y));}",f:f,g:t},s7:{name:"_",c:"uniform sampler2D u1;uniform float u6;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*u6;}",f:["u1","u6"],g:w},s8:{name:"_",c:"uniform sampler2D u1;uniform float u6;varying vec2 vv0;const vec4 g=vec4(.25,.25,.25,.25),e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);float b=dot(a*u6,g);gl_FragColor=b*e;}",
f:["u1","u6"],g:w},s9:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u0,vv0));gl_FragColor=a*e;}",f:f,g:t},s10:{name:"_",c:"uniform sampler2D u0,u7;uniform float u8;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0),b=texture2D(u7,vv0);gl_FragColor=mix(b,a,u8*f);}",f:["u0","u7","u8"],g:{u0:0,u7:1}},s11:{name:"_",c:"uniform sampler2D u0;uniform vec2 u9;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u0,vv0+u9)+texture2D(u0,vv0+u9*vec2(1.,-1.))+texture2D(u0,vv0+u9*vec2(-1.,-1.))+texture2D(u0,vv0+u9*vec2(-1.,1.)));}",
f:["u0","u9"],g:t},s12:{name:"_",c:"uniform sampler2D u0;uniform vec4 u10;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 k(float a){if(a==0.)return vec4(0.,0.,0.,0.);float l=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),m=c+127.,b=(a/exp2(c)-1.)*8388608.,d=m/2.,n=fract(d)*2.,o=floor(d),p=e(b,0.,8.),q=e(b,8.,16.),r=n*128.+e(b,16.,23.),j=l+o;return vec4(p,q,r,j)/255.;}void main(){float a=dot(texture2D(u0,vv0),u10);gl_FragColor=k(a);}",
f:["u0","u10"],g:t},s13:{name:"_",c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",f:k,g:w,v:k,A:!0},s14:{name:"_",c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=max(e,a);}",f:k,g:w,v:k,A:!0},s15:{name:"_",c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=mix(exp(-abs(a))-e,a,step(0.,a));}",
f:k,g:w,v:k,A:!0},s16:{name:"_",c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0),b=exp(-abs(a))-e;gl_FragColor=mix(.1*b,a,step(0.,a));}",f:k,g:w,v:k,A:!0},s17:{name:"_",c:"uniform sampler2D u1,u8,u11;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0),c=texture2D(u8,vv0),d=texture2D(u11,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",f:["u1","u8","u11"],g:{u1:0,u8:1,u11:2},v:k,A:!0},s18:{name:"_",
c:"uniform sampler2D u1;const float e=3.141593;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=atan(e*a)/e;gl_FragColor=b;}",f:k,g:w,v:k,A:!0},s19:{name:"_",c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(.5,.5,.5,.5);void main(){vec4 a=texture2D(u1,vv0),b=log(e+a);gl_FragColor=b;}",f:k,g:w,v:k,A:!0},s20:{name:"_",c:"uniform sampler2D u1;uniform float gain;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=exp(a);}",f:["u1","u12"],g:w,v:k,A:!0},
s21:{name:"_",c:"uniform sampler2D u1,u13;uniform float u14;const vec2 f=vec2(.5,.5);const float g=1e-5;const vec4 h=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u13,f);float b=u14*u14;vec4 c=max(b*a,g*h);gl_FragColor=texture2D(u1,vv0)/c;}",f:["u1","u15","u14"],g:{u1:0,u15:1}},s22:{name:"_",c:"uniform sampler2D u0;uniform vec2 u16;varying vec2 vv0;void main(){float a=u16.x*u16.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u16.y),g=floor(u16.x*fract(b*u16.y)),f=(g*u16.y+d)/a;gl_FragColor=texture2D(u0,f+c/a);}",
f:["u0","u16"],g:t},s23:{name:"_",c:"uniform sampler2D u17,u5,u18;varying vec2 vv0;void main(){vec4 a=texture2D(u18,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u17,b),e=texture2D(u5,c);gl_FragColor=d*e;}",f:["u17","u5","u18"],v:["u17","u5","u18"],g:{u5:0,u17:1,u18:2},A:!0},s24:{name:"_",c:"uniform float u19;uniform sampler2D u17,u5;varying vec2 vv0;void main(){vec2 a=fract(vv0*u19);vec4 b=texture2D(u17,vv0),c=texture2D(u5,a);gl_FragColor=b*c;}",f:["u5","u17","u19"],v:["u5","u17"],g:{u5:0,u17:1},A:!0},
s25:{name:"_",c:"uniform float u19;uniform sampler2D u17,u5,u20,u21,u22,u23;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 i=vv0*u19,m=floor(i),c=i-m;vec4 n=texture2D(u17,vv0),d=texture2D(u5,c),a=texture2D(u23,vv0);a=a*255.;vec4 o=texture2D(u20,c),p=texture2D(u21,c),q=texture2D(u22,c),j=step(-g,-a),b=e-j,k=b*step(-e-g,-a);b*=e-k;vec4 h=b*step(-2.*e-g,-a);b*=e-h;vec4 l=b;d=j*d+k*o+h*p+l*q,gl_FragColor=n*d;}",f:"u17 u5 u19 u23 u20 u21 u22".split(" "),g:{u5:0,
u17:1,u23:3,u20:4,u21:5,u22:6},A:!0},s26:{name:"_",c:"uniform sampler2D u17,u5,u24;uniform float u19,u25,u26,u27;varying vec2 vv0;const vec2 j=vec2(1.,1.);void main(){vec2 a=floor(u25*vv0),g=u25*vv0-a;float b=u19/u25;vec2 c=floor(g*b),d=g*b-c,h=(a+d)/u25;float l=u25*u27/u19;vec2 m=l*c,i=(m+d*u26)/u27,e=step(i,j);vec4 n=texture2D(u17,h),o=texture2D(u5,i),p=n*o*e.x*e.y,k=texture2D(u24,h);gl_FragColor=p*u26*u26+k;}",f:"u17 u5 u19 u25 u26 u27 u24".split(" "),v:["u17","u5","u24"],g:{u5:0,u17:1,u24:2},
A:!0},s27:{name:"_",c:"uniform sampler2D u17,u5;varying vec2 vv0;void main(){vec4 a=texture2D(u17,vv0),b=texture2D(u5,vv0);gl_FragColor=a*b;}",f:["u17","u5"],v:["u17","u5"],g:{u5:0,u17:1},A:!0},s28:{name:"_",c:"uniform sampler2D u0,u24;uniform float u28;varying vec2 vv0;void main(){gl_FragColor=texture2D(u24,vv0)+u28*texture2D(u0,vv0);}",f:["u0","u24","u28"],v:["u0","u24"],A:!0,g:{u0:0,u24:1}},s29:{name:"_",c:"varying vec2 vv0;uniform sampler2D u0;const vec4 g=vec4(1.,1.,1.,1.),e=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=dot(a,e)*g;}",
f:f,g:t,precision:"lowp"},s30:{name:"_",c:"varying vec2 vv0;uniform sampler2D u0,u2;uniform float u29;const vec4 g=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u0,vec2(vv0.x-u29,vv0.y-u29))*1.,a-=texture2D(u0,vec2(vv0.x-u29,vv0.y))*2.,a-=texture2D(u0,vec2(vv0.x-u29,vv0.y+u29))*1.,a+=texture2D(u0,vec2(vv0.x+u29,vv0.y-u29))*1.,a+=texture2D(u0,vec2(vv0.x+u29,vv0.y))*2.,a+=texture2D(u0,vec2(vv0.x+u29,vv0.y+u29))*1.;vec4 b=vec4(0.);b-=texture2D(u0,vec2(vv0.x-u29,vv0.y-u29))*1.,b-=texture2D(u0,vec2(vv0.x,vv0.y-u29))*2.,b-=texture2D(u0,vec2(vv0.x+u29,vv0.y-u29))*1.,b+=texture2D(u0,vec2(vv0.x-u29,vv0.y+u29))*1.,b+=texture2D(u0,vec2(vv0.x,vv0.y+u29))*2.,b+=texture2D(u0,vec2(vv0.x+u29,vv0.y+u29))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u0,vv0).a),f=texture2D(u2,vv0);gl_FragColor=f.a*e.r*g;}",
f:["u0","u2","u29"],g:r},s31:{name:"_",c:"varying vec2 vv0;uniform sampler2D u0,u2;uniform float u29;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float i=0.;vec2 l=k*u29,b,c;float d,a,g=0.;for(float f=-4.;f<=4.;f+=1.)for(float e=-4.;e<=4.;e+=1.)b=vec2(f,e),d=length(b)/2.,a=exp(-d*d),c=vv0+l*b,a=1.,i+=a*texture2D(u0,c).r,g+=a;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u0,c).r-i/g)*j;}",f:["u0","u2","u29"],g:r},s32:{name:"_",c:"uniform sampler2D u3;uniform vec2 u9;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 h=vec2(.5,.5),i=vec2(1.,0.),j=vec2(0.,1.);void main(){vec2 a=vv0-u9*h;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u9*i),d=texture2D(u3,a+u9*j),k=texture2D(u3,a+u9),l=e(b,c),g=e(d,k);gl_FragColor=e(l,g);}",
f:["u3","u9"],g:p},s33:{name:"_",c:"uniform sampler2D u3;uniform vec2 u9;varying vec2 vv0;const vec2 j=vec2(1.,0.),k=vec2(0.,1.),l=vec2(2.,0.),m=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u9*j),d=texture2D(u3,a+u9*k),g=texture2D(u3,a+u9),i=e(b,c),h=e(d,g);return e(i,h);}void main(){vec2 a=vv0+u9*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u9*l),d=f(a+u9*2.),g=f(a+u9*m),i=e(b,c),h=e(d,g);gl_FragColor=e(i,h);}",f:["u3","u9"],g:p},
s34:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*a;}",f:["u0"],g:t,precision:"lowp"},s35:{name:"_",c:"uniform sampler2D u0;uniform vec2 u9;varying vec2 vv0;const vec4 g=vec4(1.,1.,1.,1.);const float d=15444.;void main(){vec4 a=1001./d*texture2D(u0,vv0-3.*u9)+2002./d*texture2D(u0,vv0-2.*u9)+3003./d*texture2D(u0,vv0-u9)+3432./d*texture2D(u0,vv0)+3003./d*texture2D(u0,vv0+u9)+2002./d*texture2D(u0,vv0+2.*u9)+1001./d*texture2D(u0,vv0+3.*u9);gl_FragColor=a;}",
f:["u9","u0"],g:t,precision:"lowp"},s36:{name:"_",c:"uniform sampler2D u0,u30,u31;varying vec2 vv0;const vec4 g=vec4(1.,1.,1.,1.);const float h=.1;void main(){vec4 a=texture2D(u30,vv0),b=texture2D(u31,vv0),c=texture2D(u0,vv0),d=max(g*h,b-a*a),f=sqrt(d);gl_FragColor=(c-a)/f;}",f:["u0","u30","u31"],g:{u0:0,u30:1,u31:2},A:!0},s37:{name:"_",c:"uniform sampler2D u17,u32,u33;varying vec2 vv0;void main(){vec4 a=texture2D(u33,vv0);vec2 b=a.rg;vec4 c=texture2D(u17,b);vec2 d=a.ba;vec4 e=texture2D(u32,d);gl_FragColor=c*e;}",
f:["u17","u32","u33"],g:{u32:0,u33:1,u17:2}},s38:{name:"_",c:"uniform sampler2D u17,u32;uniform float u19,u27;varying vec2 vv0;void main(){float d=u19*u27;vec2 b=vv0*u27,c=floor(b),a=b-c;a.y=1.-a.y;vec2 g=floor(a*u19),h=(g*u27+c)/d;vec4 i=texture2D(u17,h),e=texture2D(u32,a);gl_FragColor=i*e;}",f:["u17","u32","u19","u27"],g:{u32:0,u17:1}},s39:{name:"_",c:"uniform sampler2D u17,u32;uniform float u19,u27,u26,u25;varying vec2 vv0;const vec2 e=vec2(1.,1.);void main(){float k=u19*u26/u27,d=u25*u27/u19,l=k/u25,m=u19/u25,n=k/u25;vec2 g=e-vv0,c=floor(u27*g),h=u27*g-c,i=floor(u25*h),j=u25*h-i,q=j*l,r=floor(c/d),s=c-r*d,t=floor(c/d),u=t+n*j,a=(u+i*m)/u19;a=mod(a,e),a=e-a;vec2 v=s-d*q,b=mod(v/u26,e);b=e-b,b+=vec2(1./u19,1./u19),b=mod(b,e);vec2 w=floor(a*u25),f=(w+b)/u25;f=mod(f,e);vec4 x=texture2D(u17,f),o=texture2D(u32,a);gl_FragColor=x*o;}",
f:"u17 u32 u19 u27 u26 u25".split(" "),g:{u32:0,u17:1}},s40:{name:"_",c:"uniform sampler2D u1,u34,u35;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u34,vv0),c=texture2D(u35,vv0);gl_FragColor=a-b;}",f:["u1","u34","u35"],g:{u1:0,u34:1,u35:2}},s41:{name:"_",c:"uniform sampler2D u1,u34,u35;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u34,vv0),c=texture2D(u35,vv0);gl_FragColor=c*(a-b);}",f:["u1","u34","u35"],g:{u1:0,u34:1,u35:2}},
s42:{name:"_",c:"uniform sampler2D u4,u5;uniform float u28;varying vec2 vv0;void main(){vec4 a=u28*texture2D(u4,vv0),b=texture2D(u5,vv0);gl_FragColor=a;}",f:["u4","u5","u28"],g:y},s43:{name:"_",c:"uniform sampler2D u4,u5;uniform float u28;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);vec4 g(vec4 b){vec4 a=exp(-b);return a/((f+a)*(f+a));}void main(){vec4 a=u28*texture2D(u4,vv0),b=texture2D(u5,vv0);gl_FragColor=a*g(b);}",f:["u4","u5","u28"],g:y},s44:{name:"_",c:"uniform sampler2D u4,u5;uniform float u28;varying vec2 vv0;const vec4 g=vec4(0.,0.,0.,0.),i=vec4(1.,1.,1.,1.);const float h=1e-4;vec4 f(vec4 a){return h+step(g,a);}void main(){vec4 a=u28*texture2D(u4,vv0),b=texture2D(u5,vv0);gl_FragColor=a*f(b);}",
f:["u4","u5","u28"],g:y},s45:{name:"_",c:"uniform sampler2D u4,u5;uniform float u28;varying vec2 vv0;const vec4 g=vec4(1.,1.,1.,1.);vec4 f(vec4 a){vec4 b=exp(-abs(a));return mix(b,g,step(0.,a));}void main(){vec4 a=u28*texture2D(u4,vv0),b=texture2D(u5,vv0);gl_FragColor=a*f(b);}",f:["u4","u5","u28"],g:y},s46:{name:"_",c:"uniform sampler2D u4,u5;uniform float u28;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);const float h=3.141593;vec4 g(vec4 b){vec4 a=b*h;return e/(e+a*a);}void main(){vec2 a=vv0;vec4 b=u28*texture2D(u4,a),c=texture2D(u5,a);gl_FragColor=b*g(c);}",
f:["u4","u5","u28"],g:y}},D={},q={Aa:function(){return m},m:function(){if(!m){for(var a in z)e(z[a],a);n.set("s0");c.enableVertexAttribArray(0);a=sa.m();m=!0;return a}},rb:function(a){a.forEach(function(a){q.qb(a)})},qb:function(a){z[a.id]=a;e(a,a.id)},Xb:function(a,b,d){b||(b=a);z[b]=Object.create(D[a]);D[a].kb&&D[a].kb.forEach(function(a,f){z[b].c=z[b].c.replace(new RegExp(a,"g"),d[f])});e(z[b],b)},set:function(a){g(z[a])},Oc:function(){return d.Lc},R:function(){-1!==h&&(h=-1,d.ba.forEach(function(a){0!==
a&&c.disableVertexAttribArray(a)}))},Ea:function(){var a=0;d.ba.forEach(function(b,f){f=d.S[f];c.vertexAttribPointer(b,f,c.FLOAT,!1,d.Ka,a);a+=4*f})},Kc:function(){c.enableVertexAttribArray(0)},Fa:function(){c.vertexAttribPointer(d.ba[0],2,c.FLOAT,!1,8,0)},rd:function(a,b){c.uniform1i(d.o[a],b)},B:function(a,b){c.uniform1f(d.o[a],b)},G:function(a,b,f){c.uniform2f(d.o[a],b,f)},sd:function(a,b){c.uniform2fv(d.o[a],b)},ud:function(a,b){c.uniform3fv(d.o[a],b)},td:function(a,b,f,k){c.uniform3f(d.o[a],
b,f,k)},ma:function(a,b){c.uniform4fv(d.o[a],b)},vd:function(a,b){c.uniformMatrix2fv(d.o[a],!1,b)},wd:function(a,b){c.uniformMatrix3fv(d.o[a],!1,b)},xd:function(a,b){c.uniformMatrix4fv(d.o[a],!1,b)},Z:function(a,b){q.set(a);b.forEach(function(a){switch(a.type){case "4f":c.uniform4fv(d.o[a.name],a.value);break;case "3f":c.uniform3fv(d.o[a.name],a.value);break;case "2f":c.uniform2fv(d.o[a.name],a.value);break;case "1f":c.uniform1f(d.o[a.name],a.value);break;case "1i":c.uniform1i(d.o[a.name],a.value);
break;case "mat2":c.uniformMatrix2fv(d.o[a.name],!1,a.value);break;case "mat3":c.uniformMatrix3fv(d.o[a.name],!1,a.value);break;case "mat4":c.uniformMatrix4fv(d.o[a.name],!1,a.value)}})}};return q}(),c,ua=function(){function a(a){console.log("ERROR in ContextFeedForward : ",a);return!1}var b=!1,e=!1,g=!1,h=!1,d=!0,l=!1,m={w:function(){return b.width},J:function(){return b.height},Pc:function(){return b},Nc:function(){return c},s:function(){return d},flush:function(){c.flush()},Mb:function(){l||(l=
new Uint8Array(b.width*b.height*4));c.readPixels(0,0,b.width,b.height,c.RGBA,c.UNSIGNED_BYTE,l);return l},Rc:function(){return b.toDataURL("image/jpeg")},Sc:function(){u.H();e||(e=document.createElement("canvas"),g=e.getContext("2d"));e.width=b.width;e.height=b.height;var a=m.Mb(),d=g.createImageData(e.width,e.height),h,l,r=e.width,p=e.height,y=d.data;for(l=0;l<p;++l){var z=p-l-1;for(h=0;h<r;++h){var D=4*(l*r+h);var q=4*(z*r+h);y[D]=a[q];y[D+1]=a[q+1];y[D+2]=a[q+2];y[D+3]=a[q+3]}}g.putImageData(d,
0,0);return e.toDataURL("image/png")},Qc:function(a){!e&&a&&(e=document.createElement("canvas"),g=e.getContext("2d"));var d=a?e:document.createElement("canvas");d.width=b.width;d.height=b.height;(a?g:d.getContext("2d")).drawImage(b,0,0);return d},m:function(f){f.Bb&&!f.ca?b=document.getElementById(f.Bb):f.ca&&(b=f.ca);b||(b=document.createElement("canvas"));b.width=f&&void 0!==f.width?f.width:512;b.height=f&&void 0!==f.height?f.height:512;"undefined"===typeof f&&(f={});void 0===f.premultipliedAlpha&&
(f.premultipliedAlpha=!1);void 0===f.Za&&(f.Za=!0);void 0===f.antialias&&(f.antialias=!1);var m={antialias:f.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:f.premultipliedAlpha,stencil:!1,depth:f.Za};(c=b.getContext("webgl2",m))?d=!0:((c=b.getContext("webgl",m))||(c=b.getContext("experimental-webgl",m)),d=!1);if(!c)return a("WebGL is not enabled");(h=c.getExtension("WEBGL_lose_context"))&&b.addEventListener("webglcontextlost",f.gc,!1);if(!v.m())return a("not enough capabilities");
if(!v.wb()&&d)return a("Your configuration cannot process color buffer float");c.clearColor(0,0,0,0);c.disable(c.DEPTH_TEST);c.disable(c.BLEND);c.disable(c.DITHER);c.disable(c.STENCIL_TEST);c.GENERATE_MIPMAP_HINT&&c.hint(c.GENERATE_MIPMAP_HINT,c.FASTEST);c.disable(c.SAMPLE_ALPHA_TO_COVERAGE);c.disable(c.SAMPLE_COVERAGE);return!0},Wb:function(){if(!n.m())return!1;c.depthFunc(c.LEQUAL);c.clearDepth(1);return!0}};return m}(),ra=function(){var a="undefined"===typeof n?JEShaders:n;return{oc:function(b){a!==
b&&(a.R(),a=b)},Aa:function(){return a.Aa()},Fa:function(){a.Fa()},Ea:function(){a.Ea()},R:function(){a.R()},set:function(b){a.set(b)}}}(),I=function(){var a,b,e=0,g=-2,h=-2,d=!1,l={reset:function(){h=g=-2},m:function(){d||(a=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,a),c.bufferData(c.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),c.STATIC_DRAW),b=c.createBuffer(),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,b),c.bufferData(c.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),c.STATIC_DRAW),l.qa(),d=!0)},
a:function(a){var b=e++,d=a.Y.length,l=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,l);c.bufferData(c.ARRAY_BUFFER,a.ob instanceof Float32Array?a.ob:new Float32Array(a.ob),c.STATIC_DRAW);g=b;if(a.Y){var m=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,m);if(65536>a.Y.length){var r=Uint16Array;var p=c.UNSIGNED_SHORT;var y=2}else r=Uint32Array,p=c.UNSIGNED_INT,y=4;c.bufferData(c.ELEMENT_ARRAY_BUFFER,a.Y instanceof r?a.Y:new r(a.Y),c.STATIC_DRAW);h=b}var z={vb:function(a){g!==b&&(c.bindBuffer(c.ARRAY_BUFFER,
l),g=b);a&&ra.Ea()},tb:function(){h!==b&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,m),h=b)},bind:function(a){z.vb(a);z.tb()},Hc:function(){c.drawElements(c.TRIANGLES,d,p,0)},Ic:function(a,b){c.drawElements(c.TRIANGLES,a,p,b*y)},remove:function(){c.deleteBuffer(l);a.Y&&c.deleteBuffer(m);z=null}};return z},qa:function(){-1!==g&&(c.bindBuffer(c.ARRAY_BUFFER,a),g=-1);-1!==h&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,b),h=-1)},h:function(a,b){a&&I.qa();b&&ra.Fa();c.drawElements(c.TRIANGLES,3,c.UNSIGNED_SHORT,0)},
Lb:function(){c.deleteBuffer(a);c.deleteBuffer(b)}};return l}(),u=function(){var a,b,e,g=!1,h={u:-2,Jb:1};return{m:function(){if(!g){a=c.createFramebuffer();var d=v.s();b=d&&c.DRAW_FRAMEBUFFER?c.DRAW_FRAMEBUFFER:c.FRAMEBUFFER;e=d&&c.READ_FRAMEBUFFER?c.READ_FRAMEBUFFER:c.FRAMEBUFFER;g=!0}},Vc:function(){return b},xa:function(){return e},W:function(){return c.FRAMEBUFFER},Xc:function(){return h},Mc:function(){return a},a:function(d){void 0===d.Ya&&(d.Ya=!1);var l=d.$?d.$:!1,e=d.width,f=void 0!==d.height?
d.height:d.width,k=a,g=!1,w=!1,r=0;l&&(e=e?e:l.w(),f=f?f:l.J());var p={lb:function(){w||(k=c.createFramebuffer(),w=!0,r=h.Jb++)},pb:function(){p.lb();p.j();g=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,g);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,e,f);c.framebufferRenderbuffer(b,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,g);c.clearDepth(1)},bind:function(a,d){r!==h.u&&(c.bindFramebuffer(b,k),h.u=r);l&&l.j();d&&c.viewport(0,0,e,f);a&&c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},
zc:function(){r!==h.u&&(c.bindFramebuffer(b,k),h.u=r)},clear:function(){c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},Cc:function(){c.clear(c.COLOR_BUFFER_BIT)},Dc:function(){c.clear(c.DEPTH_BUFFER_BIT)},pc:function(){c.viewport(0,0,e,f)},j:function(){r!==h.u&&(c.bindFramebuffer(b,k),h.u=r)},rtt:function(a){l=a;h.u!==r&&(c.bindFramebuffer(c.FRAMEBUFFER,k),h.u=r);a.j()},H:function(){c.bindFramebuffer(b,null);h.u=-1},resize:function(a,b){e=a;f=b;g&&(c.bindRenderbuffer(c.RENDERBUFFER,g),c.renderbufferStorage(c.RENDERBUFFER,
c.DEPTH_COMPONENT16,e,f))},remove:function(){c.bindFramebuffer(b,k);c.framebufferTexture2D(b,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0);g&&c.framebufferRenderbuffer(b,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,null);c.bindFramebuffer(b,null);c.deleteFramebuffer(k);g&&c.deleteRenderbuffer(g);p=null}};d.Ya&&p.pb();return p},H:function(){c.bindFramebuffer(b,null);h.u=-1},uc:function(){c.bindFramebuffer(b,null);c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);c.viewport(0,0,v.w(),v.J());h.u=-1},reset:function(){h.u=
-2},M:function(){0!==h.u&&(c.bindFramebuffer(b,a),h.u=0)},clear:function(){c.viewport(0,0,v.w(),v.J());c.clear(c.COLOR_BUFFER_BIT)}}}(),P=function(){function a(a){c.bindTexture(c.TEXTURE_2D,a)}function b(a){J[0]=a;a=Q[0];var b=a>>16&32768,E=a>>12&2047,d=a>>23&255;return 103>d?b:142<d?b|31744|((255==d?0:1)&&a&8388607):113>d?(E|=2048,b|(E>>114-d)+(E>>113-d&1)):b=(b|d-112<<10|E>>1)+(E&1)}function e(a){var E=new Uint16Array(a.length);a.forEach(function(a,d){E[d]=b(a)});return E}function g(){if(null!==
K.ya)return K.ya;var a=d(e([1,1,1,1]));return null===a?!0:K.ya=a}function h(){if(null!==K.za)return K.za;var a=d(new Uint8Array([255,255,255,255]));return null===a?!0:K.za=a}function d(a){if(!ra.Aa()||!y)return null;a=F.a({isFloat:!1,D:!0,array:a,width:1});u.H();c.viewport(0,0,1,1);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);ra.set("s0");a.Oa(0);I.h(!1,!0);var b=new Uint8Array(4);c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,b);b=.9<b[0];a.remove();u.M();return b}var l=0,m,f=0,k,t=!1,w,r,p,y=
!1,z=!1,D,q,G,aa=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],A=!1,H=!1,J=new Float32Array(1),Q=new Int32Array(J.buffer),K={ya:null,za:null},F={m:function(){if(!y){r=[c.RGB,!1,c.RGB,c.RGBA];p=[c.RGB,!1,c.RGB,c.RGBA];m=[c.TEXTURE0,c.TEXTURE1,c.TEXTURE2,c.TEXTURE3,c.TEXTURE4,c.TEXTURE5,c.TEXTURE6,c.TEXTURE7];A="undefined"!==typeof JEContext;H="undefined"!==typeof v;A&&JEContext.hd()&&m.push(c.TEXTURE8,c.TEXTURE9);k=[-1,-1,-1,-1,-1,-1,-1,-1];w=[c.UNSIGNED_BYTE,c.FLOAT,c.FLOAT];if(!t){for(var a=new Float32Array(16384),
b=0;16384>b;++b)a[b]=2*Math.random()-1;t={random:F.a({isFloat:!0,isPot:!0,array:a,width:64}),nb:F.a({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}y=!0}},Vb:function(){F.wc()},$c:function(){return t.nb},wc:function(){w[1]=v.ga_()},lc:function(){p=r=[c.RGBA,c.RGBA,c.RGBA,c.RGBA]},kd:function(a,b){n.set("s1");u.H();var E=a.w(),d=a.J();c.viewport(0,0,E,d);a.b(0);I.h(!1,!1);c.readPixels(0,0,E,d,c.RGBA,c.UNSIGNED_BYTE,b)},Kb:function(b,d,f){c.activeTexture(c.TEXTURE0);l=0;var E=c.createTexture();
a(E);var e=v.s()&&c.RGBA32F?c.RGBA32F:c.FLOAT;d=d instanceof Float32Array?d:new Float32Array(d);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST);c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,f);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,b.w(),b.J(),0,c.RGBA,e,d);a(null);c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1);u.M();n.set("s0");b.l();c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);a(E);I.h(!0,!1);c.deleteTexture(E)},a:function(b){function d(){a(S);
da&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,da);b.isPot?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,b.ab?c.MIRRORED_REPEAT:c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,b.O?c.MIRRORED_REPEAT:c.REPEAT)):(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE));b.ia&&"undefined"!==typeof JESETTINGS&&c.texParameterf(c.TEXTURE_2D,JEContext.Tc().TEXTURE_MAX_ANISOTROPY_EXT,JESETTINGS.xc);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,
b.isLinear?c.LINEAR:c.NEAREST);b.isLinear?c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,b.isMipmap&&!Q?c.NEAREST_MIPMAP_LINEAR:c.LINEAR):c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,b.isMipmap&&!Q?c.NEAREST_MIPMAP_NEAREST:c.NEAREST);T=r[b.ea-1];W=p[b.ea-1];U=w[E];if(v.s()){var d=c.RGBA32F;T===c.RGBA&&U===c.FLOAT&&d&&(W=d);T===c.RGB&&U===c.FLOAT&&d&&(W=d,T=c.RGBA)}if(b.D&&!b.isFloat||b.isFloat&&b.isMipmap&&sa.Zb())(d=c.RGBA16F)&&(W=d),U=v.ga_();b.eb&&"undefined"!==typeof c.texStorage2D&&(pa=
b.eb);b.bb&&4===b.ea&&(T=JEContext.Yc());if(b.C)c.texImage2D(c.TEXTURE_2D,0,W,T,U,b.C);else if(b.url)c.texImage2D(c.TEXTURE_2D,0,W,T,U,X);else if(V){try{var f=c.getError();f!==c.NO_ERROR&&console.log("GLERR in SharedTexture :",f);c.texImage2D(c.TEXTURE_2D,0,W,x,B,0,T,U,V);c.getError()!==c.NO_ERROR&&(c.texImage2D(c.TEXTURE_2D,0,W,x,B,0,T,U,null),c.getError()!==c.NO_ERROR&&c.texImage2D(c.TEXTURE_2D,0,c.RGBA,x,B,0,c.RGBA,c.UNSIGNED_BYTE,null))}catch(Ga){c.texImage2D(c.TEXTURE_2D,0,W,x,B,0,T,U,null)}b.isKeepArray||
(V=null)}else c.texImage2D(c.TEXTURE_2D,0,W,x,B,0,T,U,null);if(b.isMipmap)if(!Q&&L)L.U(),qa=!0;else if(Q){f=Math.log(Math.min(x,B))/Math.log(2);ma=Array(1+f);ma[0]=S;for(d=1;d<=f;++d){var e=Math.pow(2,d);var h=x/e;e=B/e;var g=c.createTexture();a(g);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);c.texImage2D(c.TEXTURE_2D,0,W,h,e,0,T,U,null);a(null);ma[d]=g}qa=!0}a(null);k[l]=-1;da&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1);ka=
!0;ea&&L&&(ea(L),ea=!1)}"undefined"===typeof b.isFloat&&(b.isFloat=!1);"undefined"===typeof b.D&&(b.D=!1);"undefined"===typeof b.isPot&&(b.isPot=!0);"undefined"===typeof b.isLinear&&(b.isLinear=!1);"undefined"===typeof b.isMipmap&&(b.isMipmap=!1);"undefined"===typeof b.ra&&(b.ra=!1);void 0===b.ia&&(b.ia=!1);void 0===b.O&&(b.O=!1);void 0===b.ab&&(b.ab=!1);void 0===b.bb&&(b.bb=!1);void 0===b.ea&&(b.ea=4);void 0===b.$a&&(b.$a=!1);"undefined"===typeof b.isFlipY&&(b.isFlipY=b.url||b.array?!0:!1);"undefined"===
typeof b.isKeepArray&&(b.isKeepArray=!1);b.data&&(b.array="string"===typeof b.data?oa(b.data):b.isFloat?new Float32Array(b.data):new Uint8Array(b.data),b.isFlipY=!1);var E=0,y=b.C?!0:!1,t=null,N=null,K=!1,J=null;b.isFloat&&(b.D=!0);b.D&&(E=1);b.$a||v.s()||!b.isFloat||!H||v.Qa()||(b.isFloat=!1);b.isFloat&&(E=2);b.ia&&A&&!JEContext.cd()&&(b.ia=!1);var S=c.createTexture(),ea=b.ra,X=null,V=!1,x=0,B=0,ka=!1,fa=f++,ja=!1,O,ba,ha,ia,W,T,U,da=b.isFlipY,Q=b.D&&b.isMipmap&&sa&&!sa.yb(),ma,pa=-1,qa=!1;"undefined"!==
typeof b.width&&b.width&&(x=b.width,B="undefined"!==typeof b.height&&b.height?b.height:x);var L={get:function(){return S},w:function(){return x},J:function(){return B},ad:function(){return b.url},dd:function(){return b.isFloat},fd:function(){return b.D},gd:function(){return b.isLinear},U:function(){c.generateMipmap(c.TEXTURE_2D)},Pa:function(b,d){Q?(b||(b=L.Va()),L.pa(d),a(ma[b]),k[d]=-1):L.b(d)},Va:function(){-1===pa&&(pa=Math.log(x)/Math.log(2));return pa},Ua:function(b){if(Q){b||(b=L.Va());n.set("s11");
L.pa(0);var d,f=x,e=B;for(d=1;d<=b;++d)f/=2,e/=2,n.G("u9",.25/f,.25/e),c.viewport(0,0,f,e),a(ma[d-1]),c.framebufferTexture2D(u.W(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,ma[d],0),I.h(!1,1===d);k[0]=-1}else L.U()},pa:function(a){a!==l&&(c.activeTexture(m[a]),l=a)},b:function(b){if(!ka)return!1;L.pa(b);if(k[b]===fa)return!1;a(S);k[b]=fa;return!0},Oa:function(b){c.activeTexture(m[b]);l=b;a(S);k[b]=fa},j:function(){c.framebufferTexture2D(u.W(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,S,0)},l:function(){c.viewport(0,
0,x,B);c.framebufferTexture2D(u.W(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,S,0)},Bd:function(){c.framebufferTexture2D(u.W(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)},resize:function(a,b){x=a;B=b;d()},clone:function(a){a=F.a({width:x,height:B,D:b.D,isFloat:b.isFloat,isLinear:b.isLinear,O:b.O,isFlipY:a?!da:da,isPot:b.isPot});ra.set("s0");u.M();a.j();c.viewport(0,0,x,B);L.b(0);I.h(!0,!0);return a},pc:function(){c.viewport(0,0,x,B)},remove:function(){c.deleteTexture(S);L=null},refresh:function(){L.Oa(0);da&&
c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);y?c.texImage2D(c.TEXTURE_2D,0,W,T,c.UNSIGNED_BYTE,b.C):c.texImage2D(c.TEXTURE_2D,0,W,x,B,0,T,U,V);da&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},Ra:function(){var a=x*B*4;ba=[new Uint8Array(a),new Uint8Array(a),new Uint8Array(a),new Uint8Array(a)];O=[new Float32Array(ba[0].buffer),new Float32Array(ba[1].buffer),new Float32Array(ba[2].buffer),new Float32Array(ba[3].buffer)];ha=new Uint8Array(4*a);ia=new Float32Array(ha.buffer);ja=!0},jb:function(){ja||L.Ra();c.readPixels(0,
0,x,4*B,c.RGBA,c.UNSIGNED_BYTE,ha);var a,b=x*B,d=2*b,f=3*b;for(a=0;a<b;++a)O[0][a]=ia[a],O[1][a]=ia[a+b],O[2][a]=ia[a+d],O[3][a]=ia[a+f];return O},Sa:function(){u.H();n.set("s12");L.b(0);c.viewport(0,0,x,4*B);for(var a=0;4>a;++a)c.viewport(0,B*a,x,B),n.ma("u10",aa[a]),I.h(!1,0===a)},vc:function(b){var d=U===w[0]&&!h();a(S);da&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,da);d?(K||(t=document.createElement("canvas"),t.width=x,t.height=B,N=t.getContext("2d"),J=N.createImageData(x,B),K=!0),J.data.set(b),N.putImageData(J,
0,0),c.texImage2D(c.TEXTURE_2D,0,W,T,U,t)):c.texImage2D(c.TEXTURE_2D,0,W,x,B,0,T,U,b);k[l]=fa;da&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},Cd:function(b,d){a(S);c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,d);c.texImage2D(c.TEXTURE_2D,0,W,T,U,b);k[l]=fa;d&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},nd:function(a,d){var f=x*B,e=4*f;a=b.D?a?"RGBE":"JSON":"RGBA";d&&(a=d);d=v.s()&&!1;switch(a){case "RGBE":var g="s47";break;case "JSON":g=d?"s0":"s12";break;case "RGBA":case "RGBAARRAY":g="s6"}ja||("RGBA"===a||"RGBE"===
a||"RGBAARRAY"===a?(ba=new Uint8Array(e),ja=!0):"JSON"!==a||d||L.Ra());u.H();n.set(g);L.b(0);if("RGBA"===a||"RGBE"===a||"RGBAARRAY"===a){c.viewport(0,0,x,B);I.h(!0,!0);c.readPixels(0,0,x,B,c.RGBA,c.UNSIGNED_BYTE,ba);if("RGBAARRAY"===a)return{data:ba};z||(D=document.createElement("canvas"),q=D.getContext("2d"),z=!0);D.width=x;D.height=B;G=q.createImageData(x,B);G.data.set(ba);q.putImageData(G,0,0);var h=D.toDataURL("image/png")}else if("JSON"===a)if(d)h=new Float32Array(f),c.viewport(0,0,x,B),I.h(!0,
!0),c.readPixels(0,0,x,B,c.RGBA,c.FLOAT,h);else{for(h=0;4>h;++h)c.viewport(0,B*h,x,B),n.ma("u10",aa[h]),I.h(!h,!h);L.jb();h=Array(f);for(g=0;g<f;++g)h[4*g]=O[0][g],h[4*g+1]=O[1][g],h[4*g+2]=O[2][g],h[4*g+3]=O[3][g]}return{format:a,data:h,width:x,height:B,isMirrorY:b.O,isFlipY:"RGBA"===a?b.isFlipY:!b.isFlipY}}};b.isMipmap&&!Q&&ka&&!qa&&(L.U(),qa=!0);if(b.url)a(S),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,null),X=new Image,X.Gc="Anonymous",X.crossOrigin="Anonymous",X.src=b.url,
X.onload=function(){x=X.width;B=X.height;d()};else if(b.C){var ta=function(){x=void 0!==b.C.videoWidth?b.C.videoWidth:b.C.width;B=void 0!==b.C.videoHeight?b.C.videoHeight:b.C.height;x?d():setTimeout(ta,1)};ta()}else b.array?(b.D&&!b.isFloat?b.array instanceof Uint16Array?(V=b.array,d()):g()?(V=e(b.array),d()):(d(),F.Kb(L,b.array,da)):(V=b.isFloat?b.array instanceof Float32Array?b.array:new Float32Array(b.array):b.array instanceof Uint8Array?b.array:new Uint8Array(b.array),d()),b.isKeepArray||(V&&
V!==b.array&&(V=null),delete b.array)):d();L.Rb=L.w;ea&&ka&&(ea(L),ea=!1);return L},H:function(b){b!==l&&(c.activeTexture(m[b]),l=b);k[b]=-1;a(null)},Ac:function(a){t.random.b(a)},reset:function(){for(var a=0;a<m.length;++a)k[a]=-1;l=-1},md:function(){l=-1},zd:function(){for(var a=0;a<m.length;++a)F.H(a)},Lb:function(){t&&(t.random.remove(),t.nb.remove())},Ad:function(a,b){if("RGBA"===a.format||"RGBE"===a.format){var d=new Image;d.src=a.data;d.onload=function(){F.a({O:a.isMirrorY,isFlipY:a.isFlipY,
isFloat:!1,C:d,ra:function(d){if("RGBA"===a.format)b(d);else{var f=a.width,e=a.height,h=F.a({O:a.isMirrorY,isFloat:!0,width:f,height:e,isFlipY:a.isFlipY});u.M();c.viewport(0,0,f,e);n.set("s48");h.j();d.b(0);I.h(!0,!0);F.H(0);b(h);c.flush();setTimeout(d.remove,50)}}})}}else"JSON"===a.format?b(F.a({isFloat:!0,isFlipY:a.isFlipY,width:a.width,height:a.height,array:new Float32Array(a.data)})):b(!1)}};return F}(),v=function(){function a(){b="undefined"===typeof ua?JEContext:ua;e=!0}var b,e=!1,g=!1,h=!1,
d=!1,l=!1,m=!1,f=!1,k=!1,t=!1,w=!1,r=!1,p=!0,y=!0,z=!0,D,q="undefined"===typeof window?{}:window,G={m:function(){if(e)return!0;a();G.s()||(G.Ta(),G.ua());G.Hb();G.Ib();u.m();P.m();if(!G.Cb())return!1;I.m();P.Vb();return!0},w:function(){e||a();return b.w()},J:function(){e||a();return b.J()},s:function(){e||a();return b.s()},Hb:function(){r=(w=c.getExtension("EXT_color_buffer_float")||c.getExtension("WEBGL_color_buffer_float")||c.getExtension("OES_color_buffer_float"))?!0:!1;q.GL_EXT_COLORBUFFERFLOAT=
w},Ib:function(){c.getExtension("EXT_color_buffer_half_float")||c.getExtension("WEBGL_color_buffer_half_float")||c.getExtension("OES_color_buffer_half_float")},Ta:function(){if(!g){this.s()||(h=c.getExtension("OES_texture_float")||c.getExtension("MOZ_OES_texture_float")||c.getExtension("WEBKIT_OES_texture_float"),l=(q.GL_EXT_FLOAT=h)?!0:!1);if(l||this.s())d=c.getExtension("OES_texture_float_linear")||c.getExtension("MOZ_OES_texture_float_linear")||c.getExtension("WEBKIT_OES_texture_float_linear"),
q.GL_EXT_FLOATLINEAR=d;g=!0}},ua:function(){if(!t){if(!this.s()){if(m=c.getExtension("OES_texture_half_float")||c.getExtension("MOZ_OES_texture_half_float")||c.getExtension("WEBKIT_OES_texture_half_float"))D=m.HALF_FLOAT_OES,f=!0;q.GL_EXT_HALFFLOAT=m}if(f||this.s())k=c.getExtension("OES_texture_half_float_linear")||c.getExtension("MOZ_OES_texture_half_float_linear")||c.getExtension("WEBKIT_OES_texture_half_float_linear"),q.GL_EXT_HALFFLOATLINEAR=k;t=!0}},ga_:function(){if(G.s())return c.HALF_FLOAT;
G.ua();return f?D:c.FLOAT},Qa:function(){return p},xb:function(){return y},Bc:function(){return z},wb:function(){return r},Eb:function(){y=p=!0;var a=c.createFramebuffer();c.bindFramebuffer(c.FRAMEBUFFER,a);var b=c.createTexture();c.bindTexture(c.TEXTURE_2D,b);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST);c.texImage2D(c.TEXTURE_2D,0,G.s()&&c.RGBA32F?c.RGBA32F:c.RGBA,1,1,0,c.RGBA,c.FLOAT,null);c.framebufferTexture2D(u.W(),
c.COLOR_ATTACHMENT0,c.TEXTURE_2D,b,0);var d=c.checkFramebufferStatus(u.xa());d!==c.FRAMEBUFFER_COMPLETE&&(p=!1);c.texImage2D(c.TEXTURE_2D,0,G.s()&&c.RGBA16F?c.RGBA16F:c.RGBA,1,1,0,c.RGBA,G.ga_(),null);c.framebufferTexture2D(u.W(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,b,0);d=c.checkFramebufferStatus(u.xa());d!==c.FRAMEBUFFER_COMPLETE&&(y=!1);c.bindTexture(c.TEXTURE_2D,null);c.bindFramebuffer(c.FRAMEBUFFER,null);c.deleteTexture(b);c.deleteFramebuffer(a)},Db:function(){var a=u.a({width:1});a.lb();var b=P.a({width:1,
isFloat:!0,ea:3});a.j();b.j();c.flush();c.checkFramebufferStatus(u.xa())!==c.FRAMEBUFFER_COMPLETE?(P.lc(),z=!1):z=!0;a.remove();b.remove()},Cb:function(){G.Eb();if(!p&&!y)return!1;G.Db();return!0}};return G}(),sa=function(){var a=!1,b=[.8,1,.8,1],e=0,g,h=new Uint8Array(4),d=b.concat(b,b,b),l=!0,m={m:function(){function b(a,b,d,f){c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,f?c.NEAREST_MIPMAP_NEAREST:c.LINEAR);try{var e=c.getError();e!==c.NO_ERROR&&console.log("GLERR in test_mipmapping() :",
e);c.texImage2D(c.TEXTURE_2D,0,a,2,2,0,c.RGBA,b,d);if(c.getError()!==c.NO_ERROR)return!1}catch(aa){return!1}f&&c.generateMipmap(c.TEXTURE_2D);I.qa();I.h(!1,!0);c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,h);return 0!==h[0]}function k(a){return v.Qa()&&b(w,c.FLOAT,new Float32Array(d),a)?(e=3,!0):!1}function m(a){return v.xb()?b(r,v.ga_(),new Uint16Array(d),a)||b(r,c.FLOAT,new Float32Array(d),a)?(e=2,!0):!1:!1}v.Ta();v.ua();var w=c.RGBA,r=c.RGBA;if(ua.s()){var p=c.RGBA32F;p&&(w=p);(p=c.RGBA16F)&&(r=
p)}I.m();u.reset();u.H();c.viewport(0,0,1,1);n.set("s0");a=!0;g=c.createTexture();c.activeTexture(c.TEXTURE0);c.bindTexture(c.TEXTURE_2D,g);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.REPEAT);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.REPEAT);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);if(m(!0)||k(!0))return!0;l=!1;return m(!1)||k(!1)?!0:!1},yb:function(){return l},Wc:function(){return e},ed:function(){a||m.m();return 3===e},Zb:function(){a||m.m();return 2===e}};return m}(),
va={a:function(a){var b=P.a(a.alpha),e=P.a(a.beta);return{Gb:function(){b.b(1);e.b(2)}}}},ya={a:function(a){var b=a.qc;b.index=a.index;b.P=a.P;b.parent=a.parent;switch(b.type){case "input":a=wa.a(b);break;default:a=xa.a(b)}return a}},wa={a:function(a){"undefined"===typeof a.sift&&(a.sift=!1);"undefined"===typeof a.DWT&&(a.DWT=!1);"undefined"===typeof a.blur&&(a.blur=!1);"undefined"===typeof a.siftOutWidth&&(a.siftOutWidth=!1);"undefined"===typeof a.filterBank&&(a.filterBank=!1);"undefined"===typeof a.poolType&&
(a.poolType="max");"undefined"===typeof a.postpreprocessing&&(a.postpreprocessing="copy");"undefined"===typeof a.density&&(a.density=1);a.filterBank&&(FilterBank.qd(a.poolType,a.postpreprocessing),FilterBank.od(a.density));var b=!1;if(a.mask){b=!0;SETTINGS&&void 0!==SETTINGS.sb&&(a.mask=SETTINGS.sb+a.mask);var e=P.a({isFloat:!1,url:a.mask})}var g=!1,h="undefined"!==typeof a.preprocessing?a.preprocessing:!1,d=!1;a.sift?Sift.m({Ub:c,ca:!1,width:a.size,jd:a.siftOutWidth}):a.DWT&&DWT.m({Ub:c,ca:!1,width:a.size});
switch(h){case "sobel":var l="s30";d=!0;break;case "meanNormalization":l="s31";d=!0;break;case "grayScale":l="s29";d=!1;break;case "copy":l="s0";break;case "inputLightRegulation":l="s29";za.m({width:a.size,fb:a.nBlurPass,Yb:!1});g=!0;break;case "direct":case "none":l=!1;break;default:l="s3"}b&&(l+="Mask");if(a.blur)var m=P.a({isFloat:!1,isPot:!1,width:a.size});var f=P.a({isFloat:!1,isPot:!1,width:a.size}),k,t,w,r={w:function(){return a.sift?Sift.X():a.filterBank?FilterBank.X():a.size},X:function(){return r.w()},
Xa:function(){return a.sift?Sift.da():a.DWT?DWT.da():a.filterBank?FilterBank.da():g?za.da():f},F:function(){u.M();a.blur&&(m.l(),n.set("s49"),n.G("u9",1/a.size,1/a.size),I.h(!1,!0),m.b(0));l&&(n.set(l),d&&n.B("u29",1/a.size),f.l(),b&&e.b(1),I.h(!1,!1),f.b(0),g?za.ka(f):a.sift?(n.R(),Sift.ka()):a.DWT?(n.R(),DWT.ka(4)):a.filterBank&&(n.R(),FilterBank.ka(f)))},pd:function(a){k=a},Da:function(b){k=b;t="s42";w=P.a({isFloat:!0,isPot:!0,width:a.size})},va:function(){return w},I:function(){var a=r.Xa(),b=
k.va();k.wa().I(b);b=k.wa().V();n.set(t);n.B("u28",b*b);a.b(1);w.l();I.h(!1,!1);w.b(0)}};return r}},xa={a:function(a){"undefined"===typeof a.disableNormalize&&(a.disableNormalize=!1);var b=[],e=[],g,h,d=!1,l,m=!0,f,k,t=a.isReorganize?a.isReorganize:!1,w=a.kernelsNumber?!0:!1,r,p,y,z,D,q,G,aa,A=a.dynPelu?va.a(a.dynPelu):!1,H=A?!0:!1,J={isEnabled:!1},Q;if("softmax"===a.type){a.activation="softmax";a.size=Math.pow(2,Math.ceil(Math.log(Math.sqrt(a.num_classes))/Math.log(2)));a.sparsity="undefined"!==
typeof a.sparsity?a.sparsity:a.P.X();a.gain="undefined"!==typeof a.gain?a.gain:1;n.Z("s20",[{type:"1f",name:"u12",value:a.gain}]);var K=P.a({isFloat:!0,isPot:!1,width:a.size}),F=P.a({isFloat:!0,isPot:!1,width:a.size,isMipmap:!0});m=!1;var E=new Uint8Array(Math.pow(4*a.size,2)),R;for(R=0;R<a.size*a.size;++R){var C=R<a.num_classes?255:0;E[4*R]=C;E[4*R+1]=C;E[4*R+2]=C;E[4*R+3]=C}var M=P.a({isFloat:!1,isPot:!1,width:a.size,array:E})}else a.cost?(a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:a.P.X(),
m=!1):"full"===a.connectivityUp&&(a.sparsity=a.P.X());var ca={elu:"s15",elu01:"s16",relu:"s14",arctan:"s18",sigmoid:"s13",copy:"s0",softplus:"s19",softmax:"s20",dynPelu:"s17"}[a.activation],N=a.sparsity*a.sparsity,Y=!1,Z=a.size;if(a.maxPooling){switch(a.maxPooling.size){case 2:var S="s32";break;case 4:S="s33"}Y=!0;Z/=a.maxPooling.size;var ea=P.a({isFloat:!0,isPot:!1,width:Z})}var X="undefined"!==typeof a.normalization&&a.normalization?!0:!1;if(X){var V="s50"+a.index;n.Xb("s50",V,[((a.normalization.n-
1)/2).toFixed(1)]);n.Z(V,[{type:"1i",name:"u0",value:0},{type:"2f",name:"u9",value:[1/a.size,1/a.size]},{type:"1f",name:"u8",value:a.normalization.alpha},{type:"1f",name:"u11",value:a.normalization.beta},{type:"1f",name:"u36",value:a.normalization.k}]);var x=P.a({isFloat:!0,isPot:!0,width:a.size});var B=P.a({isFloat:!0,isPot:!0,width:a.size})}E=a.size*a.sparsity;var ka=Math.log(E/a.size)/Math.log(2),fa=P.a({isMipmap:!0,isFloat:!0,isPot:!0,width:E,eb:ka}),ja=P.a({isFloat:!0,isPot:!0,width:a.size}),
O;m&&(O=P.a({isFloat:!0,isPot:!1,width:a.size}));var ba=P.a(a.bias),ha,ia={w:function(){return a.size},X:function(){return Z},Wa:function(){return a.num_classes},ub:function(a){Q.b(a)},ic:function(){a.remap&&a.remap.isEnabled&&(J={isEnabled:!0,bc:P.a({isFloat:!1,isFlipY:!1,array:new Uint8Array(a.remap.maskTexture.data),width:a.remap.maskTexture.width,isPot:!1}),layers:a.remap.layers.map(function(b){return a.parent.Pb(b)}),depth:a.remap.depth})},nc:function(){switch(a.connectivityUp){case "gaussian":ha=
Aa.a(a.connectivity);break;case "direct":ha=Ba.a(a.connectivity);break;case "square":ha=Ca.a(a.connectivity);break;case "full":ha=Da.a(a.connectivity);break;case "conv":k=a.kernelsNumber,ha=Ea.a(a.connectivity),t&&(f=P.a({width:Z,isFloat:!0,isFlipY:!1,isPot:!1}))}},F:function(b,e){Q=b;fa.l();w&&ba.b(2);ha.F(J);fa.b(0);fa.Ua(ka);ja.l();w?n.set("s0"):(n.set("s28"),n.B("u28",N),ba.b(1));fa.Pa(ka,0);I.h(!1,!1);n.set(ca);X?x.j():O.j();ja.b(0);H&&A.Gb();I.h(!1,!1);X&&(n.set(V),B.j(),x.b(0),I.h(!1,!1),n.set("s51"),
n.B("u8",1),O.j(),B.b(1),I.h(!1,!1));if(m)return Y?(ea.l(),O.b(0),n.set(S),n.G("u9",1/a.size,1/a.size),I.h(!1,!1),e=ea):e=O,e.b(0),t&&(f.j(),n.set("s22"),n.G("u16",k,Z/k),I.h(!1,!1),e=f,f.b(0)),q=e;if("softmax"===a.type){n.set("s20");O.b(0);K.j();I.h(!1,!1);a.disableNormalize?b=K:(n.set("s2"),K.b(0),M.b(1),F.j(),I.h(!1,!1),n.set("s0"),h.l(),F.b(0),F.Ua(!1),I.h(!1,!1),n.set("s21"),g.l(),F.Pa(!1,0),n.B("u14",O.Rb()),h.b(1),I.h(!1,!1),b=g);if(e){switch(d){case "cpuRGBAAvg":break;default:var p=ia.ib(b)}return p}return!1}if(a.cost){n.set("gpuRawAvg"===
d?"s8":"s7");e=O;a.disableNormalize||(n.B("u6",1/a.size),g.l(),O.b(0),I.h(!1,!1),e=g);q=e;switch(d){case "cpuRGBA2Float":e.Sa();p=ia.ib(e);l(p);break;case "gpuRawAvg":case "gpuRaw":e.b(0),l(e)}return!1}},Ab:function(f){f&&"undefined"!==typeof f.hb&&(d=f.hb,l=f.hc);O=P.a({isFloat:!0,isPot:!0,isMipmap:"softmax"===a.type,width:a.size});"softmax"===a.type&&(h=P.a({isFloat:!0,isPot:!0,width:1}));var k=0,m=0,p="undefined"!==typeof a.num_classes&&a.num_classes?a.num_classes:a.size*a.size;for(f=0;f<p;++f)b.push(k+
(a.size-1-m)*a.size),e.push([-1,-1,-1,-1]),++k,k===a.size&&(k=0,++m);a.disableNormalize||(g=P.a({isFloat:!0,isPot:!0,width:a.size}))},ib:function(a){a.Sa();var d=a.jb();b.forEach(function(a,b){e[b][0]=d[0][a];e[b][1]=d[1][a];e[b][2]=d[2][a];e[b][3]=d[3][a]});return e},Da:function(b){D=b;aa={yd:"s43",ld:"s44",Fc:"s42",Jc:"s45",yc:"s46"}[a.activation];b={isFloat:!0,isPot:!0,width:a.size};G=P.a(b);p=P.a(b);Y&&P.a(b);t&&(y=P.a(b));m||(z=P.a({isFloat:!0,isPot:!1,width:a.size}))},va:function(){return r},
I:function(b){if(!m){z.l();n.set("quadratic"===a.cost?"s41":"s40");b.b(1);q.b(0);I.h(!1,!1);z.b(0);var d=1}b=ja;m&&(d=D.va(),t&&(G.l(),n.set("s22"),ja.b(0),n.G("u16",k,Z/k),I.h(!1,!1),b=G,d.b(0)),D.wa().I(d),d=D.wa().V());n.set(aa);n.B("u28",d*d);b.b(1);p.l();I.h(!1,!1);r=p;t&&(n.set("s22"),y.l(),p.b(0),n.G("u16",Z/k,k),I.h(!1,!1),r=y);r.b(0)}};a.P&&ia.nc(a.P);return ia}};
function Fa(){var a,b,e,g;a||(a={});this.Pb=function(a){return b[a]};this.kc=function(a){var d=!1;b=a.map(function(a,b){return d=a=ya.a({index:b,parent:this,qc:a,P:d})});e=b[0];g=b[b.length-1];b.forEach(function(a,b){0!==b&&a.ic()})};this.F=function(a,d){var e=d;b.forEach(function(b){e=b.F(e,a)});return e};this.Da=function(){for(var a=b.length-1,d;0<=a;--a)d=a!==b.length-1?b[a+1]:!1,b[a].Da(d)};this.I=function(a){for(var d=b.length-1;0<=d;--d)b[d].I(a)};this.Ob=function(){return e.w()};this.Qb=function(){return g.w()};
this.da=function(){return g.Xa()};this.mc=function(a){g.Ab(a)};this.Wa=function(){return g.Wa()}}
var Ba={a:function(a){var b=P.a(a.weights);delete a.weights.data;return{V:function(){return 1},ha:function(){return b},F:function(){n.set("s27");b.b(1);I.h(!1,!1)}}}},Da={a:function(a){var b=a.fromLayerSize*a.toLayerSize,e=a.fromLayerSize,g=P.a(a.weights),h=P.a({isFloat:!0,isPot:!0,width:b,isMipmap:!0}),d=P.a({isFloat:!0,isPot:!0,width:a.fromLayerSize});return{V:function(){return e},ha:function(){return g},Uc:function(){return _fboWeights},F:function(b){if(b.isEnabled){n.set("s25");b.bc.b(3);var d,
e=Math.min(b.layers.length,b.depth);for(d=0;d<e;++d)b.layers[d].ub(4+d)}else n.set("s24");n.B("u19",a.toLayerSize);g.b(1);I.h(!1,!1)},I:function(){n.set("s38");n.B("u19",a.toLayerSize);n.B("u27",a.fromLayerSize);h.l();g.b(1);I.h(!1,!1);d.l();n.set("s0");h.b(0);h.U();I.h(!1,!1);d.b(0)}}}},Aa={a:function(a){var b=a.toSparsity*a.toLayerSize,e=b/a.fromLayerSize,g=P.a(a.weights),h=P.a({isFloat:!0,isPot:!0,width:b,array:new Float32Array(a.weightsFromTo)}),d=P.a({width:b,isFloat:!0,array:new Float32Array(a.fromBindings),
isPot:!0}),l=P.a({width:b,isFloat:!0,array:new Float32Array(a.toBindings),isPot:!0});return{V:function(){return e},ha:function(){return g},Nb:function(){return d},Sb:function(){return l},Tb:function(){return h},F:function(){n.set("s23");g.b(1);l.b(2);I.h(!1,!0)}}}},Ca={a:function(a){var b=a.fromLayerSize,e=a.toLayerSize,g=a.toSparsity*e,h=g/b,d=a.toSparsity,l=b/e,m,f,k,t,w=0,r=0,p=0,y=Array(d*e*d*e*4),z=Array(d*e*d*e*4),D=Array(d*e*d*e*4),q=Array(b*b);for(m=0;m<q.length;++m)q[m]=0;var G=Math.floor(d/
2),aa=.5/e,A=.5/b,H=.5/g;for(m=0;m<e;++m)for(f=0;f<e;++f){var J=Math.round(m*l);var Q=Math.round(f*l);var K=m/e;var F=f/e;K+=aa;F+=aa;for(k=0;k<d;++k)for(t=0;t<d;++t){var E=w/g;var R=r/g;var C=J+k-G;var M=Q+t-G;0>C&&(C+=b);0>M&&(M+=b);C>=b&&(C-=b);M>=b&&(M-=b);var ca=C/b;var N=M/b;R=1-R-1/g;ca+=A;N+=A;E+=H;R+=H;y[4*p]=ca;y[4*p+1]=N;y[4*p+2]=K;y[4*p+3]=F;var Y=m*d+k,Z=f*d+t;Z=e*d-Z-1;Y=Z*e*d+Y;z[4*Y]=E;z[4*Y+1]=R;z[4*Y+2]=ca;z[4*Y+3]=N;ca=q[M*b+C]++;N=ca%h;C=C*h+N;M=M*h+(ca-N)/h;M=b*h-1-M;M=M*b*h+
C;D[4*M]=E;D[4*M+1]=R;D[4*M+2]=K;D[4*M+3]=F;++w>=g&&(w=0,++r);++p}}var S=P.a(a.weights),ea=P.a({isFloat:!0,isPot:!0,width:g,array:new Float32Array(y)}),X=P.a({width:g,isFloat:!0,array:new Float32Array(D),isPot:!0});D=null;var V=P.a({width:g,isFloat:!0,array:new Float32Array(z),isPot:!0});z=null;var x=P.a({isFloat:!0,isPot:!0,width:g,isMipmap:!0}),B=P.a({isFloat:!0,isPot:!0,width:g/h});return{V:function(){return h},ha:function(){return S},Nb:function(){return X},Sb:function(){return V},Tb:function(){return ea},
F:function(){n.set("s23");S.b(1);V.b(2);I.h(!1,!1)},I:function(){n.set("s37");x.l();X.b(1);S.b(2);I.h(!1,!1);n.set("s0");B.l();x.b(0);x.U();I.h(!1,!1);B.b(0)}}}},Ea={a:function(a){function b(){n.B("u25",e);n.B("u26",g);n.B("u19",a.toLayerSize);n.B("u27",a.fromLayerSize)}var e=a.kernelsNumber,g=a.toSparsity,h=g*a.toLayerSize,d=h/a.fromLayerSize,l=P.a(a.weights),m=P.a({isFloat:!0,isPot:!0,width:h,isMipmap:!0}),f=P.a({isFloat:!0,isPot:!0,width:a.fromLayerSize});return{V:function(){return d},Zc:function(){return g},
ha:function(){return l},F:function(){n.set("s26");b();l.b(1);I.h(!1,!1)},I:function(){n.set("s39");b();m.l();l.b(1);I.h(!1,!1);n.set("s0");f.l();m.b(0);m.U();I.h(!1,!1);f.b(0)}}}},za=function(){var a,b,e,g,h,d,l,m,f;return{m:function(k){a=k.fb?k.fb:3;b=k.width?k.width:64;g=k.Yb?!0:!1;k={isFloat:!1,width:b,isPot:!1,isFlipY:!1};h=P.a(k);d=P.a(k);l=P.a(k);m=P.a(k);f=P.a({isFloat:!0,width:b,isPot:!1,isFlipY:!1});e=1/b},ka:function(b){n.set("s35");for(var k=0;k<a;++k)h.j(),n.G("u9",e,0),I.h(g,!1),d.j(),
h.b(0),n.G("u9",0,e),I.h(g,!1),d.b(0);n.set("s34");m.j();b.b(0);I.h(g);n.set("s35");for(k=0;k<a;++k)l.j(),m.b(0),n.G("u9",e,0),I.h(g,!1),m.j(),l.b(0),n.G("u9",0,e),I.h(g,!1);n.set("s36");f.j();b.b(0);d.b(1);m.b(2);I.h(g,!1);f.b(0)},da:function(){return f}}}();
window.JEEARAPI=function(){var a,b,e,g;function h(){var a=G[aa];A.i[0]=a[0];A.i[1]=a[1];A.i[2]=a[2];A.i[3]=a[3];aa=(aa+1)%G.length}function d(a,b,d){var e=d*m(a,b,"dy"),f=d*m(a,b,"ds"),g=A.i[2],h=A.i[3];A.i[0]-=d*m(a,b,"dx")*g*p.ta[0];A.i[1]-=e*h*p.ta[1];A.i[2]-=f*g*p.ta[2];A.i[3]=A.i[2]*q.aspectRatio}function l(a){var b=A.i[2],d=A.i[3],e=(2*Math.random()-1)*a,f=(2*Math.random()-1)*a;A.i[0]+=(2*Math.random()-1)*a*b;A.i[1]+=e*d;A.i[2]+=f*b;A.i[3]=A.i[2]*q.aspectRatio}function m(a,b,d){b=K[b].ac[d];
return(a[b][0]+a[b][1]+a[b][2]+a[b][3])/4}function f(a,b){return(m(a,b,"here")-m(a,b,"notHere"))/K[b].Ja}function k(a){var b=-1,e=-1E12;-1!==[H.L,H.oa].indexOf(J)&&K.forEach(function(d,g){d=f(a,g);d>e&&(e=d,b=g)});switch(J){case H.L:J=H.oa;d(a,b,1);g=0;break;case H.oa:++g;e>Y?(J=H.Ma,E=0,R=b,d(a,R,1)):g>p.cc?(J=H.L,h()):d(a,b,1);break;case H.Ma:++E;E>p.ec&&(J=H.La,C.n=0,C.na=0,C.N=R,C.K[0]=0,C.K[1]=0);d(a,R,1);l(p.$b);break;case H.La:if(++C.n,C.n>p.ja){if(C.na/p.ja>Y+p.sc){var k=Math.atan2(C.K[1],
C.K[0]);N.label=K[C.N].label;N.distance=K[C.N].Fb;N.positionScale[0]=A.i[0];N.positionScale[1]=A.i[1];N.positionScale[2]=A.i[2];N.positionScale[3]=A.i[3];N.yaw=k}J=H.L;h()}else d(a,C.N,1),l(p.zb*(p.ja-C.n)/p.ja),C.na+=f(a,C.N),K.forEach(function(b,d){C.N!==d&&f(a,d)>Y*p.tc&&(J=H.L,h())}),k=Math.PI*m(a,C.N,"yaw"),C.K[0]+=Math.cos(k),C.K[1]+=Math.sin(k)}}function t(){n.rb([{id:"s53",name:"_",fa:"attribute vec2 a0;uniform vec4 u37;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=u37.xy+.5*u37.zw*a0;}",
aa:["a0"],S:[2],c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vv0);}",f:["u0","u37"],precision:"lowp"},{id:"s54",name:"_",fa:"attribute vec2 a0;uniform vec4 u37;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=u37.xy+.5*u37.zw*a0;}",aa:["a0"],S:[2],c:"uniform sampler2D u0;uniform vec2 u9;varying vec2 vv0;const vec3 g=vec3(1.,1.,1.);float c[5];void main(){c[0]=texture2D(u0,vv0-u9*vec2(-1.,0.)).r,c[1]=texture2D(u0,vv0-u9*vec2(0.,-1.)).r,c[2]=texture2D(u0,vv0-u9).r,c[3]=texture2D(u0,vv0-u9*vec2(0.,1.)).r,c[4]=texture2D(u0,vv0-u9*vec2(1.,0.)).r;float a,b;a=min(c[0],c[1]),b=max(c[0],c[1]),c[0]=a,c[1]=b,a=min(c[0],c[2]),b=max(c[0],c[2]),c[0]=a,c[2]=b,a=min(c[0],c[3]),b=max(c[0],c[3]),c[0]=a,c[3]=b,a=min(c[0],c[4]),b=max(c[0],c[4]),c[0]=a,c[4]=b,a=min(c[1],c[2]),b=max(c[1],c[2]),c[1]=a,c[2]=b,a=min(c[1],c[3]),b=max(c[1],c[3]),c[1]=a,c[3]=b,a=min(c[1],c[4]),b=max(c[1],c[4]),c[1]=a,c[4]=b,a=min(c[2],c[3]),b=max(c[2],c[3]),c[2]=a,c[3]=b,a=min(c[2],c[4]),b=max(c[2],c[4]),c[2]=a,c[4]=b,gl_FragColor=vec4(c[2]*g,1.);}",
f:["u0","u37","u9"],precision:"lowp"},{id:"s55",name:"_",fa:"attribute vec2 a0;varying vec2 vv0;const vec2 f=vec2(1.,1.);void main(){gl_Position=vec4(a0,0.,1.);vec2 a=(a0+f)/2.;vv0=a;}",aa:["a0"],S:[2],c:"uniform sampler2D u0;uniform vec4 u37;varying vec2 vv0;void main(){vec2 b=u37.xy-.5*u37.zw,c=u37.xy+.5*u37.zw,a=step(b,vv0)*step(vv0,c);gl_FragColor=mix(texture2D(u0,vv0),vec4(0.,1.,0.,1.),a.x*a.y*.5);}",f:["u0","u37"],precision:"lowp"}]);var a=[{type:"1i",name:"u0",value:0}];n.Z("s53",a);n.Z("s54",
a);n.Z("s55",a)}function w(){q.aspectRatio=q.width/q.height;q.Ba=Math.round(q.width*p.cb);q.Ca=Math.round(q.height*p.cb);q.Ia=q.width-2*q.Ba;q.Ga=q.height-2*q.Ca;var a=Math.min(q.width,q.height),b,d,e;for(b=0;b<p.gb;++b){var f=p.Ha[0]+b/(p.gb-1)*(p.Ha[1]-p.Ha[0]);f*=a;var g=f/q.width;var h=g*q.aspectRatio;var k=(q.Ia-f)*(q.Ga-f);var l=Math.min(Math.floor(k/(p.mb*p.mb)),p.fc);l=k/l;var m=Math.round(Math.sqrt(l));var r=Math.round((q.Ia-f)/m);var t=Math.round((q.Ga-f)/m);for(e=0;e<t;++e)for(k=q.Ca+Math.round(f/
2+m*e),k/=q.height,d=0;d<r;++d)l=q.Ba+Math.round(f/2+m*d),l/=q.width,G.push([l,k,g,h])}if(p.rc)for(a=G,b=a.length-1;0<b;--b)f=Math.floor(Math.random()*(b+1)),g=a[b],a[b]=a[f],a[f]=g}function r(d){a=P.a({isLinear:!0,width:q.width,height:q.height,C:d,isPot:!1,isFlipY:!0,isFloat:!1});b=!0}var p={T:512,ta:[.05,.05,.15],cb:.1,fc:36,gb:4,Ha:[.3,.7],mb:16,rc:!0,dc:3,cc:3,Ja:.68,ec:10,$b:.015,ja:8,sc:-.02,zb:.01,Ec:.08,tc:.7},y,z=!1,D=!1,q={aspectRatio:1,width:0,height:0,Ba:0,Ca:0,Ia:0,Ga:0,sa:"s53"},G=[],
aa=0,A={$:!1,i:[0,0,0,0]},H={Na:-2,LOADING:-1,L:0,oa:1,Ma:2,La:3},J=H.Na,Q=-2,K,F;var E=g=0;var R=-1;var C={n:0,N:-1,na:0,K:[0,0]};var M=0;var ca=b=a=e=!1,N={distance:0,label:!1,positionScale:[0,0,0,0],yaw:0},Y=1,Z={init:function(a){function b(b){a.callbackReady&&a.callbackReady(b)}if(J!==H.Na)return b("ALREADY_INITIALIZED");J=H.LOADING;if("undefined"!==typeof a.canvas)z=a.canvas,D=!1;else if("undefined"===typeof a.canvasId)z=document.createElement("canvas"),D=!1;else{z=document.getElementById(a.canvasId);
if(!z)return b("INVALID_CANVASID"),!1;D=!0}"undefined"!==typeof a.isDebugRender&&(D=a.isDebugRender);D&&(z.style.display="block");ca="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof WorkerGlobalScope;z.width=p.T;z.height=p.T;"undefined"!==typeof a.video&&a.video?(e=a.video,M=0,q.width=e.videoWidth,q.height=e.videoHeight):M=1;if(!ua.m({ca:z,width:p.T,height:p.T,debug:!1,gc:b.bind(null,"GLCONTEXT_LOST"),premultipliedAlpha:!1})||!ua.Wb())return b("GL_INCOMPATIBLE"),
!1;0===M&&(r(e),w());t();J=H.L;b(!1);return!0},set_NN:function(a,b){if(1===Q)b&&b("NN_LOADING");else{var d=function(a){Q=0;b&&b(a)};Q=1;la(a,function(a){if(!a)return d("INVALID_NN");try{var b=JSON.parse(a)}catch(U){return d("INVALID_NN")}if(!b.exportData||!b.exportData.labels)return d("INVALID_NN");Z.reset_state();y=new Fa;y.kc(b.layers);y.mc({hb:"cpuRGBA2Float",hc:k});A.$=P.a({isFloat:!1,isPot:!1,width:y.Ob()});F=y.Qb();a=b.exportData;b=a.labels;var e="undefined"===typeof a.paramsPerLabel?!1:a.paramsPerLabel,
f=Array(b.length),g,h;for(h=0;h<F/8;++h)for(g=0;g<F;++g){var l=g+h*F;if(l>=b.length)break;var m=g;var q=8*h;var r=b[l];var t=e&&e[r]&&e[r].thresholdDetect?e[r].thresholdDetect:p.Ja;var w=a.distances&&a.distances[l]?a.distances[l]:3;f[l]={Ja:t,label:r,Fb:w,ac:{here:m+q*F,notHere:m+(q+1)*F,yaw:m+(q+2)*F,dx:m+(q+3)*F,dy:m+(q+4)*F,ds:m+(q+5)*F}}}K=f;d(!1)},function(){d("INVALID_NN")})}},reset_state:function(){J=H.L},detect:function(d,e,f){if(J===H.LOADING||0!==Q)return N;u.M();N.label=!1;if(0===M)a.refresh();
else if(1===M){if(!b){q.width=e.size.width;q.height=e.size.height;Y=f.thresholdDetectFactor?f.thresholdDetectFactor:1;switch(f.cutShader){case "IOS":q.sa="s54";n.Z("s54",[{name:"u9",type:"2f",value:[1/q.width,1/q.height]}]);break;default:q.sa="s53"}r(null);w()}a.vc(e.buffer)}d=d?d:p.dc;for(e=0;e<d;++e)A.$.l(),n.set(q.sa),a.b(0),n.ma("u37",A.i),I.h(!1,!1),A.$.b(0),y.F(!1,A.$),u.M();u.uc();D&&(c.viewport(0,0,p.T,p.T),n.set("s55"),a.b(0),n.ma("u37",A.i),I.h(!1,!1),ca&&c.commit?c.commit():c.flush());
return N},get_aspectRatio:function(){return q.width/q.height}};return Z}();
;return JEEARAPI;})();