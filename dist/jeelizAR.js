 /**
 * Jeeliz AR - https://github.com/jeeliz/jeelizAR
 *
 * Copyright 2018 Jeeliz ( https://jeeliz.com )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

var JEEARAPI=(function(){function ia(b,d,k){var n=new XMLHttpRequest;n.open("GET",b,!0);n.withCredentials=!1;n.onreadystatechange=function(){4===n.readyState&&(200===n.status?d(n.responseText):"undefined"!==typeof k&&k(n.status))};n.send()}
function Ha(b){switch(b){case "relu":return"gl_FragColor=max(vec4(0.,0.,0.,0.),gl_FragColor);";case "elu":return"gl_FragColor=mix(exp(-abs(gl_FragColor))-vec4(1.,1.,1.,1.),gl_FragColor,step(0.,gl_FragColor));";case "elu01":return"gl_FragColor=mix(0.1*exp(-abs(gl_FragColor))-vec4(0.1,0.1,0.1,0.1),gl_FragColor,step(0.,gl_FragColor));";case "arctan":return"gl_FragColor=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case "copy":return"";default:return!1}}
function Ia(b,d){var k=d%8;return b[(d-k)/8]>>7-k&1}
function La(b){var d=JSON.parse(b);b=d.ne;var k=d.nf,n=d.n,q="undefined"===typeof btoa?Buffer.from(d.data,"base64").toString("latin1"):atob(d.data),h=q.length,A;d=new Uint8Array(h);for(A=0;A<h;++A)d[A]=q.charCodeAt(A);q=new Float32Array(n);h=new Float32Array(k);A=b+k+1;var l,g;for(l=0;l<n;++l){var r=A*l;var w=0===Ia(d,r)?1:-1;var D=r+1;var F=1,H=0;for(g=D+b-1;g>=D;--g)H+=F*Ia(d,g),F*=2;g=H;D=d;F=r+1+b;H=h;var K=0,M=H.length;for(r=F;r<F+M;++r)H[K]=Ia(D,r),++K;for(r=D=0;r<k;++r)D+=h[r]*Math.pow(2,-r-
1);w=0===D&&0===g?0:w*(1+D)*Math.pow(2,1+g-Math.pow(2,b-1));q[l]=w}return q}
var x=function(){function b(e,t){e=a.createShader(e);a.shaderSource(e,t);a.compileShader(e);return a.getShaderParameter(e,a.COMPILE_STATUS)?e:!1}function d(e,t){e=b(a.VERTEX_SHADER,e);t=b(a.FRAGMENT_SHADER,t);var B=a.createProgram();a.attachShader(B,e);a.attachShader(B,t);a.linkProgram(B);return B}function k(e){void 0===e.Z&&(e.Z="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");void 0===e.Qa&&(e.Qa=["a0"]);void 0===e.ua&&(e.ua=
[2]);if(void 0===e.precision||"highp"===e.precision)e.precision=g;e.id=A++;void 0!==e.nc&&e.nc.forEach(function(B,aa){e.c=e.c.replace(B,e.oa[aa])});e.Ma=0;e.ua.forEach(function(B){e.Ma+=4*B});e.na=d(e.Z,"precision "+e.precision+" float;\n"+e.c);e.o={};e.f.forEach(function(B){e.o[B]=a.getUniformLocation(e.na,B)});e.attributes={};e.aa=[];e.Qa.forEach(function(B){var aa=a.getAttribLocation(e.na,B);e.attributes[B]=aa;e.aa.push(aa)});if(e.g){a.useProgram(e.na);h=e;q=e.id;for(var t in e.g)a.uniform1i(e.o[t],
e.g[t])}e.cd=!0}function n(e){Ma.sc(I);q!==e.id&&(I.Y(),q=e.id,h=e,a.useProgram(e.na),e.aa.forEach(function(t){0!==t&&a.enableVertexAttribArray(t)}))}var q=-1,h=!1,A=0,l=!1,g="highp",r=["u1"],w=["u0"],D={u1:0},F={u0:0},H={u1:0,u2:1},K={u3:0},M={s0:{c:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",f:r,g:D},s1:{c:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",f:r,g:D,precision:"lowp"},s2:{c:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",
f:["u1","u2"],g:H},s3:{c:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",f:r,g:D},s4:{c:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",f:["u1","mask"],g:H},s5:{c:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",f:r,g:D},s6:{c:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",
f:r,g:D},s7:{c:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u4;}",f:["u0","u4"],g:F},s8:{c:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;const vec4 g=vec4(.25,.25,.25,.25),e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u4,g);gl_FragColor=b*e;}",f:["u0","u4"],g:F},s9:{c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",
f:r,g:D},s10:{c:"uniform sampler2D u1,u5;uniform float u6;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u5,vv0);gl_FragColor=mix(b,a,u6*f);}",f:["u1","u5","u6"],g:{u1:0,u5:1}},s11:{c:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u7)+texture2D(u1,vv0+u7*vec2(1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,1.)));}",f:["u1","u7"],g:D},s12:{c:"uniform sampler2D u1;uniform vec4 u8;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 k(float a){if(a==0.)return vec4(0.,0.,0.,0.);float l=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),m=c+127.,b=(a/exp2(c)-1.)*8388608.,d=m/2.,n=fract(d)*2.,o=floor(d),p=e(b,0.,8.),q=e(b,8.,16.),r=n*128.+e(b,16.,23.),j=l+o;return vec4(p,q,r,j)/255.;}void main(){float a=dot(texture2D(u1,vv0),u8);gl_FragColor=k(a);}",
f:["u1","u8"],g:D},s13:{c:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",f:w,g:F},s14:{c:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(e,a);}",f:w,g:F},s15:{c:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-e,a,step(0.,a));}",f:w,g:F},s16:{c:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-e;gl_FragColor=mix(.1*b,a,step(0.,a));}",
f:w,g:F},s17:{c:"uniform sampler2D u0,u6,u9;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u6,vv0),d=texture2D(u9,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",f:["u0","u6","u9"],g:{u0:0,u6:1,u9:2}},s18:{c:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",f:w,g:F},s19:{c:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(.5,.5,.5,.5);void main(){vec4 a=texture2D(u0,vv0),b=log(e+a);gl_FragColor=b;}",
f:w,g:F},s20:{c:"uniform sampler2D u0;uniform float gain;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=exp(a);}",f:["u0","u10"],g:F},s21:{c:"uniform sampler2D u0,u11;uniform float u12;const vec2 f=vec2(.5,.5);const float g=1e-5;const vec4 h=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u11,f);float b=u12*u12;vec4 c=max(b*a,g*h);gl_FragColor=texture2D(u0,vv0)/c;}",f:["u0","u13","u12"],g:{u0:0,u13:1}},s22:{c:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){float a=u14.x*u14.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u14.y),g=floor(u14.x*fract(b*u14.y)),f=(g*u14.y+d)/a;gl_FragColor=texture2D(u1,f+c/a);}",
f:["u1","u14"],g:D},s23:{c:"uniform sampler2D u15,u16,u17;varying vec2 vv0;void main(){vec4 a=texture2D(u17,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u15,b),e=texture2D(u16,c);gl_FragColor=d*e;}",f:["u15","u16","u17"],g:{u16:0,u15:1,u17:2}},s24:{c:"uniform float u18;uniform sampler2D u15,u16;varying vec2 vv0;void main(){vec2 a=fract(vv0*u18);vec4 b=texture2D(u15,vv0),c=texture2D(u16,a);gl_FragColor=b*c;}",f:["u16","u15","u18"],g:{u16:0,u15:1}},s25:{c:"uniform float u18;uniform sampler2D u15,u16,u19,u20,u21,u22;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 i=vv0*u18,m=floor(i),c=i-m;vec4 n=texture2D(u15,vv0),d=texture2D(u16,c),a=texture2D(u22,vv0);a=a*255.;vec4 o=texture2D(u19,c),p=texture2D(u20,c),q=texture2D(u21,c),j=step(-g,-a),b=e-j,k=b*step(-e-g,-a);b*=e-k;vec4 h=b*step(-2.*e-g,-a);b*=e-h;vec4 l=b;d=j*d+k*o+h*p+l*q,gl_FragColor=n*d;}",
f:"u15 u16 u18 u22 u19 u20 u21".split(" "),g:{u16:0,u15:1,u22:3,u19:4,u20:5,u21:6}},s26:{c:"uniform sampler2D u15,u16,u23;uniform float u18,u24,u25,u26;varying vec2 vv0;const vec2 j=vec2(1.,1.);void main(){vec2 a=floor(u24*vv0),g=u24*vv0-a;float b=u18/u24;vec2 c=floor(g*b),d=g*b-c,h=(a+d)/u24;float l=u24*u26/u18;vec2 m=l*c,i=(m+d*u25)/u26,e=step(i,j);vec4 n=texture2D(u15,h),o=texture2D(u16,i),p=n*o*e.x*e.y,k=texture2D(u23,h);gl_FragColor=p*u25*u25+k;}",f:"u15 u16 u18 u24 u25 u26 u23".split(" "),g:{u16:0,
u15:1,u23:2}},s27:{c:"uniform sampler2D u15,u16;varying vec2 vv0;void main(){vec4 a=texture2D(u15,vv0),b=texture2D(u16,vv0);gl_FragColor=a*b;}",f:["u15","u16"],g:{u16:0,u15:1}},s28:{c:"uniform sampler2D u1,u23;uniform float u27;varying vec2 vv0;void main(){gl_FragColor=texture2D(u23,vv0)+u27*texture2D(u1,vv0);}",f:["u1","u23","u27"],g:{u1:0,u23:1}},s29:{c:"varying vec2 vv0;uniform sampler2D u1;const vec4 g=vec4(1.,1.,1.,1.),e=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,e)*g;}",
f:r,g:D,precision:"lowp"},s30:{c:"varying vec2 vv0;uniform sampler2D u1;uniform float u28;const vec3 e=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u28)).rgb,c=texture2D(u1,vv0+vec2(u28,u28)).rgb,d=texture2D(u1,vv0+vec2(u28,0.)).rgb;gl_FragColor=vec4(dot(a,e),dot(b,e),dot(c,e),dot(d,e));}",f:["u1","u28"],g:D,precision:"lowp"},s31:{c:"varying vec2 vv0;uniform sampler2D u1;uniform float u28;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u28)).rgb,c=texture2D(u1,vv0+vec2(u28,u28)).rgb,d=texture2D(u1,vv0+vec2(u28,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
f:["u1","u28"],g:D,precision:"lowp"},s32:{c:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u29;const vec4 g=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u29,vv0.y-u29))*1.,a-=texture2D(u1,vec2(vv0.x-u29,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u29,vv0.y+u29))*1.,a+=texture2D(u1,vec2(vv0.x+u29,vv0.y-u29))*1.,a+=texture2D(u1,vec2(vv0.x+u29,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u29,vv0.y+u29))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u29,vv0.y-u29))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u29))*2.,b-=texture2D(u1,vec2(vv0.x+u29,vv0.y-u29))*1.,b+=texture2D(u1,vec2(vv0.x-u29,vv0.y+u29))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u29))*2.,b+=texture2D(u1,vec2(vv0.x+u29,vv0.y+u29))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),f=texture2D(u2,vv0);gl_FragColor=f.a*e.r*g;}",
f:["u1","u2","u29"],g:H},s33:{c:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u29;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float i=0.;vec2 l=k*u29,b,c;float d,a,g=0.;for(float f=-4.;f<=4.;f+=1.)for(float e=-4.;e<=4.;e+=1.)b=vec2(f,e),d=length(b)/2.,a=exp(-d*d),c=vv0+l*b,a=1.,i+=a*texture2D(u1,c).r,g+=a;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,c).r-i/g)*j;}",f:["u1","u2","u29"],g:H},s34:{c:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 h=vec2(.5,.5),i=vec2(1.,0.),j=vec2(0.,1.);void main(){vec2 a=vv0-u7*h;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*i),d=texture2D(u3,a+u7*j),k=texture2D(u3,a+u7),l=e(b,c),g=e(d,k);gl_FragColor=e(l,g);}",
f:["u3","u7"],g:K},s35:{c:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;const vec2 j=vec2(1.,0.),k=vec2(0.,1.),l=vec2(2.,0.),m=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*j),d=texture2D(u3,a+u7*k),g=texture2D(u3,a+u7),i=e(b,c),h=e(d,g);return e(i,h);}void main(){vec2 a=vv0+u7*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u7*l),d=f(a+u7*2.),g=f(a+u7*m),i=e(b,c),h=e(d,g);gl_FragColor=e(i,h);}",f:["u3","u7"],g:K},s36:{c:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",
f:["u1"],g:D,precision:"lowp"},s37:{c:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;const vec4 g=vec4(1.,1.,1.,1.);const float d=15444.;void main(){vec4 a=1001./d*texture2D(u1,vv0-3.*u7)+2002./d*texture2D(u1,vv0-2.*u7)+3003./d*texture2D(u1,vv0-u7)+3432./d*texture2D(u1,vv0)+3003./d*texture2D(u1,vv0+u7)+2002./d*texture2D(u1,vv0+2.*u7)+1001./d*texture2D(u1,vv0+3.*u7);gl_FragColor=a;}",f:["u7","u1"],g:D,precision:"lowp"},s38:{c:"uniform sampler2D u1,u30,u31;varying vec2 vv0;const vec4 g=vec4(1.,1.,1.,1.);const float h=.1;void main(){vec4 a=texture2D(u30,vv0),b=texture2D(u31,vv0),c=texture2D(u1,vv0),d=max(g*h,b-a*a),f=sqrt(d);gl_FragColor=(c-a)/f;}",
f:["u1","u30","u31"],g:{u1:0,u30:1,u31:2}}},L={s39:{c:"uniform float u18,u32;uniform sampler2D u15,u16,u23;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(.01,.01);void main(){vec4 sum=texture2D(u23,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u18,xyTo=floor(vv0*u18+eps2);float weightSize=toSparsity*u18;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u32*(xyPatch-halfFromSparsity))/u18,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u15,uvWeight)*texture2D(u16,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
f:["u18","u15","u16","u23","u32"],oa:["1.1111","gl_FragColor\\*=2.2222;"]},s40:{c:"uniform float u18,u32,u26;uniform sampler2D u15,u16,u23;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(.01,.01);void main(){vec4 sum=texture2D(u23,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u26,xyTo=floor(vv0*u18+eps2);float weightSize=fromSparsity*u26;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u18;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u32*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u26,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u15,uvWeight)*texture2D(u16,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
f:"u18 u26 u15 u16 u23 u32".split(" "),oa:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},I={Ca:function(){return l},m:function(){if(!l){g="highp";for(var e in M)k(M[e],e);x.set("s0");a.enableVertexAttribArray(0);e=Na.m();l=!0;return e}},ub:function(e){e.forEach(function(t){I.Pa(t)})},Pa:function(e){M[e.id]=e;k(e,e.id)},ab:function(e,t,B){t||(t=e);M[t]=Object.create(L[e]);L[e].oa&&L[e].oa.forEach(function(aa,Ba){M[t].c=M[t].c.replace(new RegExp(aa,"g"),B[Ba])});k(M[t],t)},set:function(e){n(M[e])},
Mb:function(e){return"undefined"!==typeof M[e]},Pc:function(){return h.Mc},Y:function(){-1!==q&&(q=-1,h.aa.forEach(function(e){0!==e&&a.disableVertexAttribArray(e)}))},Ha:function(){var e=0;h.aa.forEach(function(t,B){B=h.ua[B];a.vertexAttribPointer(t,B,a.FLOAT,!1,h.Ma,e);e+=4*B})},Lc:function(){a.enableVertexAttribArray(0)},Ia:function(){a.vertexAttribPointer(h.aa[0],2,a.FLOAT,!1,8,0)},od:function(e,t){a.uniform1i(h.o[e],t)},I:function(e,t){a.uniform1f(h.o[e],t)},M:function(e,t,B){a.uniform2f(h.o[e],
t,B)},pd:function(e,t){a.uniform2fv(h.o[e],t)},rd:function(e,t){a.uniform3fv(h.o[e],t)},qd:function(e,t,B,aa){a.uniform3f(h.o[e],t,B,aa)},pa:function(e,t){a.uniform4fv(h.o[e],t)},sd:function(e,t){a.uniformMatrix2fv(h.o[e],!1,t)},td:function(e,t){a.uniformMatrix3fv(h.o[e],!1,t)},ud:function(e,t){a.uniformMatrix4fv(h.o[e],!1,t)},u:function(e,t){I.set(e);t.forEach(function(B){switch(B.type){case "4f":a.uniform4fv(h.o[B.name],B.value);break;case "3f":a.uniform3fv(h.o[B.name],B.value);break;case "2f":a.uniform2fv(h.o[B.name],
B.value);break;case "1f":a.uniform1f(h.o[B.name],B.value);break;case "1i":a.uniform1i(h.o[B.name],B.value);break;case "mat2":a.uniformMatrix2fv(h.o[B.name],!1,B.value);break;case "mat3":a.uniformMatrix3fv(h.o[B.name],!1,B.value);break;case "mat4":a.uniformMatrix4fv(h.o[B.name],!1,B.value)}})},Xc:function(){return"lowp"}};return I}(),a=!1,Ya=function(){function b(g){console.log("ERROR in ContextFeedForward : ",g);return!1}var d=!1,k=!1,n=!1,q=!1,h=!0,A=!1,l={C:function(){return d.width},L:function(){return d.height},
Qc:function(){return d},Oc:function(){return a},s:function(){return h},flush:function(){a.flush()},Qb:function(){A||(A=new Uint8Array(d.width*d.height*4));a.readPixels(0,0,d.width,d.height,a.RGBA,a.UNSIGNED_BYTE,A);return A},Sc:function(){return d.toDataURL("image/jpeg")},Tc:function(){N.J();k||(k=document.createElement("canvas"),n=k.getContext("2d"));k.width=d.width;k.height=d.height;var g=l.Qb(),r=n.createImageData(k.width,k.height),w,D,F=k.width,H=k.height,K=r.data;for(D=0;D<H;++D){var M=H-D-1;
for(w=0;w<F;++w){var L=4*(D*F+w);var I=4*(M*F+w);K[L]=g[I];K[L+1]=g[I+1];K[L+2]=g[I+2];K[L+3]=g[I+3]}}n.putImageData(r,0,0);return k.toDataURL("image/png")},Rc:function(g){!k&&g&&(k=document.createElement("canvas"),n=k.getContext("2d"));var r=g?k:document.createElement("canvas");r.width=d.width;r.height=d.height;(g?n:r.getContext("2d")).drawImage(d,0,0);return r},m:function(g){g.Eb&&!g.ca?d=document.getElementById(g.Eb):g.ca&&(d=g.ca);d||(d=document.createElement("canvas"));d.width=g&&void 0!==g.width?
g.width:512;d.height=g&&void 0!==g.height?g.height:512;"undefined"===typeof g&&(g={});void 0===g.premultipliedAlpha&&(g.premultipliedAlpha=!1);void 0===g.cb&&(g.cb=!0);void 0===g.antialias&&(g.antialias=!1);var r={antialias:g.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:g.premultipliedAlpha,stencil:!1,depth:g.cb};a:{if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){var w=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);w=[parseInt(w[1],10),parseInt(w[2],10),
parseInt(w[3]||0,10)];if(12===w[0]||13===w[0]){w=!0;break a}}w=!1}w||(a=d.getContext("webgl2",r));a?h=!0:((a=d.getContext("webgl",r))||(a=d.getContext("experimental-webgl",r)),h=!1);if(!a)return b("WebGL is not enabled");(q=a.getExtension("WEBGL_lose_context"))&&d.addEventListener("webglcontextlost",g.jc,!1);if(!Xa.m())return b("Not enough capabilities");if(!Xa.zb()&&h)return b("Your configuration cannot process color buffer float");a.clearColor(0,0,0,0);a.disable(a.DEPTH_TEST);a.disable(a.BLEND);
a.disable(a.DITHER);a.disable(a.STENCIL_TEST);a.GENERATE_MIPMAP_HINT&&a.hint(a.GENERATE_MIPMAP_HINT,a.FASTEST);a.disable(a.SAMPLE_ALPHA_TO_COVERAGE);a.disable(a.SAMPLE_COVERAGE);return!0},Zb:function(){if(!x.m())return!1;a.depthFunc(a.LEQUAL);a.clearDepth(1);return!0}};return l}(),Ma=function(){var b="undefined"===typeof x?JEShaders:x;return{sc:function(d){b!==d&&(b.Y(),b=d)},Ca:function(){return b.Ca()},Ia:function(){b.Ia()},Ha:function(){b.Ha()},Y:function(){b.Y()},set:function(d){b.set(d)}}}(),
P=function(){var b,d,k=0,n=-2,q=-2,h=!1,A={reset:function(){q=n=-2},m:function(){h||(b=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,b),a.bufferData(a.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),a.STATIC_DRAW),d=a.createBuffer(),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,d),a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),a.STATIC_DRAW),A.va(),h=!0)},a:function(l){var g=k++,r=l.O?l.O.length:0,w="undefined"===typeof l.mode?a.STATIC_DRAW:l.mode,D=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,
D);a.bufferData(a.ARRAY_BUFFER,l.sb instanceof Float32Array?l.sb:new Float32Array(l.sb),w);n=g;if(l.O){var F=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,F);if(65536>l.O.length){var H=Uint16Array;var K=a.UNSIGNED_SHORT;var M=2}else H=Uint32Array,K=a.UNSIGNED_INT,M=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,l.O instanceof H?l.O:new H(l.O),w);q=g}var L={yb:function(I){n!==g&&(a.bindBuffer(a.ARRAY_BUFFER,D),n=g);I&&Ma.Ha()},wb:function(){q!==g&&(a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,F),q=g)},bind:function(I){L.yb(I);
L.wb()},Jc:function(){a.drawElements(a.TRIANGLES,r,K,0)},Kc:function(I,e){a.drawElements(a.TRIANGLES,I,K,e*M)},remove:function(){a.deleteBuffer(D);l.O&&a.deleteBuffer(F);L=null}};return L},va:function(){-1!==n&&(a.bindBuffer(a.ARRAY_BUFFER,b),n=-1);-1!==q&&(a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,d),q=-1)},i:function(l,g){l&&P.va();g&&Ma.Ia();a.drawElements(a.TRIANGLES,3,a.UNSIGNED_SHORT,0)},Pb:function(){a.deleteBuffer(b);a.deleteBuffer(d)}};return A}(),N=function(){var b,d,k,n=!1,q={B:-2,Nb:1};return{m:function(){if(!n){b=
a.createFramebuffer();var h=Xa.s();d=h&&a.DRAW_FRAMEBUFFER?a.DRAW_FRAMEBUFFER:a.FRAMEBUFFER;k=h&&a.READ_FRAMEBUFFER?a.READ_FRAMEBUFFER:a.FRAMEBUFFER;n=!0}},Vc:function(){return d},za:function(){return k},V:function(){return a.FRAMEBUFFER},Yc:function(){return q},Nc:function(){return b},a:function(h){void 0===h.bb&&(h.bb=!1);var A=h.X?h.X:!1,l=h.width,g=void 0!==h.height?h.height:h.width,r=b,w=!1,D=!1,F=0;A&&(l=l?l:A.C(),g=g?g:A.L());var H={pb:function(){D||(r=a.createFramebuffer(),D=!0,F=q.Nb++)},
tb:function(){H.pb();H.l();w=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,w);a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,l,g);a.framebufferRenderbuffer(d,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,w);a.clearDepth(1)},bind:function(K,M){F!==q.B&&(a.bindFramebuffer(d,r),q.B=F);A&&A.l();M&&a.viewport(0,0,l,g);K&&a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},Cc:function(){F!==q.B&&(a.bindFramebuffer(d,r),q.B=F)},clear:function(){a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},Fc:function(){a.clear(a.COLOR_BUFFER_BIT)},
Gc:function(){a.clear(a.DEPTH_BUFFER_BIT)},tc:function(){a.viewport(0,0,l,g)},l:function(){F!==q.B&&(a.bindFramebuffer(d,r),q.B=F)},rtt:function(K){A=K;q.B!==F&&(a.bindFramebuffer(a.FRAMEBUFFER,r),q.B=F);K.l()},J:function(){a.bindFramebuffer(d,null);q.B=-1},resize:function(K,M){l=K;g=M;w&&(a.bindRenderbuffer(a.RENDERBUFFER,w),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,l,g))},remove:function(){a.bindFramebuffer(d,r);a.framebufferTexture2D(d,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0);w&&
a.framebufferRenderbuffer(d,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,null);a.bindFramebuffer(d,null);a.deleteFramebuffer(r);w&&a.deleteRenderbuffer(w);H=null}};h.bb&&H.tb();return H},J:function(){a.bindFramebuffer(d,null);q.B=-1},xc:function(){a.bindFramebuffer(d,null);a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT);a.viewport(0,0,Xa.C(),Xa.L());q.B=-1},reset:function(){q.B=-2},N:function(){0!==q.B&&(a.bindFramebuffer(d,b),q.B=0)},clear:function(){a.viewport(0,0,Xa.C(),Xa.L());a.clear(a.COLOR_BUFFER_BIT)}}}(),
Z=function(){function b(c){a.bindTexture(a.TEXTURE_2D,c)}function d(c){Ba[0]=c;c=Ca[0];var E=c>>16&32768,J=c>>12&2047,Q=c>>23&255;return 103>Q?E:142<Q?E|31744|((255==Q?0:1)&&c&8388607):113>Q?(J|=2048,E|(J>>114-Q)+(J>>113-Q&1)):E=(E|Q-112<<10|J>>1)+(J&1)}function k(c){var E=new Uint16Array(c.length);c.forEach(function(J,Q){E[Q]=d(J)});return E}function n(){if(null!==sa.Aa)return sa.Aa;var c=h(k([1,1,1,1]));return null===c?!0:sa.Aa=c}function q(){if(null!==sa.Ba)return sa.Ba;var c=h(new Uint8Array([255,
255,255,255]));return null===c?!0:sa.Ba=c}function h(c){if(!Ma.Ca()||!K)return null;c=W.a({isFloat:!1,G:!0,array:c,width:1});N.J();a.viewport(0,0,1,1);a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);Ma.set("s0");c.Ra(0);P.i(!1,!0);var E=new Uint8Array(4);a.readPixels(0,0,1,1,a.RGBA,a.UNSIGNED_BYTE,E);E=.9<E[0];c.remove();N.N();return E}var A=0,l,g=0,r,w=!1,D,F,H,K=!1,M=!1,L,I,e,t=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],B=!1,aa=!1,Ba=new Float32Array(1),Ca=new Int32Array(Ba.buffer),sa={Aa:null,
Ba:null},W={m:function(){if(!K){F=[a.RGB,!1,a.RGB,a.RGBA];H=[a.RGB,!1,a.RGB,a.RGBA];l=[a.TEXTURE0,a.TEXTURE1,a.TEXTURE2,a.TEXTURE3,a.TEXTURE4,a.TEXTURE5,a.TEXTURE6,a.TEXTURE7];B="undefined"!==typeof JEContext;aa="undefined"!==typeof Xa;B&&JEContext.jd()&&l.push(a.TEXTURE8,a.TEXTURE9);r=[-1,-1,-1,-1,-1,-1,-1,-1];D=[a.UNSIGNED_BYTE,a.FLOAT,a.FLOAT];if(!w){for(var c=new Float32Array(16384),E=0;16384>E;++E)c[E]=2*Math.random()-1;w={random:W.a({isFloat:!0,isPot:!0,array:c,width:64}),rb:W.a({isFloat:!1,
isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}K=!0}},Yb:function(){W.zc()},ad:function(){return w.rb},zc:function(){D[1]=Xa.ja()},pc:function(){H=F=[a.RGBA,a.RGBA,a.RGBA,a.RGBA]},ld:function(c,E){x.set("s1");N.J();var J=c.C(),Q=c.L();a.viewport(0,0,J,Q);c.b(0);P.i(!1,!1);a.readPixels(0,0,J,Q,a.RGBA,a.UNSIGNED_BYTE,E)},Ob:function(c,E,J){a.activeTexture(a.TEXTURE0);A=0;var Q=a.createTexture();b(Q);var U=Xa.s()&&a.RGBA32F?a.RGBA32F:a.FLOAT;E=E instanceof Float32Array?E:new Float32Array(E);var X=
Math.log(E.length)/Math.log(2);X!==Math.floor(X)&&(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE));a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,J);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,c.C(),c.L(),0,a.RGBA,U,E);b(null);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1);N.N();x.set("s0");c.H();a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);
b(Q);P.i(!0,!1);a.deleteTexture(Q)},a:function(c){function E(){b(ba);wa&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,wa);c.isPot?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,c.fb?a.MIRRORED_REPEAT:a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,c.P?a.MIRRORED_REPEAT:a.REPEAT)):(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE));c.ma&&"undefined"!==typeof JESETTINGS&&a.texParameterf(a.TEXTURE_2D,JEContext.Uc().TEXTURE_MAX_ANISOTROPY_EXT,
JESETTINGS.Bc);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,c.isLinear?a.LINEAR:a.NEAREST);c.isLinear?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,c.isMipmap&&!ya?a.NEAREST_MIPMAP_LINEAR:a.LINEAR):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,c.isMipmap&&!ya?a.NEAREST_MIPMAP_NEAREST:a.NEAREST);ja=F[c.fa-1];da=H[c.fa-1];ha=D[J];if(Xa.s()){var v=a.RGBA32F;ja===a.RGBA&&ha===a.FLOAT&&v&&(da=v);ja===a.RGB&&ha===a.FLOAT&&v&&(da=v,ja=a.RGBA)}if(c.G&&!c.isFloat||c.isFloat&&c.isMipmap&&Na.ac())(v=
a.RGBA16F)&&(da=v),ha=Xa.ja();c.ib&&"undefined"!==typeof a.texStorage2D&&(oa=c.ib);c.gb&&4===c.fa&&(ja=JEContext.Zc());if(c.A)a.texImage2D(a.TEXTURE_2D,0,da,ja,ha,c.A);else if(c.url)a.texImage2D(a.TEXTURE_2D,0,da,ja,ha,ka);else if(Y){try{a.getError(),a.texImage2D(a.TEXTURE_2D,0,da,y,z,0,ja,ha,Y),a.getError()!==a.NO_ERROR&&(a.texImage2D(a.TEXTURE_2D,0,da,y,z,0,ja,ha,null),a.getError()!==a.NO_ERROR&&a.texImage2D(a.TEXTURE_2D,0,a.RGBA,y,z,0,a.RGBA,a.UNSIGNED_BYTE,null))}catch(pa){a.texImage2D(a.TEXTURE_2D,
0,da,y,z,0,ja,ha,null)}c.isKeepArray||(Y=null)}else a.texImage2D(a.TEXTURE_2D,0,da,y,z,0,ja,ha,null);if(c.isMipmap)if(!ya&&V)V.ya(),Da=!0;else if(ya){v=Math.log(Math.min(y,z))/Math.log(2);var S;Ea=Array(1+v);Ea[0]=ba;for(S=1;S<=v;++S){var ta=Math.pow(2,S);var za=y/ta;ta=z/ta;var qa=a.createTexture();b(qa);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texImage2D(a.TEXTURE_2D,0,da,za,ta,0,ja,ha,null);b(null);Ea[S]=qa}Da=!0}b(null);
r[A]=-1;wa&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1);O=!0;m&&V&&(m(V),m=!1)}"undefined"===typeof c.isFloat&&(c.isFloat=!1);"undefined"===typeof c.G&&(c.G=!1);"undefined"===typeof c.isPot&&(c.isPot=!0);"undefined"===typeof c.isLinear&&(c.isLinear=!1);"undefined"===typeof c.isMipmap&&(c.isMipmap=!1);"undefined"===typeof c.wa&&(c.wa=!1);void 0===c.ma&&(c.ma=!1);void 0===c.P&&(c.P=!1);void 0===c.fb&&(c.fb=!1);void 0===c.gb&&(c.gb=!1);void 0===c.fa&&(c.fa=4);void 0===c.eb&&(c.eb=!1);"undefined"===typeof c.isFlipY&&
(c.isFlipY=c.url||c.array?!0:!1);"undefined"===typeof c.isKeepArray&&(c.isKeepArray=!1);c.data&&(c.array="string"===typeof c.data?La(c.data):c.isFloat?new Float32Array(c.data):new Uint8Array(c.data),c.isFlipY=!1);var J=0,Q=c.A?!0:!1,U=null,X=null,ea=!1,la=null;c.isFloat&&(c.G=!0);c.G&&(J=1);c.eb||Xa.s()||!c.isFloat||!aa||Xa.Ta()||(c.isFloat=!1);c.isFloat&&(J=2);c.ma&&B&&!JEContext.dd()&&(c.ma=!1);var ba=a.createTexture(),m=c.wa,ka=null,Y=!1,y=0,z=0,O=!1,fa=g++,ma=!1,ca,Aa,Fa,R,da,ja,ha,wa=c.isFlipY,
ya=c.G&&c.isMipmap&&"undefined"!==typeof Na&&!Na.Bb()?!0:!1,Ea,oa=-1,Da=!1;"undefined"!==typeof c.width&&c.width&&(y=c.width,z="undefined"!==typeof c.height&&c.height?c.height:y);var V={get:function(){return ba},C:function(){return y},L:function(){return z},bd:function(){return c.url},ed:function(){return c.isFloat},gd:function(){return c.G},hd:function(){return c.isLinear},ya:function(){a.generateMipmap(a.TEXTURE_2D)},Sa:function(v,S){ya?(v||(v=V.Za()),V.ta(S),b(Ea[v]),r[S]=-1):V.b(S)},Za:function(){-1===
oa&&(oa=Math.log(y)/Math.log(2));return oa},Ya:function(v){if(ya){v||(v=V.Za());x.set("s11");V.ta(0);var S,ta=y,za=z;for(S=1;S<=v;++S)ta/=2,za/=2,x.M("u7",.25/ta,.25/za),a.viewport(0,0,ta,za),b(Ea[S-1]),a.framebufferTexture2D(N.V(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,Ea[S],0),P.i(!1,1===S);r[0]=-1}else V.ya()},ta:function(v){v!==A&&(a.activeTexture(l[v]),A=v)},b:function(v){if(!O)return!1;V.ta(v);if(r[v]===fa)return!1;b(ba);r[v]=fa;return!0},Ra:function(v){a.activeTexture(l[v]);A=v;b(ba);r[v]=fa},l:function(){a.framebufferTexture2D(N.V(),
a.COLOR_ATTACHMENT0,a.TEXTURE_2D,ba,0)},H:function(){a.viewport(0,0,y,z);a.framebufferTexture2D(N.V(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,ba,0)},xd:function(){a.framebufferTexture2D(N.V(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0)},resize:function(v,S){y=v;z=S;E()},clone:function(v){v=W.a({width:y,height:z,G:c.G,isFloat:c.isFloat,isLinear:c.isLinear,P:c.P,isFlipY:v?!wa:wa,isPot:c.isPot});Ma.set("s0");N.N();v.l();a.viewport(0,0,y,z);V.b(0);P.i(!0,!0);return v},tc:function(){a.viewport(0,0,y,z)},remove:function(){a.deleteTexture(ba);
V=null},refresh:function(){V.Ra(0);wa&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!0);Q?a.texImage2D(a.TEXTURE_2D,0,da,ja,a.UNSIGNED_BYTE,c.A):a.texImage2D(a.TEXTURE_2D,0,da,y,z,0,ja,ha,Y);wa&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1)},Ua:function(){var v=y*z*4;Aa=[new Uint8Array(v),new Uint8Array(v),new Uint8Array(v),new Uint8Array(v)];ca=[new Float32Array(Aa[0].buffer),new Float32Array(Aa[1].buffer),new Float32Array(Aa[2].buffer),new Float32Array(Aa[3].buffer)];Fa=new Uint8Array(4*v);R=new Float32Array(Fa.buffer);
ma=!0},nb:function(){ma||V.Ua();a.readPixels(0,0,y,4*z,a.RGBA,a.UNSIGNED_BYTE,Fa);var v,S=y*z,ta=2*S,za=3*S;for(v=0;v<S;++v)ca[0][v]=R[v],ca[1][v]=R[v+S],ca[2][v]=R[v+ta],ca[3][v]=R[v+za];return ca},Va:function(){N.J();x.set("s12");V.b(0);for(var v=0;4>v;++v)a.viewport(0,z*v,y,z),x.pa("u8",t[v]),P.i(!1,0===v)},yc:function(v){var S=ha===D[0]&&!q();b(ba);wa&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,wa);S?(ea||(U=document.createElement("canvas"),U.width=y,U.height=z,X=U.getContext("2d"),la=X.createImageData(y,
z),ea=!0),la.data.set(v),X.putImageData(la,0,0),a.texImage2D(a.TEXTURE_2D,0,da,ja,ha,U)):a.texImage2D(a.TEXTURE_2D,0,da,y,z,0,ja,ha,v);r[A]=fa;wa&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1)},yd:function(v,S){b(ba);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,S);a.texImage2D(a.TEXTURE_2D,0,da,ja,ha,v);r[A]=fa;S&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1)},nd:function(v,S){var ta=y*z,za=4*ta;v=c.G?v?"RGBE":"JSON":"RGBA";S&&(v=S);S=Xa.s()&&!1;switch(v){case "RGBE":var qa="s41";break;case "JSON":qa=S?"s0":"s12";break;
case "RGBA":case "RGBAARRAY":qa="s6"}ma||("RGBA"===v||"RGBE"===v||"RGBAARRAY"===v?(Aa=new Uint8Array(za),ma=!0):"JSON"!==v||S||V.Ua());N.J();x.set(qa);V.b(0);if("RGBA"===v||"RGBE"===v||"RGBAARRAY"===v){a.viewport(0,0,y,z);P.i(!0,!0);a.readPixels(0,0,y,z,a.RGBA,a.UNSIGNED_BYTE,Aa);if("RGBAARRAY"===v)return{data:Aa};M||(L=document.createElement("canvas"),I=L.getContext("2d"),M=!0);L.width=y;L.height=z;e=I.createImageData(y,z);e.data.set(Aa);I.putImageData(e,0,0);var pa=L.toDataURL("image/png")}else if("JSON"===
v)if(S)pa=new Float32Array(ta),a.viewport(0,0,y,z),P.i(!0,!0),a.readPixels(0,0,y,z,a.RGBA,a.FLOAT,pa);else{for(pa=0;4>pa;++pa)a.viewport(0,z*pa,y,z),x.pa("u8",t[pa]),P.i(!pa,!pa);V.nb();pa=Array(ta);for(qa=0;qa<ta;++qa)pa[4*qa]=ca[0][qa],pa[4*qa+1]=ca[1][qa],pa[4*qa+2]=ca[2][qa],pa[4*qa+3]=ca[3][qa]}return{format:v,data:pa,width:y,height:z,isMirrorY:c.P,isFlipY:"RGBA"===v?c.isFlipY:!c.isFlipY}}};c.isMipmap&&!ya&&O&&!Da&&(V.ya(),Da=!0);if(c.url)b(ba),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,1,1,0,a.RGBA,
a.UNSIGNED_BYTE,null),ka=new Image,ka.Ic="Anonymous",ka.crossOrigin="Anonymous",ka.src=c.url,ka.onload=function(){y=ka.width;z=ka.height;E()};else if(c.A){var Ga=function(){y=void 0!==c.A.videoWidth?c.A.videoWidth:c.A.width;z=void 0!==c.A.videoHeight?c.A.videoHeight:c.A.height;y?E():setTimeout(Ga,1)};Ga()}else c.array?(c.G&&!c.isFloat?c.array instanceof Uint16Array?(Y=c.array,E()):n()?(Y=k(c.array),E()):(E(),W.Ob(V,c.array,wa)):(Y=c.isFloat?c.array instanceof Float32Array?c.array:new Float32Array(c.array):
c.array instanceof Uint8Array?c.array:new Uint8Array(c.array),E()),c.isKeepArray||(Y&&Y!==c.array&&(Y=null),delete c.array)):E();V.Vb=V.C;m&&O&&(m(V),m=!1);return V},J:function(c){c!==A&&(a.activeTexture(l[c]),A=c);r[c]=-1;b(null)},Dc:function(c){w.random.b(c)},reset:function(){for(var c=0;c<l.length;++c)r[c]=-1;A=-1},md:function(){A=-1},vd:function(){for(var c=0;c<l.length;++c)W.J(c)},Pb:function(){w&&(w.random.remove(),w.rb.remove())},wd:function(c,E){if("RGBA"===c.format||"RGBE"===c.format){var J=
new Image;J.src=c.data;J.onload=function(){W.a({P:c.isMirrorY,isFlipY:c.isFlipY,isFloat:!1,A:J,wa:function(Q){if("RGBA"===c.format)E(Q);else{var U=c.width,X=c.height,ea=W.a({P:c.isMirrorY,isFloat:!0,width:U,height:X,isFlipY:c.isFlipY});N.N();a.viewport(0,0,U,X);x.set("s42");ea.l();Q.b(0);P.i(!0,!0);W.J(0);E(ea);a.flush();setTimeout(Q.remove,50)}}})}}else"JSON"===c.format?E(W.a({isFloat:!0,isFlipY:c.isFlipY,width:c.width,height:c.height,array:new Float32Array(c.data)})):E(!1)}};return W}(),Xa=function(){function b(){d=
"undefined"===typeof Ya?JEContext:Ya;k=!0}var d,k=!1,n=!1,q=!1,h=!1,A=!1,l=!1,g=!1,r=!1,w=!1,D=!1,F=!1,H=!0,K=!0,M=!0,L=!1,I="undefined"===typeof window?{}:window,e={m:function(){if(k)return!0;b();e.Xa();e.xa();e.Kb();e.Lb();N.m();Z.m();if(!e.Fb())return!1;P.m();Z.Yb();return!0},C:function(){k||b();return d.C()},L:function(){k||b();return d.L()},s:function(){k||b();return d.s()},Kb:function(){F=(D=a.getExtension("EXT_color_buffer_float")||a.getExtension("WEBGL_color_buffer_float")||a.getExtension("OES_color_buffer_float"))?
!0:!1;I.GL_EXT_COLORBUFFERFLOAT=D},Lb:function(){a.getExtension("EXT_color_buffer_half_float")||a.getExtension("WEBGL_color_buffer_half_float")||a.getExtension("OES_color_buffer_half_float")},Xa:function(){if(!n){this.s()||(q=a.getExtension("OES_texture_float")||a.getExtension("MOZ_OES_texture_float")||a.getExtension("WEBKIT_OES_texture_float"),A=(I.GL_EXT_FLOAT=q)?!0:!1);if(A||this.s())h=a.getExtension("OES_texture_float_linear")||a.getExtension("MOZ_OES_texture_float_linear")||a.getExtension("WEBKIT_OES_texture_float_linear"),
I.GL_EXT_FLOATLINEAR=h;n=!0}},xa:function(){if(!w){if(!this.s()){if(l=a.getExtension("OES_texture_half_float")||a.getExtension("MOZ_OES_texture_half_float")||a.getExtension("WEBKIT_OES_texture_half_float"))L=l.HALF_FLOAT_OES,g=!0;!L&&a.HALF_FLOAT&&(L=a.HALF_FLOAT);!L&&a.FLOAT&&(L=a.FLOAT);I.GL_EXT_HALFFLOAT=l}if(g||this.s())r=a.getExtension("OES_texture_half_float_linear")||a.getExtension("MOZ_OES_texture_half_float_linear")||a.getExtension("WEBKIT_OES_texture_half_float_linear"),I.GL_EXT_HALFFLOATLINEAR=
r;w=!0}},ja:function(){if(e.s())return a.HALF_FLOAT;e.xa();return g?L:a.FLOAT},Ta:function(){return H},Ab:function(){return K},Ec:function(){return M},zb:function(){return F},Hb:function(){K=H=!0;var t=a.createFramebuffer();a.bindFramebuffer(a.FRAMEBUFFER,t);var B=a.createTexture();a.bindTexture(a.TEXTURE_2D,B);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texImage2D(a.TEXTURE_2D,0,e.s()&&a.RGBA32F?a.RGBA32F:a.RGBA,1,1,
0,a.RGBA,a.FLOAT,null);a.framebufferTexture2D(N.V(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,B,0);var aa=a.checkFramebufferStatus(N.za());aa!==a.FRAMEBUFFER_COMPLETE&&(H=!1);a.texImage2D(a.TEXTURE_2D,0,e.s()&&a.RGBA16F?a.RGBA16F:a.RGBA,1,1,0,a.RGBA,e.ja(),null);a.framebufferTexture2D(N.V(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,B,0);aa=a.checkFramebufferStatus(N.za());aa!==a.FRAMEBUFFER_COMPLETE&&(K=!1);a.bindTexture(a.TEXTURE_2D,null);a.bindFramebuffer(a.FRAMEBUFFER,null);a.deleteTexture(B);a.deleteFramebuffer(t)},
Gb:function(){var t=N.a({width:1});t.pb();var B=Z.a({width:1,isFloat:!0,fa:3});t.l();B.l();a.flush();a.checkFramebufferStatus(N.za())!==a.FRAMEBUFFER_COMPLETE?(Z.pc(),M=!1):M=!0;t.remove();B.remove()},Fb:function(){e.Hb();if(!H&&!K)return!1;e.Gb();return!0}};return e}(),Na=function(){function b(H,K,M,L){a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,L?a.NEAREST_MIPMAP_NEAREST:a.LINEAR);try{var I=a.getError();I!==a.NO_ERROR&&console.log("GLERR in test_mipmapping() :",I);a.texImage2D(a.TEXTURE_2D,
0,H,2,2,0,a.RGBA,K,M);I=a.getError();if(I!==a.NO_ERROR)return!1}catch(e){return!1}L&&a.generateMipmap(a.TEXTURE_2D);P.va();P.i(!1,!0);a.readPixels(0,0,1,1,a.RGBA,a.UNSIGNED_BYTE,l);I=a.getError();I===a.INVALID_OPERATION&&"undefined"!==typeof a.PIXEL_PACK_BUFFER&&(a.bindBuffer(a.PIXEL_PACK_BUFFER,null),a.readPixels(0,0,1,1,a.RGBA,a.UNSIGNED_BYTE,l),I=a.getError());return I!==a.NO_ERROR?!1:0!==l[0]}function d(H){return Xa.Ta()&&b(internalPixelFormat32f,a.FLOAT,new Float32Array(r),H)?(h=q.Oa,!0):!1}
function k(H){return Xa.Ab()?b(D,Xa.ja(),new Uint16Array(r),H)||b(D,a.FLOAT,new Float32Array(r),H)?(h=q.sa,!0):!1:!1}var n=!1,q={Oa:3,sa:2,RGBA8:0},h=q.RGBA8,A,l=new Uint8Array(4),g=[.8,1,.8,1],r=g.concat(g,g,g),w=!0,D,F={m:function(){Xa.Xa();Xa.xa();D=a.RGBA;if(Ya.s()){var H=a.RGBA16F;H&&(D=H)}P.m();N.reset();N.J();a.viewport(0,0,1,1);x.set("s0");n=!0;A=a.createTexture();a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,A);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.REPEAT);a.texParameteri(a.TEXTURE_2D,
a.TEXTURE_WRAP_T,a.REPEAT);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);if(k(!0)||d(!0))return!0;w=!1;if(k(!1)||d(!1))return!0;if(Ya.s()){D=a.RGBA;if(k(!0)||d(!0))return!0;w=!1;if(k(!1)||d(!1))return!0}return!1},Bb:function(){return w},Wc:function(){return h},fd:function(){n||F.m();return h===q.Oa},ac:function(){n||F.m();return h===q.sa}};return F}(),Za={a:function(b){var d=Z.a(b.alpha),k=Z.a(b.beta);return{Jb:function(){d.b(1);k.b(2)}}}},bb={a:function(b){var d=b.uc;d.index=b.index;
d.R=b.R;d.parent=b.parent;switch(d.type){case "input":b=$a.a(d);break;default:b=ab.a(d)}return b}},$a={a:function(b){"undefined"===typeof b.sift&&(b.sift=!1);"undefined"===typeof b.DWT&&(b.DWT=!1);"undefined"===typeof b.blur&&(b.blur=!1);"undefined"===typeof b.siftOutWidth&&(b.siftOutWidth=!1);"undefined"===typeof b.density&&(b.density=1);var d=!1;if(b.mask){d=!0;SETTINGS&&void 0!==SETTINGS.vb&&(b.mask=SETTINGS.vb+b.mask);var k=Z.a({isFloat:!1,url:b.mask})}var n=!1,q="undefined"!==typeof b.preprocessing?
b.preprocessing:!1,h=!1,A=!1;b.sift?Sift.m({Xb:a,ca:!1,width:b.size,kd:b.siftOutWidth}):b.DWT&&DWT.m({Xb:a,ca:!1,width:b.size});var l=!1;b.customInputShader&&(l="s43",x.Pa({name:"_",id:l,c:b.customInputShader,f:["uSource"],precision:"lowp"}),x.u(l,[{type:"1i",name:"_",value:0}]));switch(q){case "sobel":var g="s32";h=!0;break;case "meanNormalization":g="s33";h=!0;break;case "grayScale":g="s29";h=!1;break;case "grayScaleTilt":g="s30";A=!0;h=!1;break;case "rgbGrayTilt":g="s31";A=!0;h=!1;break;case "copy":g=
l?l:"s0";break;case "inputLightRegulation":g=l?l:"s29";cb.m({width:b.size,jb:b.nBlurPass,$b:!1});n=!0;break;case "direct":case "none":g=!1;break;default:g="s3"}A&&x.u(g,[{name:"u28",type:"1f",value:b.tilt}]);d&&(g+="Mask");if(b.blur)var r=Z.a({isFloat:!1,isPot:!1,width:b.size});var w=Z.a({isFloat:!1,isPot:!1,width:b.size}),D={C:function(){return b.sift?Sift.ea():b.size},ea:function(){return D.C()},Tb:function(){return b.sift?Sift.ka():b.DWT?DWT.ka():n?cb.ka():w},F:function(){N.N();b.blur&&(r.H(),
x.set("s44"),x.M("u7",1/b.size,1/b.size),P.i(!1,!0),r.b(0));g&&(x.set(g),h&&x.I("u29",1/b.size),w.H(),d&&k.b(1),P.i(!1,!1),w.b(0),n?cb.Ga(w):b.sift?(x.Y(),Sift.Ga()):b.DWT&&(x.Y(),DWT.Ga(4)))}};return D}},ab={a:function(b){"undefined"===typeof b.disableNormalize&&(b.disableNormalize=!1);var d=[],k=[],n,q,h=!1,A,l=!0,g,r,w=b.isReorganize?b.isReorganize:!1,D=b.kernelsNumber?!0:!1,F=b.dynPelu?Za.a(b.dynPelu):!1,H=F?!0:!1,K={isEnabled:!1},M;if("softmax"===b.type){b.activation="softmax";b.size=Math.pow(2,
Math.ceil(Math.log(Math.sqrt(b.num_classes))/Math.log(2)));b.sparsity="undefined"!==typeof b.sparsity?b.sparsity:b.R.ea();b.gain="undefined"!==typeof b.gain?b.gain:1;x.u("s20",[{type:"1f",name:"u10",value:b.gain}]);var L=Z.a({isFloat:!0,isPot:!1,width:b.size}),I=Z.a({isFloat:!0,isPot:!1,width:b.size,isMipmap:!0});l=!1;var e=new Uint8Array(Math.pow(4*b.size,2)),t;for(t=0;t<b.size*b.size;++t){var B=t<b.num_classes?255:0;e[4*t]=B;e[4*t+1]=B;e[4*t+2]=B;e[4*t+3]=B}var aa=Z.a({isFloat:!1,isPot:!1,width:b.size,
array:e})}else b.cost?(b.sparsity="undefined"!==typeof b.sparsity?b.sparsity:b.R.ea(),l=!1):"full"===b.connectivityUp&&(b.sparsity=b.R.ea());var Ba={elu:"s15",elu01:"s16",relu:"s14",arctan:"s18",sigmoid:"s13",copy:"s0",softplus:"s19",softmax:"s20",dynPelu:"s17"}[b.activation],Ca=b.sparsity*b.sparsity,sa=!1,W=b.size;if(b.maxPooling){switch(b.maxPooling.size){case 2:var c="s34";break;case 4:c="s35"}sa=!0;W/=b.maxPooling.size;var E=Z.a({isFloat:!0,isPot:!1,width:W})}var J=void 0!==b.ic&&b.ic?!0:!1,Q=
null,U=null,X=null;J&&(Q="s45"+b.index.toString(),x.ab("s45",Q,[((b.normalization.n-1)/2).toFixed(1)]),x.u(Q,[{type:"1i",name:"u1",value:0},{type:"2f",name:"u7",value:[1/b.size,1/b.size]},{type:"1f",name:"u6",value:b.normalization.alpha},{type:"1f",name:"u9",value:b.normalization.beta},{type:"1f",name:"u33",value:b.normalization.k}]),U=Z.a({isFloat:!0,isPot:!0,width:b.size}),X=Z.a({isFloat:!0,isPot:!0,width:b.size}));var ea,la,ba,m;l&&(m=Z.a({isFloat:!0,isPot:!1,width:b.size}));var ka=Z.a(b.bias),
Y,y={C:function(){return b.size},ea:function(){return W},$a:function(){return b.num_classes},xb:function(z){M.b(z)},lc:function(){b.remap&&b.remap.isEnabled&&(K={isEnabled:!0,cc:Z.a({isFloat:!1,isFlipY:!1,array:new Uint8Array(b.remap.maskTexture.data),width:b.remap.maskTexture.width,isPot:!1}),layers:b.remap.layers.map(function(z){return b.parent.Sb(z)}),depth:b.remap.depth})},rc:function(){switch(b.connectivityUp){case "gaussian":Y=db.a(b.connectivity);break;case "direct":Y=eb.a(b.connectivity);
break;case "square":Y=fb.a(b.connectivity);break;case "squareFast":Y=gb.a(b.connectivity,b.activation);break;case "full":Y=hb.a(b.connectivity);break;case "conv":r=b.kernelsNumber,Y=ib.a(b.connectivity),w&&(g=Z.a({width:W,isFloat:!0,isFlipY:!1,isPot:!1}))}if(Y.S){var z=b.size*b.sparsity;la=Math.log(z/b.size)/Math.log(2);ea=Z.a({isMipmap:!0,isFloat:!0,isPot:!0,width:z,ib:la});ba=Z.a({isFloat:!0,isPot:!0,width:b.size})}},F:function(z,O){M=z;Y.S?(ea.H(),D&&ka.b(2),Y.F(K),ea.b(0),ea.Ya(la),ba.H(),D?x.set("s0"):
(x.set("s28"),x.I("u27",Ca),ka.b(1)),ea.Sa(la,0),P.i(!1,!1),x.set(Ba),J?U.l():m.l(),ba.b(0),H&&F.Jb(),P.i(!1,!1)):(m.H(),ka.b(1),Y.F());J&&(x.set(Q),X.l(),U.b(0),P.i(!1,!1),x.set("s46"),x.I("u6",1),m.l(),X.b(1),P.i(!1,!1));if(l)return sa?(E.H(),m.b(0),x.set(c),x.M("u7",1/b.size,1/b.size),P.i(!1,!1),O=E):O=m,O.b(0),w&&(g.l(),x.set("s22"),x.M("u14",r,W/r),P.i(!1,!1),O=g,g.b(0)),O;if("softmax"===b.type){x.set("s20");m.b(0);L.l();P.i(!1,!1);b.disableNormalize?z=L:(x.set("s2"),L.b(0),aa.b(1),I.l(),P.i(!1,
!1),x.set("s0"),q.H(),I.b(0),I.Ya(!1),P.i(!1,!1),x.set("s21"),n.H(),I.Sa(!1,0),x.I("u12",m.Vb()),q.b(1),P.i(!1,!1),z=n);if(O){switch(h){case "cpuRGBAAvg":break;default:var fa=y.mb(z)}return fa}return!1}if(b.cost){x.set("gpuRawAvg"===h?"s8":"s7");O=m;b.disableNormalize||(x.I("u4",1/b.size),n.H(),m.b(0),P.i(!1,!1),O=n);switch(h){case "cpuRGBA2Float":O.Va();fa=y.mb(O);A(fa);break;case "gpuRawAvg":case "gpuRaw":O.b(0),A(O)}return!1}},Db:function(z){z&&"undefined"!==typeof z.lb&&(h=z.lb,A=z.kc);m=Z.a({isFloat:!0,
isPot:!0,isMipmap:"softmax"===b.type,width:b.size});"softmax"===b.type&&(q=Z.a({isFloat:!0,isPot:!0,width:1}));var O=0,fa=0,ma="undefined"!==typeof b.num_classes&&b.num_classes?b.num_classes:b.size*b.size;for(z=0;z<ma;++z)d.push(O+(b.size-1-fa)*b.size),k.push([-1,-1,-1,-1]),++O,O===b.size&&(O=0,++fa);b.disableNormalize||(n=Z.a({isFloat:!0,isPot:!0,width:b.size}))},mb:function(z){z.Va();var O=z.nb();d.forEach(function(fa,ma){k[ma][0]=O[0][fa];k[ma][1]=O[1][fa];k[ma][2]=O[2][fa];k[ma][3]=O[3][fa]});
return k}};b.R&&y.rc(b.R);return y}};
function jb(){var b,d,k,n;b||(b={});this.Sb=function(q){return d[q]};this.oc=function(q){var h=!1;d=q.map(function(A,l){return h=A=bb.a({index:l,parent:this,uc:A,R:h})});k=d[0];n=d[d.length-1];d.forEach(function(A,l){0!==l&&A.lc()})};this.F=function(q,h){var A=h;d.forEach(function(l){A=l.F(A,q)});return A};this.Rb=function(){return k.C()};this.Ub=function(){return n.C()};this.ka=function(){return n.Tb()};this.qc=function(q){n.Db(q)};this.$a=function(){return n.$a()}}
var eb={a:function(b){var d=Z.a(b.weights);delete b.weights.data;return{S:!0,da:function(){return 1},Wb:function(){return d},F:function(){x.set("s27");d.b(1);P.i(!1,!1)}}}},hb={a:function(b){var d=b.fromLayerSize,k=Z.a(b.weights);return{S:!0,da:function(){return d},F:function(n){if(n.isEnabled){x.set("s25");n.cc.b(3);var q,h=Math.min(n.layers.length,n.depth);for(q=0;q<h;++q)n.layers[q].xb(4+q)}else x.set("s24");x.I("u18",b.toLayerSize);k.b(1);P.i(!1,!1)}}}},db={a:function(b){var d=b.toSparsity*b.toLayerSize,
k=d/b.fromLayerSize,n=Z.a(b.weights);Z.a({width:d,isFloat:!0,array:new Float32Array(b.fromBindings),isPot:!0});var q=Z.a({width:d,isFloat:!0,array:new Float32Array(b.toBindings),isPot:!0});return{S:!0,da:function(){return k},F:function(){x.set("s23");n.b(1);q.b(2);P.i(!1,!0)}}}},fb={a:function(b){var d=b.fromLayerSize,k=b.toLayerSize,n=b.toSparsity,q=n*k,h=q/d,A=d/k,l,g,r,w,D=0,F=0,H=0,K=Array(n*k*n*k*4),M=Array(n*k*n*k*4),L=Array(d*d);for(l=0;l<L.length;++l)L[l]=0;var I=Math.floor(n/2),e=.5/k,t=
.5/d,B=.5/q;for(l=0;l<k;++l)for(g=0;g<k;++g){var aa=Math.round(l*A);var Ba=Math.round(g*A);var Ca=l/k;var sa=g/k;Ca+=e;sa+=e;for(r=0;r<n;++r)for(w=0;w<n;++w){var W=D/q;var c=F/q;var E=aa+r-I;var J=Ba+w-I;0>E&&(E+=d);0>J&&(J+=d);E>=d&&(E-=d);J>=d&&(J-=d);var Q=E/d;var U=J/d;c=1-c-1/q;Q+=t;U+=t;W+=B;c+=B;var X=l*n+r,ea=g*n+w;ea=k*n-ea-1;X=ea*k*n+X;K[4*X]=W;K[4*X+1]=c;K[4*X+2]=Q;K[4*X+3]=U;Q=L[J*d+E]++;U=Q%h;E=E*h+U;J=J*h+(Q-U)/h;J=d*h-1-J;J=J*d*h+E;M[4*J]=W;M[4*J+1]=c;M[4*J+2]=Ca;M[4*J+3]=sa;++D>=q&&
(D=0,++F);++H}}var la=Z.a(b.weights);Z.a({width:q,isFloat:!0,array:new Float32Array(M),isPot:!0});M=null;var ba=Z.a({width:q,isFloat:!0,array:new Float32Array(K),isPot:!0});K=null;return{S:!0,da:function(){return h},F:function(){x.set("s23");la.b(1);ba.b(2);P.i(!1,!1)}}}},ib={a:function(b){var d=b.kernelsNumber,k=b.toSparsity,n=k*b.toLayerSize/b.fromLayerSize,q=Z.a(b.weights);return{S:!0,da:function(){return n},$c:function(){return k},Wb:function(){return q},F:function(){x.set("s26");x.I("u24",d);
x.I("u25",k);x.I("u18",b.toLayerSize);x.I("u26",b.fromLayerSize);q.b(1);P.i(!1,!1)}}}},gb={a:function(b,d){var k=b.fromLayerSize,n=b.toLayerSize,q=b.toSparsity,h=b.stride?b.stride:1,A=q*n/k,l=n<k,g=k/n,r=Z.a(b.weights),w="s47"+[k.toString(),n.toString(),q.toString(),h.toString(),d].join("_");x.Mb(w)||(b=Ha(d),n=[{type:"1f",name:"u18",value:n},{type:"1f",name:"u32",value:h}],l&&n.push({type:"1f",name:"u26",value:k}),k=[(l?A:q).toFixed(1),b],l&&k.push(g.toFixed(1)),x.ab(l?"s40":"s39",w,k),x.u(w,n.concat([{type:"1i",
name:"u16",value:0},{type:"1i",name:"u23",value:1},{type:"1i",name:"u15",value:3}])));return{S:!1,da:function(){return A},F:function(){x.set(w);r.b(3);P.i(!1,!1)}}}},cb=function(){var b,d,k,n,q,h,A,l,g;return{m:function(r){b=r.jb?r.jb:3;d=r.width?r.width:64;n=r.$b?!0:!1;r={isFloat:!1,width:d,isPot:!1,isFlipY:!1};q=Z.a(r);h=Z.a(r);A=Z.a(r);l=Z.a(r);g=Z.a({isFloat:!0,width:d,isPot:!1,isFlipY:!1});k=1/d},Ga:function(r){x.set("s37");for(var w=0;w<b;++w)q.l(),x.M("u7",k,0),P.i(n,!1),h.l(),q.b(0),x.M("u7",
0,k),P.i(n,!1),h.b(0);x.set("s36");l.l();r.b(0);P.i(n);x.set("s37");for(w=0;w<b;++w)A.l(),l.b(0),x.M("u7",k,0),P.i(n,!1),l.l(),A.b(0),x.M("u7",0,k),P.i(n,!1);x.set("s38");g.l();r.b(0);h.b(1);l.b(2);P.i(n,!1);g.b(0)},ka:function(){return g}}}();
window.JEEARAPI=function(){var b,d,k;function n(f,u){for(var G in f)"undefined"!==typeof u[G]&&(f[G]=u[G])}function q(f){if(f){var u=f.w,G=f.h;m.v.ba[0]=-1+2*(f.x+u/2)/m.U;m.v.ba[1]=-1+2*(f.y+G/2)/m.T;m.v.scale[0]=u/m.U;m.v.scale[1]=G/m.T}else m.v.ba[0]=0,m.v.ba[1]=0,m.v.scale[0]=1,m.v.scale[1]=1;m.width=m.U*m.v.scale[0];m.height=m.T*m.v.scale[1]}function h(){var f=[{type:"2f",name:"u35",value:m.v.ba},{type:"2f",name:"u36",value:m.v.scale}],u=f.concat([{type:"1f",name:"u37",value:m.U/m.T},{name:"u7",
type:"2f",value:[1/m.U,1/m.T]}]);x.u("s49",u);x.u("s50",u);x.u("s51",f)}function A(f,u,G){var C=g(f,u,"dx")*m.W[0],T=g(f,u,"dy")*m.W[1];f=G[2]*g(f,u,"ds");if(ea){u=Math.cos(la);var va=Math.sin(la),ua=-va*C+u*T;C=u*C+va*T;T=ua}C*=G[0];T*=G[1];G=y.j[2];u=y.j[3];y.j[0]-=C*G*aa[0];y.j[1]-=T*u*aa[1];y.j[2]-=f*G*aa[2];y.j[2]=Math.min(Math.max(y.j[2],t.ob[0]*m.W[0]),t.ob[1]*m.W[0]);y.j[0]=Math.min(Math.max(y.j[0],0),1);y.j[3]=y.j[2]*m.aspectRatio/m.la;y.j[1]=Math.min(Math.max(y.j[1],0),1)}function l(f){var u=
y.j[2],G=y.j[3],C=(2*Math.random()-1)*f,T=.5*(2*Math.random()-1)*f;y.j[0]+=(2*Math.random()-1)*f*u;y.j[1]+=C*G;y.j[2]+=T*u;y.j[3]=y.j[2]*m.aspectRatio/m.la}function g(f,u,G){u=ma[u].hb[G];return(f[u][0]+f[u][1]+f[u][2]+f[u][3])/4}function r(f,u,G,C){u=ma[u].hb[G];return(f[u][0]+f[u][1]+f[u][2]+f[u][3])/4*(1-C)+C*Math.min(f[u][0],f[u][1],f[u][2],f[u][3])}function w(f,u,G){var C=r(f,u,"here",G);f=ta*r(f,u,"notHere",G);return(C-f)/ma[u].La}function D(){la=0;ea&&null!==ba&&(la=ba[0]+Math.random()*(ba[1]-
ba[0]));O=z.$;var f=ka[Y];f&&(y.j[0]=f[0],y.j[1]=f[1],y.j[2]=f[2],y.j[3]=f[3]);Y=(Y+1)%ka.length}function F(f,u){sa&&(oa.roll=ea?la:c);W&&(oa.pitch=E);oa.label=ma[R.D].label;oa.distance=ma[R.D].Ib;oa.positionScale[0]=.5+(y.j[0]-.5)/m.v.scale[0];oa.positionScale[1]=.5+(y.j[1]-.5)/m.v.scale[1];oa.positionScale[2]=y.j[2];oa.positionScale[3]=y.j[3];oa.detectScore=u;oa.yaw=f}function H(f){var u=-1,G=-1E12;-1!==[z.$,z.qa].indexOf(O)&&ma.forEach(function(na,ra){na=w(f,ra,0);na>G&&(G=na,u=ra)});switch(O){case z.$:O=
z.qa;A(f,u,[1,1,1]);k=0;break;case z.qa:++k;G>Da?(Ga?(O=z.ga_,Fa=u,R.D=u,R.Fa=0):(O=z.Na,Aa=0,Fa=u),A(f,Fa,[1,1,1])):k>t.fc?D():A(f,u,[1,1,1]);break;case z.Na:++Aa>Ra&&(O=z.ga_,R.n=0,R.kb=0,R.D=Fa,R.K[0]=0,R.K[1]=0);A(f,Fa,[1,1,1]);l(Sa);break;case z.ga_:if(Ga||++R.n>Ka){var C=w(f,R.D,1);if(Ga||C>Da+Ta||v){sa&&(c=Ba*g(f,R.D,"roll"),ea&&(la+=c));if(J){var T=Ga||v?Math.PI*g(f,R.D,"yaw"):Math.atan2(R.K[1],R.K[0]);if(W){var va=.5+.5*g(f,R.D,"pitch");E=Ca[0]+(Ca[1]-Ca[0])*va}F(T,C)}v?(A(f,R.D,S),C>V?R.Fa=
0:++R.Fa>Ua&&D()):J?D():A(f,R.D,[.5,.5,.5])}else D()}else{var ua=1-(Ka-R.n)/(Ka-1);C=1.5-1*ua;A(f,R.D,[C,C,C]);l(Va*(1-ua));var xa=w(f,R.D,ua);xa<Da*ua*Wa?D():++R.kb>10*Ka?D():ma.some(function(na,ra){return R.D===ra?!1:w(f,ra,ua)>xa*(za*ua+(1-ua))?!0:!1})?(l(Oa[0]),la+=(2*Math.random()-1)*Oa[1]*Math.PI/180,R.n=0,R.K[0]=0,R.K[1]=0):(C=Math.PI*g(f,R.D,"yaw"),R.K[0]+=Math.cos(C),R.K[1]+=Math.sin(C))}}}function K(){x.ub([{id:"s50",name:"_",Z:"attribute vec2 a0;uniform vec4 u38;uniform vec2 u35,u36;uniform float u34,u37;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.);float a=u37*(u38.z/u38.w);a*=u36.x/u36.y;float b=cos(u34),c=sin(u34);vec2 d=mat2(b,-c*a,c/a,b)*a0,f=u35+d*u36;vv0=u38.xy+.5*u38.zw*f;}",
c:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;const vec3 g=vec3(1.,1.,1.);vec3 c[9];void main(){vec2 d=vv0+.5*u7;c[0]=texture2D(u1,d-u7*vec2(-1.,-1.)).rgb,c[1]=texture2D(u1,d-u7*vec2(-1.,0.)).rgb,c[2]=texture2D(u1,d-u7*vec2(-1.,1.)).rgb,c[3]=texture2D(u1,d-u7*vec2(0.,-1.)).rgb,c[4]=texture2D(u1,d-u7).rgb,c[5]=texture2D(u1,d-u7*vec2(0.,1.)).rgb,c[6]=texture2D(u1,d-u7*vec2(1.,-1.)).rgb,c[7]=texture2D(u1,d-u7*vec2(1.,0.)).rgb,c[8]=texture2D(u1,d-u7*vec2(1.,1.)).rgb;vec3 a,b;a=min(c[0],c[1]),b=max(c[0],c[1]),c[0]=a,c[1]=b,a=min(c[0],c[2]),b=max(c[0],c[2]),c[0]=a,c[2]=b,a=min(c[0],c[3]),b=max(c[0],c[3]),c[0]=a,c[3]=b,a=min(c[0],c[4]),b=max(c[0],c[4]),c[0]=a,c[4]=b,a=min(c[0],c[5]),b=max(c[0],c[5]),c[0]=a,c[5]=b,a=min(c[0],c[6]),b=max(c[0],c[6]),c[0]=a,c[6]=b,a=min(c[0],c[7]),b=max(c[0],c[7]),c[0]=a,c[7]=b,a=min(c[0],c[8]),b=max(c[0],c[8]),c[0]=a,c[8]=b,a=min(c[1],c[2]),b=max(c[1],c[2]),c[1]=a,c[2]=b,a=min(c[1],c[3]),b=max(c[1],c[3]),c[1]=a,c[3]=b,a=min(c[1],c[4]),b=max(c[1],c[4]),c[1]=a,c[4]=b,a=min(c[1],c[5]),b=max(c[1],c[5]),c[1]=a,c[5]=b,a=min(c[1],c[6]),b=max(c[1],c[6]),c[1]=a,c[6]=b,a=min(c[1],c[7]),b=max(c[1],c[7]),c[1]=a,c[7]=b,a=min(c[1],c[8]),b=max(c[1],c[8]),c[1]=a,c[8]=b,a=min(c[2],c[3]),b=max(c[2],c[3]),c[2]=a,c[3]=b,a=min(c[2],c[4]),b=max(c[2],c[4]),c[2]=a,c[4]=b,a=min(c[2],c[5]),b=max(c[2],c[5]),c[2]=a,c[5]=b,a=min(c[2],c[6]),b=max(c[2],c[6]),c[2]=a,c[6]=b,a=min(c[2],c[7]),b=max(c[2],c[7]),c[2]=a,c[7]=b,a=min(c[2],c[8]),b=max(c[2],c[8]),c[2]=a,c[8]=b,a=min(c[3],c[4]),b=max(c[3],c[4]),c[3]=a,c[4]=b,a=min(c[3],c[5]),b=max(c[3],c[5]),c[3]=a,c[5]=b,a=min(c[3],c[6]),b=max(c[3],c[6]),c[3]=a,c[6]=b,a=min(c[3],c[7]),b=max(c[3],c[7]),c[3]=a,c[7]=b,a=min(c[3],c[8]),b=max(c[3],c[8]),c[3]=a,c[8]=b,a=min(c[4],c[5]),b=max(c[4],c[5]),c[4]=a,c[5]=b,a=min(c[4],c[6]),b=max(c[4],c[6]),c[4]=a,c[6]=b,a=min(c[4],c[7]),b=max(c[4],c[7]),c[4]=a,c[7]=b,a=min(c[4],c[8]),b=max(c[4],c[8]),c[4]=a,c[8]=b,gl_FragColor=vec4(c[4]*g,1.);}",
f:"u1 u38 u36 u35 u34 u37 u7".split(" "),precision:"lowp"},{id:"s49",name:"_",Z:"attribute vec2 a0;uniform vec4 u38;uniform vec2 u35,u36;uniform float u34,u37;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.);float a=u37*(u38.z/u38.w);a*=u36.x/u36.y;float b=cos(u34),c=sin(u34);vec2 d=mat2(b,-c*a,c/a,b)*a0,f=u35+d*u36;vv0=u38.xy+.5*u38.zw*f;}",c:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",f:"u1 u38 u36 u35 u34 u37".split(" "),precision:"lowp"},{id:"s52",
name:"_",Z:"attribute vec2 a0;uniform vec4 u38;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=u38.xy+.5*u38.zw*a0;}",c:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;const vec3 g=vec3(1.,1.,1.);float c[5];void main(){c[0]=texture2D(u1,vv0-u7*vec2(-1.,0.)).r,c[1]=texture2D(u1,vv0-u7*vec2(0.,-1.)).r,c[2]=texture2D(u1,vv0-u7).r,c[3]=texture2D(u1,vv0-u7*vec2(0.,1.)).r,c[4]=texture2D(u1,vv0-u7*vec2(1.,0.)).r;float a,b;a=min(c[0],c[1]),b=max(c[0],c[1]),c[0]=a,c[1]=b,a=min(c[0],c[2]),b=max(c[0],c[2]),c[0]=a,c[2]=b,a=min(c[0],c[3]),b=max(c[0],c[3]),c[0]=a,c[3]=b,a=min(c[0],c[4]),b=max(c[0],c[4]),c[0]=a,c[4]=b,a=min(c[1],c[2]),b=max(c[1],c[2]),c[1]=a,c[2]=b,a=min(c[1],c[3]),b=max(c[1],c[3]),c[1]=a,c[3]=b,a=min(c[1],c[4]),b=max(c[1],c[4]),c[1]=a,c[4]=b,a=min(c[2],c[3]),b=max(c[2],c[3]),c[2]=a,c[3]=b,a=min(c[2],c[4]),b=max(c[2],c[4]),c[2]=a,c[4]=b,gl_FragColor=vec4(c[2]*g,1.);}",
f:["u1","u38","u7"],precision:"lowp"},{id:"s51",name:"_",Z:"attribute vec2 a0;uniform vec2 u35,u36;varying vec2 vv0;const vec2 f=vec2(1.,1.);void main(){gl_Position=vec4(a0,0.,1.);vec2 a=u35+a0*u36,b=(a+f)/2.;vv0=b;}",c:"uniform sampler2D u1;uniform vec4 u38;varying vec2 vv0;void main(){vec2 b=u38.xy-.5*u38.zw,c=u38.xy+.5*u38.zw,a=step(b,vv0)*step(vv0,c);gl_FragColor=mix(texture2D(u1,vv0),vec4(0.,1.,0.,1.),a.x*a.y*.5);}",f:["u1","u38","u36","u35"],precision:"lowp"}]);var f=[{type:"1i",name:"u1",value:0}];
x.u("s50",f);x.u("s49",f);x.u("s52",f);x.u("s51",f);M()}function M(){la=0;x.u("s49",pa);x.u("s50",pa);oa.roll=0}function L(){m.aspectRatio=m.width/m.height;ka.splice(0,ka.length);Y=0;m.Da=Math.round(m.width*B.margins);m.Ea=Math.round(m.height*B.margins);m.Ka=m.width-2*m.Da;m.Ja=m.height-2*m.Ea;var f=Math.min(m.width,m.height),u,G,C;for(u=0;u<B.nSweepSsteps;++u){var T=B.sweepScaleRange[0]+u/(B.nSweepSsteps-1)*(B.sweepScaleRange[1]-B.sweepScaleRange[0]);T*=f;var va=T/m.width;var ua=va*m.aspectRatio;
var xa=(m.Ka-T)*(m.Ja-T);var na=Math.min(Math.floor(xa/(B.sweepStepMinPx*B.sweepStepMinPx)),B.nSweepXYsteps);na=xa/na;var ra=Math.round(Math.sqrt(na));var Ja=Math.round((m.Ka-T)/ra);var Pa=Math.round((m.Ja-T)/ra);for(C=0;C<Pa;++C)for(xa=m.Ea+Math.round(T/2+ra*C),xa/=m.height,G=0;G<Ja;++G)na=m.Da+Math.round(T/2+ra*G),na/=m.width,ka.push([na,xa,va,ua])}if(B.sweepShuffle)for(f=ka,u=f.length-1;0<u;--u)T=Math.floor(Math.random()*(u+1)),va=f[u],f[u]=f[T],f[T]=va;else ka.reverse()}function I(f){ya={isLinear:!0,
width:m.width,height:m.height,A:f,isPot:!1,isFlipY:!0,isFloat:!1};b=Z.a(ya);ja=!0}function e(f,u,G){if(!f.exportData||!f.exportData.labels)return u("INVALID_NN");var C=f.exportData;"undefined"===typeof C.paramsPerLabel&&(C.paramsPerLabel={});"undefined"!==typeof G&&G.paramsPerLabel&&(C.paramsPerLabel=Object.assign(C.paramsPerLabel,G.paramsPerLabel));Qa.reset_state();Q=new jb;Q.oc(f.layers);Q.qc({lb:"cpuRGBA2Float",kc:H});y.X=Z.a({isFloat:!1,isPot:!1,width:Q.Rb()});aa=C.dxysFactors?C.dxysFactors:t.Wa;
C.rollMax?(Ba=C.rollMax,sa=!0):sa=!1;C.pitchRange?(Ca=C.pitchRange,W=!0):W=!1;ca=Q.Ub();f="undefined"===typeof G?{}:G;ta="undefined"===typeof f.notHereFactor?1:f.notHereFactor;f=C.labels;G="undefined"===typeof C.paramsPerLabel?!1:C.paramsPerLabel;var T="undefined"===typeof C.inputAspectRatio?1:C.inputAspectRatio;m.W[0]=Math.sqrt(T);m.W[1]=1/Math.sqrt(T);T!==m.la&&(m.la=T,L());T=Array(f.length);var va,ua;for(ua=0;ua<ca/8;++ua)for(va=0;va<ca;++va){var xa=va+ua*ca;if(xa>=f.length)break;var na=va;var ra=
8*ua;var Ja=f[xa];var Pa=G&&G[Ja]&&G[Ja].thresholdDetect?G[Ja].thresholdDetect:t.La;var kb=C.distances&&C.distances[xa]?C.distances[xa]:3;T[xa]={La:Pa,label:Ja,Ib:kb,hb:{here:na+ra*ca,notHere:na+(ra+1)*ca,yaw:na+(ra+2)*ca,dx:na+(ra+3)*ca,dy:na+(ra+4)*ca,ds:na+(ra+5)*ca,roll:na+(ra+6)*ca,pitch:na+(ra+7)*ca}}}ma=T;u(!1)}var t={ha:512,Wa:[.05,.05,.15],mc:{margins:.1,nSweepXYsteps:36,nSweepSsteps:4,sweepScaleRange:[.3,.7],sweepStepMinPx:16,sweepShuffle:!0},ob:[1/15,.9],gc:3,fc:3,La:.68,hc:10,bc:.03,dc:8,
vc:-.02,Cb:.02,qb:.7,ec:20,Hc:.3,wc:[.02,10]},B=Object.create(t.mc),aa=t.Wa,Ba,Ca,sa=!1,W=!1,c=0,E=0,J=!1,Q,U=!1,X=!1,ea,la=0,ba,m={aspectRatio:1,la:1,W:[1,1],width:0,height:0,U:0,T:0,Da:0,Ea:0,Ka:0,Ja:0,ia:"s49",v:{ba:[0,0],scale:[1,1]}},ka=[],Y=0,y={X:!1,j:[0,0,0,0]},z={ra:-2,LOADING:-1,$:0,qa:1,Na:2,ga_:3},O=z.ra,fa=-2,ma,ca;var Aa=k=0;var Fa=-1;var R={n:0,kb:0,Fa:0,D:-1,K:[0,0]};var da=0;var ja=b=d=!1;var ha=0;var wa=-1;var ya=null;var Ea=!1,oa={distance:0,label:!1,positionScale:[0,0,0,0],detectScore:0,
yaw:0,pitch:0,roll:0},Da=1,V=1,Ga=!1,v=!1,S,ta=1,za=t.qb,qa={thresholdDetectFactor:1,thresholdDetectFactorUnstitch:1,isSkipConfirmation:!1,isKeepTracking:!1,trackingFactors:[2,2,2],secondNeighborFactor:t.qb,nLocateAutomoves:t.hc,locateMoveNoiseAmplitude:t.bc,nConfirmAutoMoves:t.dc,nConfirmUnstitchMoves:t.ec,confirmMoveNoiseAmplitude:t.Cb,thresholdConfirmOffset:t.vc,tiltPosAngleIfAmbiguousDetection:t.wc,confirmScoreMinFactorDuringAutoMove:t.Ac},pa=[{type:"1f",name:"u34",value:0}],Ra,Sa,Ka,Ua,Va,Ta,
Oa,Wa,Qa={init:function(f){function u(G){f.callbackReady&&f.callbackReady(G)}if(O!==z.ra)return u("ALREADY_INITIALIZED");O=z.LOADING;if("undefined"!==typeof f.canvas)U=f.canvas,X=!1;else if("undefined"===typeof f.canvasId)U=document.createElement("canvas"),X=!1;else{U=document.getElementById(f.canvasId);if(!U)return u("INVALID_CANVASID"),!1;X=!0}"undefined"!==typeof f.isDebugRender&&(X=f.isDebugRender);X&&(U.style.display="block");f.scanSettings&&n(B,f.scanSettings);f.canvasSize&&(t.ha=f.canvasSize);
ea="undefined"===typeof f.followZRot?!1:f.followZRot;ba="undefined"===typeof f.ZRotRange?null:f.ZRotRange;Ea="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof WorkerGlobalScope;-1!==t.ha&&(U.width=t.ha,U.height=t.ha);Qa.set_source(f.video,f.videoCrop);if(!Ya.m({ca:U,width:U.width,height:U.height,debug:!1,jc:u.bind(null,"GLCONTEXT_LOST"),premultipliedAlpha:!1})||!Ya.Zb())return u("GL_INCOMPATIBLE"),!1;0===da&&(I(d),L());K();h();O=z.$;u(!1);return!0},set_source:function(f,
u){"undefined"!==typeof f&&f?(d=f,da=0,"VIDEO"===f.tagName?(m.U=d.videoWidth,m.T=d.videoHeight,ha=1):(m.U=d.width,m.T=d.height,ha=2),q(u)):da=1;-1===[z.ra,z.LOADING].indexOf(O)&&(ya&&ya.A&&(ya.A=f),L(),h(),2===ha&&b.refresh())},set_NN:function(f,u,G){if(1===fa)u&&u("NN_LOADING");else{var C=function(T){fa=0;u&&u(T)};fa=1;"string"===typeof f?ia(f,function(T){if(!T)return C("INVALID_NN");try{var va=JSON.parse(T)}catch(ua){return C("INVALID_NN")}e(va,C,G)},function(){C("NOTFOUND_NN")}):e(f,C,G)}},reset_state:function(){M();
Y=0;O=z.$},detect:function(f,u,G){if(O===z.LOADING||0!==fa)return oa;var C=Object.assign({},qa,G?G:{});Da=C.thresholdDetectFactor;V=C.thresholdDetectFactorUnstitch;Ga=C.isSkipConfirmation;v=C.isKeepTracking;S=C.trackingFactors;za=C.secondNeighborFactor;Ra=C.nLocateAutomoves;Sa=C.locateMoveNoiseAmplitude;Ka=C.nConfirmAutoMoves;Ta=C.thresholdConfirmOffset;Va=C.confirmMoveNoiseAmplitude;Ua=C.nConfirmUnstitchMoves;Oa=C.tiltPosAngleIfAmbiguousDetection;Wa=C.confirmScoreMinFactorDuringAutoMove;N.N();oa.label=
!1;if(0===da)1===ha&&wa!==d.currentTime&&(b.refresh(),wa=d.currentTime);else if(1===da){if(!ja){m.width=u.size.width;m.height=u.size.height;switch(G.cutShader){case "IOS":m.ia="s52";x.u("s52",[{name:"u7",type:"2f",value:[1/m.width,1/m.height]}]);break;case "median":m.ia="s50";break;default:m.ia="s49"}I(null);L()}b.yc(u.buffer)}f=f?f:t.gc;for(u=0;u<f;++u)y.X.H(),x.set(m.ia),ea&&sa&&x.I("u34",O===z.ga_?la:0),b.b(0),x.pa("u38",y.j),P.i(!1,!1),y.X.b(0),J=u===f-1,Q.F(!1,y.X),N.N();N.xc();X&&(a.viewport(0,
0,U.width,U.height),x.set("s51"),b.b(0),x.pa("u38",y.j),P.i(!1,!1),Ea&&a.commit?a.commit():a.flush());return oa},get_aspectRatio:function(){return m.width/m.height},set_scanSettings:function(f){n(B,f);L()},set_videoCrop:function(f){q(f);h();L()}};return Qa}();
;return JEEARAPI;})();